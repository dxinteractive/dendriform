_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[8],{"23aj":function(e,n,r){"use strict";r.r(n),r.d(n,"default",(function(){return Ur}));var t=r("KD1n"),o=r("ERkP"),i=r.n(o),a=r("j/s1");function u(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},i=Object.keys(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var c=r("Km8e"),s=r.n(c),l=function(e,n){var r=s()({},e,n);for(var t in e){var o;e[t]&&"object"===typeof n[t]&&s()(r,((o={})[t]=s()(e[t],n[t]),o))}return r},f={breakpoints:[40,52,64].map((function(e){return e+"em"}))},d=function(e){return"@media screen and (min-width: "+e+")"},p=function(e,n){return m(n,e,e)},m=function(e,n,r,t,o){for(n=n&&n.split?n.split("."):[n],t=0;t<n.length;t++)e=e?e[n[t]]:o;return e===o?r:e},h=function e(n){var r={},t=function(e){var t={},o=!1,i=e.theme&&e.theme.disableStyledSystemCache;for(var a in e)if(n[a]){var u=n[a],c=e[a],p=m(e.theme,u.scale,u.defaults);if("object"!==typeof c)s()(t,u(c,p,e));else{if(r.breakpoints=!i&&r.breakpoints||m(e.theme,"breakpoints",f.breakpoints),Array.isArray(c)){r.media=!i&&r.media||[null].concat(r.breakpoints.map(d)),t=l(t,b(r.media,u,p,c,e));continue}null!==c&&(t=l(t,v(r.breakpoints,u,p,c,e)),o=!0)}}return o&&(t=function(e){var n={};return Object.keys(e).sort((function(e,n){return e.localeCompare(n,void 0,{numeric:!0,sensitivity:"base"})})).forEach((function(r){n[r]=e[r]})),n}(t)),t};t.config=n,t.propNames=Object.keys(n),t.cache=r;var o=Object.keys(n).filter((function(e){return"config"!==e}));return o.length>1&&o.forEach((function(r){var o;t[r]=e(((o={})[r]=n[r],o))})),t},b=function(e,n,r,t,o){var i={};return t.slice(0,e.length).forEach((function(t,a){var u,c=e[a],l=n(t,r,o);c?s()(i,((u={})[c]=s()({},i[c],l),u)):s()(i,l)})),i},v=function(e,n,r,t,o){var i={};for(var a in t){var u=e[a],c=n(t[a],r,o);if(u){var l,f=d(u);s()(i,((l={})[f]=s()({},i[f],c),l))}else s()(i,c)}return i},g=function(e){var n=e.properties,r=e.property,t=e.scale,o=e.transform,i=void 0===o?p:o,a=e.defaultScale;n=n||[r];var u=function(e,r,t){var o={},a=i(e,r,t);if(null!==a)return n.forEach((function(e){o[e]=a})),o};return u.scale=t,u.defaults=a,u},y=function(e){void 0===e&&(e={});var n={};return Object.keys(e).forEach((function(r){var t=e[r];n[r]=!0!==t?"function"!==typeof t?g(t):t:g({property:r,scale:r})})),h(n)},w=function(){for(var e={},n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];r.forEach((function(n){n&&n.config&&s()(e,n.config)}));var o=h(e);return o},C=y({width:{property:"width",scale:"sizes",transform:function(e,n){return m(n,e,!function(e){return"number"===typeof e&&!isNaN(e)}(e)||e>1?e:100*e+"%")}},height:{property:"height",scale:"sizes"},minWidth:{property:"minWidth",scale:"sizes"},minHeight:{property:"minHeight",scale:"sizes"},maxWidth:{property:"maxWidth",scale:"sizes"},maxHeight:{property:"maxHeight",scale:"sizes"},size:{properties:["width","height"],scale:"sizes"},overflow:!0,overflowX:!0,overflowY:!0,display:!0,verticalAlign:!0}),k=C,S={color:{property:"color",scale:"colors"},backgroundColor:{property:"backgroundColor",scale:"colors"},opacity:!0};S.bg=S.backgroundColor;var O=y(S),x=O,j=y({fontFamily:{property:"fontFamily",scale:"fonts"},fontSize:{property:"fontSize",scale:"fontSizes",defaultScale:[12,14,16,20,24,32,48,64,72]},fontWeight:{property:"fontWeight",scale:"fontWeights"},lineHeight:{property:"lineHeight",scale:"lineHeights"},letterSpacing:{property:"letterSpacing",scale:"letterSpacings"},textAlign:!0,fontStyle:!0}),R=y({alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:!0,flex:!0,flexGrow:!0,flexShrink:!0,flexBasis:!0,justifySelf:!0,alignSelf:!0,order:!0}),P=R,E={space:[0,4,8,16,32,64,128,256,512]},A=y({gridGap:{property:"gridGap",scale:"space",defaultScale:E.space},gridColumnGap:{property:"gridColumnGap",scale:"space",defaultScale:E.space},gridRowGap:{property:"gridRowGap",scale:"space",defaultScale:E.space},gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridAutoRows:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0}),D={border:{property:"border",scale:"borders"},borderWidth:{property:"borderWidth",scale:"borderWidths"},borderStyle:{property:"borderStyle",scale:"borderStyles"},borderColor:{property:"borderColor",scale:"colors"},borderRadius:{property:"borderRadius",scale:"radii"},borderTop:{property:"borderTop",scale:"borders"},borderTopLeftRadius:{property:"borderTopLeftRadius",scale:"radii"},borderTopRightRadius:{property:"borderTopRightRadius",scale:"radii"},borderRight:{property:"borderRight",scale:"borders"},borderBottom:{property:"borderBottom",scale:"borders"},borderBottomLeftRadius:{property:"borderBottomLeftRadius",scale:"radii"},borderBottomRightRadius:{property:"borderBottomRightRadius",scale:"radii"},borderLeft:{property:"borderLeft",scale:"borders"},borderX:{properties:["borderLeft","borderRight"],scale:"borders"},borderY:{properties:["borderTop","borderBottom"],scale:"borders"},borderTopWidth:{property:"borderTopWidth",scale:"borderWidths"},borderTopColor:{property:"borderTopColor",scale:"colors"},borderTopStyle:{property:"borderTopStyle",scale:"borderStyles"}};D.borderTopLeftRadius={property:"borderTopLeftRadius",scale:"radii"},D.borderTopRightRadius={property:"borderTopRightRadius",scale:"radii"},D.borderBottomWidth={property:"borderBottomWidth",scale:"borderWidths"},D.borderBottomColor={property:"borderBottomColor",scale:"colors"},D.borderBottomStyle={property:"borderBottomStyle",scale:"borderStyles"},D.borderBottomLeftRadius={property:"borderBottomLeftRadius",scale:"radii"},D.borderBottomRightRadius={property:"borderBottomRightRadius",scale:"radii"},D.borderLeftWidth={property:"borderLeftWidth",scale:"borderWidths"},D.borderLeftColor={property:"borderLeftColor",scale:"colors"},D.borderLeftStyle={property:"borderLeftStyle",scale:"borderStyles"},D.borderRightWidth={property:"borderRightWidth",scale:"borderWidths"},D.borderRightColor={property:"borderRightColor",scale:"colors"},D.borderRightStyle={property:"borderRightStyle",scale:"borderStyles"};var N=y(D),I=N,B={background:!0,backgroundImage:!0,backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0};B.bgImage=B.backgroundImage,B.bgSize=B.backgroundSize,B.bgPosition=B.backgroundPosition,B.bgRepeat=B.backgroundRepeat;var T=y(B),F={space:[0,4,8,16,32,64,128,256,512]},M=y({position:!0,zIndex:{property:"zIndex",scale:"zIndices"},top:{property:"top",scale:"space",defaultScale:F.space},right:{property:"right",scale:"space",defaultScale:F.space},bottom:{property:"bottom",scale:"space",defaultScale:F.space},left:{property:"left",scale:"space",defaultScale:F.space}}),L=M,z={space:[0,4,8,16,32,64,128,256,512]},W=function(e){return"number"===typeof e&&!isNaN(e)},_=function(e,n){if(!W(e))return m(n,e,e);var r=e<0,t=Math.abs(e),o=m(n,t,t);return W(o)?o*(r?-1:1):r?"-"+o:o},U={};U.margin={margin:{property:"margin",scale:"space",transform:_,defaultScale:z.space},marginTop:{property:"marginTop",scale:"space",transform:_,defaultScale:z.space},marginRight:{property:"marginRight",scale:"space",transform:_,defaultScale:z.space},marginBottom:{property:"marginBottom",scale:"space",transform:_,defaultScale:z.space},marginLeft:{property:"marginLeft",scale:"space",transform:_,defaultScale:z.space},marginX:{properties:["marginLeft","marginRight"],scale:"space",transform:_,defaultScale:z.space},marginY:{properties:["marginTop","marginBottom"],scale:"space",transform:_,defaultScale:z.space}},U.margin.m=U.margin.margin,U.margin.mt=U.margin.marginTop,U.margin.mr=U.margin.marginRight,U.margin.mb=U.margin.marginBottom,U.margin.ml=U.margin.marginLeft,U.margin.mx=U.margin.marginX,U.margin.my=U.margin.marginY,U.padding={padding:{property:"padding",scale:"space",defaultScale:z.space},paddingTop:{property:"paddingTop",scale:"space",defaultScale:z.space},paddingRight:{property:"paddingRight",scale:"space",defaultScale:z.space},paddingBottom:{property:"paddingBottom",scale:"space",defaultScale:z.space},paddingLeft:{property:"paddingLeft",scale:"space",defaultScale:z.space},paddingX:{properties:["paddingLeft","paddingRight"],scale:"space",defaultScale:z.space},paddingY:{properties:["paddingTop","paddingBottom"],scale:"space",defaultScale:z.space}},U.padding.p=U.padding.padding,U.padding.pt=U.padding.paddingTop,U.padding.pr=U.padding.paddingRight,U.padding.pb=U.padding.paddingBottom,U.padding.pl=U.padding.paddingLeft,U.padding.px=U.padding.paddingX,U.padding.py=U.padding.paddingY;var V=w(y(U.margin),y(U.padding));y({boxShadow:{property:"boxShadow",scale:"shadows"},textShadow:{property:"textShadow",scale:"shadows"}});function H(){return(H=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}var G=function(e,n,r,t,o){for(n=n&&n.split?n.split("."):[n],t=0;t<n.length;t++)e=e?e[n[t]]:o;return e===o?r:e},Y=[40,52,64].map((function(e){return e+"em"})),q={space:[0,4,8,16,32,64,128,256,512],fontSizes:[12,14,16,20,24,32,48,64,72]},K={bg:"backgroundColor",m:"margin",mt:"marginTop",mr:"marginRight",mb:"marginBottom",ml:"marginLeft",mx:"marginX",my:"marginY",p:"padding",pt:"paddingTop",pr:"paddingRight",pb:"paddingBottom",pl:"paddingLeft",px:"paddingX",py:"paddingY"},X={marginX:["marginLeft","marginRight"],marginY:["marginTop","marginBottom"],paddingX:["paddingLeft","paddingRight"],paddingY:["paddingTop","paddingBottom"],size:["width","height"]},$={color:"colors",backgroundColor:"colors",borderColor:"colors",margin:"space",marginTop:"space",marginRight:"space",marginBottom:"space",marginLeft:"space",marginX:"space",marginY:"space",padding:"space",paddingTop:"space",paddingRight:"space",paddingBottom:"space",paddingLeft:"space",paddingX:"space",paddingY:"space",top:"space",right:"space",bottom:"space",left:"space",gridGap:"space",gridColumnGap:"space",gridRowGap:"space",gap:"space",columnGap:"space",rowGap:"space",fontFamily:"fonts",fontSize:"fontSizes",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",border:"borders",borderTop:"borders",borderRight:"borders",borderBottom:"borders",borderLeft:"borders",borderWidth:"borderWidths",borderStyle:"borderStyles",borderRadius:"radii",borderTopRightRadius:"radii",borderTopLeftRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",borderTopWidth:"borderWidths",borderTopColor:"colors",borderTopStyle:"borderStyles",borderBottomWidth:"borderWidths",borderBottomColor:"colors",borderBottomStyle:"borderStyles",borderLeftWidth:"borderWidths",borderLeftColor:"colors",borderLeftStyle:"borderStyles",borderRightWidth:"borderWidths",borderRightColor:"colors",borderRightStyle:"borderStyles",outlineColor:"colors",boxShadow:"shadows",textShadow:"shadows",zIndex:"zIndices",width:"sizes",minWidth:"sizes",maxWidth:"sizes",height:"sizes",minHeight:"sizes",maxHeight:"sizes",flexBasis:"sizes",size:"sizes",fill:"colors",stroke:"colors"},J=function(e,n){if("number"!==typeof n||n>=0)return G(e,n,n);var r=Math.abs(n),t=G(e,r,r);return"string"===typeof t?"-"+t:-1*t},Q=["margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","top","bottom","left","right"].reduce((function(e,n){var r;return H({},e,((r={})[n]=J,r))}),{}),Z=function e(n){return function(r){void 0===r&&(r={});var t=H({},q,{},r.theme||r),o={},i=function(e){return function(n){var r={},t=G(n,"breakpoints",Y),o=[null].concat(t.map((function(e){return"@media screen and (min-width: "+e+")"})));for(var i in e){var a="function"===typeof e[i]?e[i](n):e[i];if(null!=a)if(Array.isArray(a))for(var u=0;u<a.slice(0,o.length).length;u++){var c=o[u];c?(r[c]=r[c]||{},null!=a[u]&&(r[c][i]=a[u])):r[i]=a[u]}else r[i]=a}return r}}("function"===typeof n?n(t):n)(t);for(var a in i){var u=i[a],c="function"===typeof u?u(t):u;if("variant"!==a)if(c&&"object"===typeof c)o[a]=e(c)(t);else{var s=G(K,a,a),l=G($,s),f=G(t,l,G(t,s,{})),d=G(Q,s,G)(f,c,c);if(X[s])for(var p=X[s],m=0;m<p.length;m++)o[p[m]]=d;else o[s]=d}else o=H({},o,{},e(G(t,c))(t))}return o}},ee=function(e){var n,r,t=e.scale,o=e.prop,i=void 0===o?"variant":o,a=e.variants,u=void 0===a?{}:a,c=e.key;(r=Object.keys(u).length?function(e,n,r){return Z(m(n,e,null))(r.theme)}:function(e,n){return m(n,e,null)}).scale=t||c,r.defaults=u;var s=((n={})[i]=r,n);return h(s)},ne=(ee({key:"buttons"}),ee({key:"textStyles",prop:"textStyle"})),re=(ee({key:"colorStyles",prop:"colors"}),k.width,k.height,k.minWidth,k.minHeight,k.maxWidth,k.maxHeight,k.size,k.verticalAlign,k.display,k.overflow,k.overflowX,k.overflowY,x.opacity,j.fontSize),te=(j.fontFamily,j.fontWeight,j.lineHeight,j.textAlign,j.fontStyle,j.letterSpacing,P.alignItems,P.alignContent,P.justifyItems,P.justifyContent,P.flexWrap,P.flexDirection,P.flex,P.flexGrow,P.flexShrink,P.flexBasis,P.justifySelf,P.alignSelf,P.order,A.gridGap,A.gridColumnGap,A.gridRowGap,A.gridColumn,A.gridRow,A.gridAutoFlow,A.gridAutoColumns,A.gridAutoRows,A.gridTemplateColumns,A.gridTemplateRows,A.gridTemplateAreas,A.gridArea,I.borderWidth,I.borderStyle,I.borderColor,I.borderTop,I.borderRight,I.borderBottom,I.borderLeft,I.borderRadius,T.backgroundImage,T.backgroundSize,T.backgroundPosition,T.backgroundRepeat,L.zIndex,L.top,L.right,L.bottom,L.left,i.a.createElement);function oe(){var e=Object(t.a)(["\n    float: left;\n"]);return oe=function(){return e},e}function ie(){var e=Object(t.a)(['\n    &:after {\n        content: "";\n        clear: both;\n        display: table;\n    }\n']);return ie=function(){return e},e}function ae(){var e=Object(t.a)(["\n    margin: auto;\n    max-width: ",";\n    position: relative;\n    ","\n"]);return ae=function(){return e},e}function ue(){var e=Object(t.a)(["\n    display: flex;\n    ","\n"]);return ue=function(){return e},e}function ce(){var e=Object(t.a)(["\n    ","\n"]);return ce=function(){return e},e}var se=w(V,O,C,R,N,M),le=a.c.div(ce(),se),fe=a.c.div(ue(),se),de=Object(a.c)((function(e){var n=e.page,r=e.children,t=u(e,["page","children"]);return te(le,t,n?te(le,{px:[2,3,4],pb:5},r):r)}))(ae(),(function(e){return e.theme.widths.wrapper}),V),pe=Object(a.c)((function(e){var n=e.children,r=e.none,t=u(e,["children","none"]),o=r&&0===n.length?r:n.map((function(e,n){return te(me,{key:n,mr:2,mb:2},e)}));return te(le,t,o)}))(ie()),me=Object(a.c)(le)(oe());function he(){var e=Object(t.a)(["\n    color: ",";\n    text-decoration: none;\n    font-style: normal;\n    cursor: pointer;\n\n    &:hover, &:focus {\n        color: ",";\n        text-decoration: underline;\n    }\n\n    &:active {\n        color: ",";\n    }\n"]);return he=function(){return e},e}function be(){var e=Object(t.a)(["\n    font-size: ",";\n    color: ",";\n    line-height: 1.4em;\n"]);return be=function(){return e},e}function ve(){var e=Object(t.a)(["\n    font-size: ",";\n    color: ",";\n    line-height: 1.4em;\n"]);return ve=function(){return e},e}function ge(){var e=Object(t.a)(["\n    ","\n    ","\n    ","\n    ","\n"]);return ge=function(){return e},e}var ye=a.c.span(ge(),ne,V,O,re),we=a.c.h1(ve(),(function(e){return e.theme.fontSizes.bigger}),(function(e){return e.theme.colors.heading})),Ce=a.c.h2(be(),(function(e){return e.theme.fontSizes.big}),(function(e){return e.theme.colors.heading})),ke=a.c.a(he(),(function(e){return e.theme.colors.link}),(function(e){return e.theme.colors.link}),(function(e){return e.theme.colors.link}));function Se(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function Oe(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],t=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(t=(a=u.next()).done)&&(r.push(a.value),!n||r.length!==n);t=!0);}catch(c){o=!0,i=c}finally{try{t||null==u.return||u.return()}finally{if(o)throw i}}return r}}(e,n)||function(e,n){if(e){if("string"===typeof e)return Se(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Se(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(){return(xe=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}function je(e){for(var n=arguments.length,r=Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Re(e){return!!e&&!!e[vn]}function Pe(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var n=Object.getPrototypeOf(e);if(null===n)return!0;var r=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return"function"==typeof r&&Function.toString.call(r)===yn}(e)||Array.isArray(e)||!!e[bn]||!!e.constructor[bn]||Te(e)||Fe(e))}function Ee(e,n,r){void 0===r&&(r=!1),0===Ae(e)?(r?Object.keys:wn)(e).forEach((function(t){r&&"symbol"==typeof t||n(t,e[t],e)})):e.forEach((function(r,t){return n(t,r,e)}))}function Ae(e){var n=e[vn];return n?n.i>3?n.i-4:n.i:Array.isArray(e)?1:Te(e)?2:Fe(e)?3:0}function De(e,n){return 2===Ae(e)?e.has(n):Object.prototype.hasOwnProperty.call(e,n)}function Ne(e,n){return 2===Ae(e)?e.get(n):e[n]}function Ie(e,n,r){var t=Ae(e);2===t?e.set(n,r):3===t?(e.delete(n),e.add(r)):e[n]=r}function Be(e,n){return e===n?0!==e||1/e==1/n:e!=e&&n!=n}function Te(e){return dn&&e instanceof Map}function Fe(e){return pn&&e instanceof Set}function Me(e){return e.o||e.t}function Le(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var n=Cn(e);delete n[vn];for(var r=wn(n),t=0;t<r.length;t++){var o=r[t],i=n[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(n[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),n)}function ze(e,n){return void 0===n&&(n=!1),_e(e)||Re(e)||!Pe(e)||(Ae(e)>1&&(e.set=e.add=e.clear=e.delete=We),Object.freeze(e),n&&Ee(e,(function(e,n){return ze(n,!0)}),!0)),e}function We(){je(2)}function _e(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Ue(e){var n=kn[e];return n||je(18,e),n}function Ve(e,n){kn[e]||(kn[e]=n)}function He(){return ln}function Ge(e,n){n&&(Ue("Patches"),e.u=[],e.s=[],e.v=n)}function Ye(e){qe(e),e.p.forEach(Xe),e.p=null}function qe(e){e===ln&&(ln=e.l)}function Ke(e){return ln={p:[],l:ln,h:e,m:!0,_:0}}function Xe(e){var n=e[vn];0===n.i||1===n.i?n.j():n.g=!0}function $e(e,n){n._=n.p.length;var r=n.p[0],t=void 0!==e&&e!==r;return n.h.O||Ue("ES5").S(n,e,t),t?(r[vn].P&&(Ye(n),je(4)),Pe(e)&&(e=Je(n,e),n.l||Ze(n,e)),n.u&&Ue("Patches").M(r[vn],e,n.u,n.s)):e=Je(n,r,[]),Ye(n),n.u&&n.v(n.u,n.s),e!==hn?e:void 0}function Je(e,n,r){if(_e(n))return n;var t=n[vn];if(!t)return Ee(n,(function(o,i){return Qe(e,t,n,o,i,r)}),!0),n;if(t.A!==e)return n;if(!t.P)return Ze(e,t.t,!0),t.t;if(!t.I){t.I=!0,t.A._--;var o=4===t.i||5===t.i?t.o=Le(t.k):t.o;Ee(3===t.i?new Set(o):o,(function(n,i){return Qe(e,t,o,n,i,r)})),Ze(e,o,!1),r&&e.u&&Ue("Patches").R(t,r,e.u,e.s)}return t.o}function Qe(e,n,r,t,o,i){if(Re(o)){var a=Je(e,o,i&&n&&3!==n.i&&!De(n.D,t)?i.concat(t):void 0);if(Ie(r,t,a),!Re(a))return;e.m=!1}if(Pe(o)&&!_e(o)){if(!e.h.F&&e._<1)return;Je(e,o),n&&n.A.l||Ze(e,o)}}function Ze(e,n,r){void 0===r&&(r=!1),e.h.F&&e.m&&ze(n,r)}function en(e,n){var r=e[vn];return(r?Me(r):e)[n]}function nn(e,n){if(n in e)for(var r=Object.getPrototypeOf(e);r;){var t=Object.getOwnPropertyDescriptor(r,n);if(t)return t;r=Object.getPrototypeOf(r)}}function rn(e){e.P||(e.P=!0,e.l&&rn(e.l))}function tn(e){e.o||(e.o=Le(e.t))}function on(e,n,r){var t=Te(n)?Ue("MapSet").N(n,r):Fe(n)?Ue("MapSet").T(n,r):e.O?function(e,n){var r=Array.isArray(e),t={i:r?1:0,A:n?n.A:He(),P:!1,I:!1,D:{},l:n,t:e,k:null,o:null,j:null,C:!1},o=t,i=Sn;r&&(o=[t],i=On);var a=Proxy.revocable(o,i),u=a.revoke,c=a.proxy;return t.k=c,t.j=u,c}(n,r):Ue("ES5").J(n,r);return(r?r.A:He()).p.push(t),t}function an(e,n){switch(n){case 2:return new Map(e);case 3:return Array.from(e)}return Le(e)}function un(){function e(n){if(!Pe(n))return n;if(Array.isArray(n))return n.map(e);if(Te(n))return new Map(Array.from(n.entries()).map((function(n){return[n[0],e(n[1])]})));if(Fe(n))return new Set(Array.from(n).map(e));var r=Object.create(Object.getPrototypeOf(n));for(var t in n)r[t]=e(n[t]);return De(n,bn)&&(r[bn]=n[bn]),r}function n(n){return Re(n)?e(n):n}var r="add";Ve("Patches",{$:function(n,t){return t.forEach((function(t){for(var o=t.path,i=t.op,a=n,u=0;u<o.length-1;u++){var c=Ae(a),s=o[u];0!==c&&1!==c||"__proto__"!==s&&"constructor"!==s||je(24),"function"==typeof a&&"prototype"===s&&je(24),"object"!=typeof(a=Ne(a,s))&&je(15,o.join("/"))}var l=Ae(a),f=e(t.value),d=o[o.length-1];switch(i){case"replace":switch(l){case 2:return a.set(d,f);case 3:je(16);default:return a[d]=f}case r:switch(l){case 1:return a.splice(d,0,f);case 2:return a.set(d,f);case 3:return a.add(f);default:return a[d]=f}case"remove":switch(l){case 1:return a.splice(d,1);case 2:return a.delete(d);case 3:return a.delete(t.value);default:return delete a[d]}default:je(17,i)}})),n},R:function(e,t,o,i){switch(e.i){case 0:case 4:case 2:return function(e,t,o,i){var a=e.t,u=e.o;Ee(e.D,(function(e,c){var s=Ne(a,e),l=Ne(u,e),f=c?De(a,e)?"replace":r:"remove";if(s!==l||"replace"!==f){var d=t.concat(e);o.push("remove"===f?{op:f,path:d}:{op:f,path:d,value:l}),i.push(f===r?{op:"remove",path:d}:"remove"===f?{op:r,path:d,value:n(s)}:{op:"replace",path:d,value:n(s)})}}))}(e,t,o,i);case 5:case 1:return function(e,t,o,i){var a=e.t,u=e.D,c=e.o;if(c.length<a.length){var s=[c,a];a=s[0],c=s[1];var l=[i,o];o=l[0],i=l[1]}for(var f=0;f<a.length;f++)if(u[f]&&c[f]!==a[f]){var d=t.concat([f]);o.push({op:"replace",path:d,value:n(c[f])}),i.push({op:"replace",path:d,value:n(a[f])})}for(var p=a.length;p<c.length;p++){var m=t.concat([p]);o.push({op:r,path:m,value:n(c[p])})}a.length<c.length&&i.push({op:"replace",path:t.concat(["length"]),value:a.length})}(e,t,o,i);case 3:return function(e,n,t,o){var i=e.t,a=e.o,u=0;i.forEach((function(e){if(!a.has(e)){var i=n.concat([u]);t.push({op:"remove",path:i,value:e}),o.unshift({op:r,path:i,value:e})}u++})),u=0,a.forEach((function(e){if(!i.has(e)){var a=n.concat([u]);t.push({op:r,path:a,value:e}),o.unshift({op:"remove",path:a,value:e})}u++}))}(e,t,o,i)}},M:function(e,n,r,t){r.push({op:"replace",path:[],value:n}),t.push({op:"replace",path:[],value:e.t})}})}function cn(){function e(e,n){function r(){this.constructor=e}o(e,n),e.prototype=(r.prototype=n.prototype,new r)}function n(e){e.o||(e.D=new Map,e.o=new Map(e.t))}function r(e){e.o||(e.o=new Set,e.t.forEach((function(n){if(Pe(n)){var r=on(e.A.h,n,e);e.p.set(n,r),e.o.add(r)}else e.o.add(n)})))}function t(e){e.g&&je(3,JSON.stringify(Me(e)))}var o=function(e,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])})(e,n)},i=function(){function r(e,n){return this[vn]={i:2,l:n,A:n?n.A:He(),P:!1,I:!1,o:void 0,D:void 0,t:e,k:this,C:!1,g:!1},this}e(r,Map);var o=r.prototype;return Object.defineProperty(o,"size",{get:function(){return Me(this[vn]).size}}),o.has=function(e){return Me(this[vn]).has(e)},o.set=function(e,r){var o=this[vn];return t(o),Me(o).has(e)&&Me(o).get(e)===r||(n(o),rn(o),o.D.set(e,!0),o.o.set(e,r),o.D.set(e,!0)),this},o.delete=function(e){if(!this.has(e))return!1;var r=this[vn];return t(r),n(r),rn(r),r.D.set(e,!1),r.o.delete(e),!0},o.clear=function(){var e=this[vn];t(e),Me(e).size&&(n(e),rn(e),e.D=new Map,Ee(e.t,(function(n){e.D.set(n,!1)})),e.o.clear())},o.forEach=function(e,n){var r=this;Me(this[vn]).forEach((function(t,o){e.call(n,r.get(o),o,r)}))},o.get=function(e){var r=this[vn];t(r);var o=Me(r).get(e);if(r.I||!Pe(o))return o;if(o!==r.t.get(e))return o;var i=on(r.A.h,o,r);return n(r),r.o.set(e,i),i},o.keys=function(){return Me(this[vn]).keys()},o.values=function(){var e,n=this,r=this.keys();return(e={})[gn]=function(){return n.values()},e.next=function(){var e=r.next();return e.done?e:{done:!1,value:n.get(e.value)}},e},o.entries=function(){var e,n=this,r=this.keys();return(e={})[gn]=function(){return n.entries()},e.next=function(){var e=r.next();if(e.done)return e;var t=n.get(e.value);return{done:!1,value:[e.value,t]}},e},o[gn]=function(){return this.entries()},r}(),a=function(){function n(e,n){return this[vn]={i:3,l:n,A:n?n.A:He(),P:!1,I:!1,o:void 0,t:e,k:this,p:new Map,g:!1,C:!1},this}e(n,Set);var o=n.prototype;return Object.defineProperty(o,"size",{get:function(){return Me(this[vn]).size}}),o.has=function(e){var n=this[vn];return t(n),n.o?!!n.o.has(e)||!(!n.p.has(e)||!n.o.has(n.p.get(e))):n.t.has(e)},o.add=function(e){var n=this[vn];return t(n),this.has(e)||(r(n),rn(n),n.o.add(e)),this},o.delete=function(e){if(!this.has(e))return!1;var n=this[vn];return t(n),r(n),rn(n),n.o.delete(e)||!!n.p.has(e)&&n.o.delete(n.p.get(e))},o.clear=function(){var e=this[vn];t(e),Me(e).size&&(r(e),rn(e),e.o.clear())},o.values=function(){var e=this[vn];return t(e),r(e),e.o.values()},o.entries=function(){var e=this[vn];return t(e),r(e),e.o.entries()},o.keys=function(){return this.values()},o[gn]=function(){return this.values()},o.forEach=function(e,n){for(var r=this.values(),t=r.next();!t.done;)e.call(n,t.value,t.value,this),t=r.next()},n}();Ve("MapSet",{N:function(e,n){return new i(e,n)},T:function(e,n){return new a(e,n)}})}var sn,ln,fn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),dn="undefined"!=typeof Map,pn="undefined"!=typeof Set,mn="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,hn=fn?Symbol.for("immer-nothing"):((sn={})["immer-nothing"]=!0,sn),bn=fn?Symbol.for("immer-draftable"):"__$immer_draftable",vn=fn?Symbol.for("immer-state"):"__$immer_state",gn="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",yn=""+Object.prototype.constructor,wn="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Cn=Object.getOwnPropertyDescriptors||function(e){var n={};return wn(e).forEach((function(r){n[r]=Object.getOwnPropertyDescriptor(e,r)})),n},kn={},Sn={get:function(e,n){if(n===vn)return e;var r=Me(e);if(!De(r,n))return function(e,n,r){var t,o=nn(n,r);return o?"value"in o?o.value:null===(t=o.get)||void 0===t?void 0:t.call(e.k):void 0}(e,r,n);var t=r[n];return e.I||!Pe(t)?t:t===en(e.t,n)?(tn(e),e.o[n]=on(e.A.h,t,e)):t},has:function(e,n){return n in Me(e)},ownKeys:function(e){return Reflect.ownKeys(Me(e))},set:function(e,n,r){var t=nn(Me(e),n);if(null==t?void 0:t.set)return t.set.call(e.k,r),!0;if(!e.P){var o=en(Me(e),n),i=null==o?void 0:o[vn];if(i&&i.t===r)return e.o[n]=r,e.D[n]=!1,!0;if(Be(r,o)&&(void 0!==r||De(e.t,n)))return!0;tn(e),rn(e)}return e.o[n]===r&&"number"!=typeof r||(e.o[n]=r,e.D[n]=!0,!0)},deleteProperty:function(e,n){return void 0!==en(e.t,n)||n in e.t?(e.D[n]=!1,tn(e),rn(e)):delete e.D[n],e.o&&delete e.o[n],!0},getOwnPropertyDescriptor:function(e,n){var r=Me(e),t=Reflect.getOwnPropertyDescriptor(r,n);return t?{writable:!0,configurable:1!==e.i||"length"!==n,enumerable:t.enumerable,value:r[n]}:t},defineProperty:function(){je(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){je(12)}},On={};Ee(Sn,(function(e,n){On[e]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}})),On.deleteProperty=function(e,n){return Sn.deleteProperty.call(this,e[0],n)},On.set=function(e,n,r){return Sn.set.call(this,e[0],n,r,e[0])};var xn=new(function(){function e(e){var n=this;this.O=mn,this.F=!0,this.produce=function(e,r,t){if("function"==typeof e&&"function"!=typeof r){var o=r;r=e;var i=n;return function(e){var n=this;void 0===e&&(e=o);for(var t=arguments.length,a=Array(t>1?t-1:0),u=1;u<t;u++)a[u-1]=arguments[u];return i.produce(e,(function(e){var t;return(t=r).call.apply(t,[n,e].concat(a))}))}}var a;if("function"!=typeof r&&je(6),void 0!==t&&"function"!=typeof t&&je(7),Pe(e)){var u=Ke(n),c=on(n,e,void 0),s=!0;try{a=r(c),s=!1}finally{s?Ye(u):qe(u)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return Ge(u,t),$e(e,u)}),(function(e){throw Ye(u),e})):(Ge(u,t),$e(a,u))}if(!e||"object"!=typeof e){if((a=r(e))===hn)return;return void 0===a&&(a=e),n.F&&ze(a,!0),a}je(21,e)},this.produceWithPatches=function(e,r){return"function"==typeof e?function(r){for(var t=arguments.length,o=Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];return n.produceWithPatches(r,(function(n){return e.apply(void 0,[n].concat(o))}))}:[n.produce(e,r,(function(e,n){t=e,o=n})),t,o];var t,o},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var n=e.prototype;return n.createDraft=function(e){Pe(e)||je(8),Re(e)&&(e=function(e){return Re(e)||je(22,e),function e(n){if(!Pe(n))return n;var r,t=n[vn],o=Ae(n);if(t){if(!t.P&&(t.i<4||!Ue("ES5").K(t)))return t.t;t.I=!0,r=an(n,o),t.I=!1}else r=an(n,o);return Ee(r,(function(n,o){t&&Ne(t.t,n)===o||Ie(r,n,e(o))})),3===o?new Set(r):r}(e)}(e));var n=Ke(this),r=on(this,e,void 0);return r[vn].C=!0,qe(n),r},n.finishDraft=function(e,n){var r=(e&&e[vn]).A;return Ge(r,n),$e(void 0,r)},n.setAutoFreeze=function(e){this.F=e},n.setUseProxies=function(e){e&&!mn&&je(20),this.O=e},n.applyPatches=function(e,n){var r;for(r=n.length-1;r>=0;r--){var t=n[r];if(0===t.path.length&&"replace"===t.op){e=t.value;break}}var o=Ue("Patches").$;return Re(e)?o(e,n):this.produce(e,(function(e){return o(e,n.slice(r+1))}))},e}()),jn=xn.produce,Rn=xn.produceWithPatches.bind(xn),Pn=(xn.setAutoFreeze.bind(xn),xn.setUseProxies.bind(xn),xn.applyPatches.bind(xn)),En=(xn.createDraft.bind(xn),xn.finishDraft.bind(xn),jn);function An(){return(An=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}var Dn=function(e,n){return new Error("Cant access property "+String(n)+" of "+String(e))};function Nn(e){return e instanceof Map?3:Array.isArray(e)?2:e instanceof Object?1:0}function In(e,n){var r=Nn(e);if(0===r)throw Dn(e,n);return 3===r?e.get(n):e[n]}function Bn(e,n){return n.reduce((function(e,n){return In(e,n)}),e)}function Tn(e,n){var r=Nn(e);if(0===r)throw Dn(e,"any");1===r&&Object.keys(e).forEach((function(r){return n(e[r],r)})),2!==r&&3!==r||e.forEach(n)}function Fn(e){return 1===e?{}:2===e?[]:3===e?new Map:void 0}var Mn=function(e,n){return n.map((function(n){var r=An({},n,{path:e.concat(n.path)});return n.from&&(r.from=e.concat(n.from)),r}))};un();var Ln=function(e,n){var r,t,o=[],i=[],a=function(){if(0!==i.length){if(t){var n=Bn(e,t),r=function(e,n){return n.filter((function(n){return e.every((function(e,r){return e===n.path[r]}))})).map((function(n){return An({},n,{path:n.path.slice(e.length)})}))}(t,i),a=zn(n,r),u=Mn(t,a);o=o.concat(u)}else o=o.concat(i);i=[]}};return n.forEach((function(n){var o=n.path.slice(0,-1),u=function(e,n){var t=JSON.stringify(n);if(r&&r[1]===t)return r[0];var o=Array.isArray(Bn(e,n));return r=[o,t],o}(e,o)?o:void 0;JSON.stringify(u)!==JSON.stringify(t)&&(a(),t=u),i.push(n)})),a(),o},zn=function(e,n){var r=[],t=0,o=new Map,i=new Map,a=function(e){if(o.has(e))return o.get(e);var n=t++;return o.set(e,n),i.set(n,e),n},u=e.map(a),c=new Set(u),s=[];if(1===n.length&&0===n[0].path.length){var l=n[0].value;if(!Array.isArray(l))return n;s=l.map(a)}else{var f=n.map((function(e){var n=e.op,r=e.value,t=e.path;return"remove"===n||"replace"===n&&1===t.length&&"length"===t[0]?e:An({},e,{value:a(r)})}));s=Pn(u,f)}var d=s.filter((function(e){return c.has(e)})),p=u.slice();return d.forEach((function(e,n){if(e!==p[n]){var t=p.indexOf(e);r.push({op:"move",from:[t],path:[n]}),p.splice(t,1),p.splice(n,0,e)}})),d.length<u.length&&r.push({op:"replace",path:["length"],value:d.length}),s.forEach((function(e,n){if(!c.has(e)){var t=i.get(e);r.push({op:"add",path:[n],value:t})}})),r},Wn=function(e,n){return n.forEach((function(n){if("move"===n.op){var r=n.from;e=Pn(e,[{op:"remove",path:r},{op:"add",path:n.path,value:Bn(e,r)}])}else e=Pn(e,[n])})),e};function _n(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function Un(){return(Un=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}function Vn(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function Hn(e,n){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,n){if(e){if("string"===typeof e)return Vn(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vn(e,n):void 0}}(e))||n&&e&&"number"===typeof e.length){r&&(e=r);var t=0;return function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}function Gn(e){return"function"===typeof e}var Yn=function(e,n){return{__patches:Gn(e)?e:function(){return e},__patchesInverse:n?Gn(n)?n:function(){return n}:function(){return[]}}},qn=Yn([],[]);function Kn(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];throw new Error("[Dendriform] minified error #"+e+": "+(r.length?r.map((function(e){return JSON.stringify(e)})).join(", "):""))}var Xn=function(e,n){e[n.id]=n},$n=function(e,n,r,t,o){var i=In(r.child,o);if("string"===typeof i)return function(e,n){return e[n]}(e,i);var a=n(t,r.id);return Xn(e,a),function(e,n,r){var t=Nn(e);if(0===t)throw Dn(e,n);if(3===t)return e.set(n,r);e[n]=r}(r.child,o,a.id),a},Jn=function(e,n,r,t){for(var o,i=e[0],a=r,u=Hn(t);!(o=u()).done;){var c=o.value;i&&0!==i.type?(a=In(a,c),i=$n(e,n,i,a,c)):i=void 0}return i},Qn=function(e,n){var r=void 0;return Tn(e.child,(function(e,t){e===n.id&&(r=t)})),r},Zn=function e(n,r,t){void 0===t&&(t=!1);var o=In(n,r);o&&(o.child&&Tn(o.child,(function(r){return e(n,r)})),t||delete n[r])},er=function(e,n,r){var t=In(e,n);if(t){var o=Nn(r);2!==o&&o===t.type||(Zn(e,n,!0),e[n]=Un({},t,{type:o,child:Fn(o)}))}},nr=function(e){var n,r=this;this.dendriforms=new Map,this.deriveCallbackRefs=new Set,this.changeCallbackRefs=new Set,this.nodes={},this.nodeCountRef={current:0},this.newNodeCreator=(n=this.nodeCountRef,function(e,r){void 0===r&&(r="");var t=Nn(e),o=""+n.current++;return{type:t,child:Fn(t),parentId:r,id:o}}),this.getPath=function(e){return function(e,n){var r=In(e,n);if(r){for(var t=[];r&&""!==r.parentId;){var o=In(e,r.parentId),i=Qn(o,r);if(void 0===i)return;t.unshift(i),r=o}return t}}(r.nodes,e)},this.getPathOrError=function(e){var n=r.getPath(e);return n||Kn(0,e),n},this.getValue=function(e){var n=r.getPath(e);if(n)return Bn(r.value,n)},this.getIndex=function(e){var n=r.getPath(e);if(!n)return-1;var t=n.slice(-1)[0];return"number"!==typeof t&&Kn(4,n),t},this.valueGettersByType={value:this.getValue,index:this.getIndex,history:function(e){return r.historyState}},this.createForm=function(e){var n=e.id,t=new tr({__branch:{core:r,id:n}});return r.dendriforms.set(n,t),t},this.getFormAt=function(e){var n;return r.nodes=En(r.nodes,(function(t){var o=Jn(t,r.newNodeCreator,r.value,e);n=Re(o)?function(e){return Re(e)||je(23,e),e[vn].t}(o):o})),n||Kn(1,e),r.dendriforms.get(n.id)||r.createForm(n)},this.bufferingChanges=!1,this.replaceByDefault=!1,this.set=function(e,n){var t,o,i=r.getPath(e);if(i){var a=function(e,n){if(function(e){var n=e;return n&&!!n.__patches&&!!n.__patchesInverse}(n)){var r=n.__patches(e),t=n.__patchesInverse(e);return[Wn(e,r),r,t]}var o=Rn(e,(function(e){return function(e){return"function"===typeof e}(n)?n(e):void 0===n?hn:n})),i=o[0],a=o[1],u=o[2];return[i,a?Ln(e,a):[{op:"replace",path:[],value:i}],u?Ln(i,u):[{op:"replace",path:[],value:e}]]}(r.getValue(e),n),u=a[1],c=a[2],s=Mn(i,u),l=Mn(i,c),f=function(e,n,r,t){var o=Rn(e,(function(e){var o=[];t.forEach((function(t){var i,a=t.path,u=t.value,c=t.op;if(0!==a.length||"replace"!==c){var s=Jn(e,n,r,a.slice(0,-1));if(s){var l=[s.id,"child"],f=a[a.length-1];if("add"===c&&2!==s.type&&In(s.child||{},f)&&(c="replace"),"add"===c){var d=n(u,s.id);return Xn(e,d),void o.push({op:c,path:[].concat(l,[f]),value:d.id})}if("move"===c&&t.from){var p=t.from[t.from.length-1];o.push({op:c,path:[].concat(l,[f]),from:[].concat(l,[p])})}else{var m=null===(i=Jn(e,n,r,a))||void 0===i?void 0:i.id;if("remove"===c)return Zn(e,m),void o.push({op:c,path:[].concat(l,[f])});"replace"!==c||er(e,m,u)}}}else er(e,"0",u)})),Wn(e,o)}));return o[1].forEach((function(e){return e.namespace="nodes"})),o[2].forEach((function(e){return e.namespace="nodes"})),o}(r.nodes,r.newNodeCreator,r.value,s),d={do:{value:s,nodes:f[1]},undo:{value:l,nodes:f[2]}};if(r.applyChanges(d.do),!r.going&&!r.deriving){var p=!!r.setBuffer;p?r.historyReplace(d):r.historyPush(d),r.setBuffer={value:((null===(t=r.setBuffer)||void 0===t?void 0:t.value)||[]).concat(d.do.value),nodes:((null===(o=r.setBuffer)||void 0===o?void 0:o.nodes)||[]).concat(d.do.nodes)},d.do.value.length>0&&r.callAllDeriveCallbacks(0,p),r.callAllChangeCallbacks()}}},this.applyChanges=function(e){var n,t;r.value=Wn(r.value,e.value),r.nodes=Wn(r.nodes,e.nodes),r.changeBuffer={value:((null===(n=r.changeBuffer)||void 0===n?void 0:n.value)||[]).concat(e.value),nodes:((null===(t=r.changeBuffer)||void 0===t?void 0:t.nodes)||[]).concat(e.nodes)}},this.replace=function(e){e?r.setBuffer||(r.setBuffer={value:[],nodes:[]}):r.setBuffer=void 0},this.newHistoryItem=function(){r.setBuffer=r.replaceByDefault?{value:[],nodes:[]}:void 0},this.deriving=!1,this.callAllDeriveCallbacks=function(e,n){r.deriveCallbackRefs.forEach((function(t){r.derive(t,e,n)}))},this.derive=function(e,n,t){var o;if(!r.deriving){r.deriving=!0;var i=e[0],a=null!==(o=r.changeBuffer)&&void 0!==o?o:{value:[],nodes:[]};i(r.value,{go:n,replace:t,patches:a}),r.deriving=!1}},this.buffer=function(){r.bufferingChanges=!0,r.newHistoryItem()},this.done=function(){r.bufferingChanges=!1,r.callAllChangeCallbacks()},this.callAllChangeCallbacks=function(){r.bufferingChanges||(r.newHistoryItem(),r.changeBuffer&&(r.changeCallbackRefs.forEach((function(e){var n=e[0],t=e[1],o=r.valueGettersByType[n](t);r.change(e,o,r.changeBuffer)})),r.changeBuffer=void 0))},this.change=function(e,n,r){var t=e[2],o=e[3];Object.is(n,o)||(t(n,{patches:r}),e[3]=n)},this.historyIndex=0,this.historyStack=[],this.historyState={canUndo:!1,canRedo:!1},this.historyPush=function(e){r.historyStack.length=r.historyIndex,r.historyStack.push(e),r.historyStack.length>r.historyLimit?r.historyStack.shift():r.historyIndex++,r.updateHistoryState()},this.historyReplace=function(e){if(0!==r.historyIndex){r.historyStack.length=r.historyIndex;var n=r.historyStack[r.historyIndex-1];r.historyStack[r.historyIndex-1]={do:{value:n.do.value.concat(e.do.value),nodes:n.do.nodes.concat(e.do.nodes)},undo:{value:e.undo.value.concat(n.undo.value),nodes:e.undo.nodes.concat(n.undo.nodes)}}}},this.going=!1,this.go=function(e){if(0!==e&&!r.going){r.going=!0;var n=Math.min(Math.max(0,r.historyIndex+e),r.historyStack.length),t=e>0?r.historyStack.slice(r.historyIndex,n).map((function(e){return e.do})):r.historyStack.slice(n,r.historyIndex).reverse().map((function(e){return e.undo})),o={value:[],nodes:[]};t.forEach((function(e){var n,r;(n=o.value).push.apply(n,e.value),(r=o.nodes).push.apply(r,e.nodes)})),r.historyIndex=n,r.updateHistoryState(),r.applyChanges(o),r.callAllDeriveCallbacks(e,!1),r.callAllChangeCallbacks(),r.going=!1}},this.updateHistoryState=function(){var e=r.historyIndex>0,n=r.historyIndex<r.historyStack.length;e===r.historyState.canUndo&&n===r.historyState.canRedo||(r.historyState={canUndo:e,canRedo:n})},this.value=e.initialValue,Xn(this.nodes,this.newNodeCreator(this.value)),this.historyLimit=e.options.history||0,this.replaceByDefault=!!e.options.replace},rr=i.a.memo((function(e){return i.a.createElement(i.a.Fragment,null,e.renderer())}),(function(e,n){return function(e,n){if(e===n)return!0;if(!e||!n)return!1;var r=e.length;if(n.length!==r)return!1;for(var t=0;t<r;t++)if(e[t]!==n[t])return!1;return!0}(e.deps,n.deps)})),tr=function(){function e(e,n){var r=this;if(void 0===n&&(n={}),this.set=function(e){r.core.set(r.id,e)},this.setParent=function(e){var n=r.core.getPathOrError(r.id),t=r.core.getFormAt(n.slice(0,-1));r.core.set(t.id,e(n[n.length-1]))},this.undo=function(){return r.core.go(-1)},this.redo=function(){return r.core.go(1)},this.go=function(e){return r.core.go(e)},this.replace=function(e){return void 0===e&&(e=!0),r.core.replace(e)},this.buffer=function(){return r.core.buffer()},this.done=function(){return r.core.done()},e instanceof Object&&e.__branch){var t=e.__branch;return this.core=t.core,void(this.id=t.id)}this.id="0",this.core=new nr({initialValue:e,options:n})}var n,r,t,a=e.prototype;return a.onChange=function(e,n){var r=this,t=[n||"value",this.id,e,this.value];return this.core.changeCallbackRefs.add(t),function(){r.core.changeCallbackRefs.delete(t)}},a.onDerive=function(e){var n=this,r=[e];return this.core.deriveCallbackRefs.add(r),this.core.derive(r,0,!0),this.core.callAllChangeCallbacks(),function(){n.core.deriveCallbackRefs.delete(r)}},a.useValue=function(){var e=this,n=Object(o.useState)((function(){return e.value})),r=n[0],t=n[1];return this.useChange(t),r},a.useIndex=function(){var e=this,n=Object(o.useState)((function(){return e.index})),r=n[0],t=n[1];return this.useChange(t,"index"),r},a.useChange=function(e,n){var r=this;Object(o.useEffect)((function(){return r.onChange(e,n||"value")}),[])},a.useDerive=function(e){var n=this;Object(o.useEffect)((function(){return n.onDerive(e)}),[])},a.useHistory=function(){var e=Object(o.useState)(this.core.historyState),n=e[0],r=e[1];return this.useChange(r,"history"),n},a.branch=function(e){var n=[].concat(null!==e&&void 0!==e?e:[]),r=this.core.getPathOrError(this.id);return this.core.getFormAt(r.concat(n))},a.branchAll=function(e){var n=this.branch(e),r=n.value;return Array.isArray(r)||Kn(2),r.map((function(e,r){return n.branch(r)}))},a.render=function(e,n,r){var t="function"===typeof e,o=t?e:n,a=t?n:r,u=t?this:this.branch(e);return i.a.createElement(rr,{renderer:function(){return o(u)},deps:a})},a.renderAll=function(e,n,r){var t="function"===typeof e,o=t?e:n,a=t?n:r,u=t?this:this.branch(e);return i.a.createElement(rr,{renderer:function(){var e=u.useValue();return Array.isArray(e)||Kn(3),e.map((function(e,n){var r=u.branch(n);return i.a.createElement(rr,{key:r.id,renderer:function(){return o(r)},deps:a})}))},deps:a})},n=e,(r=[{key:"value",get:function(){return this.core.getValue(this.id)}},{key:"index",get:function(){return this.core.getIndex(this.id)}},{key:"history",get:function(){return this.core.historyState}}])&&_n(n.prototype,r),t&&_n(n,t),e}(),or=function(e,n){return void 0===n&&(n={}),Object(o.useState)((function(){var r="function"===typeof e?e():e;return new tr(r,n)}))[0]},ir=function(e,n){return[{op:"add",path:[e],value:n}]},ar=function(e){return[{op:"remove",path:[e]}]},ur=function(e){return Yn(ir(0,e),ar(0))},cr=function(){return Yn(ar(0),(function(e){return ir(0,e[0])}))},sr=function(e){return Yn((function(n){return ir(n.length,e)}),(function(e){return ar(e.length)}))},lr=function(){return Yn((function(e){return ar(e.length-1)}),(function(e){return ir(e.length-1,e[e.length-1])}))},fr=function(){return Yn([{op:"remove",path:[]}],(function(e){return[{op:"add",path:[],value:e}]}))},dr=function(e,n){var r=function(e,n){var r=e.length;return n<0?n+r:n>=r?n-r:n};return Yn((function(t){return[{op:"move",from:[r(t,e)],path:[r(t,n)]}]}),(function(t){return[{op:"move",from:[r(t,n)],path:[r(t,e)]}]}))},pr=function(e,n){void 0===n&&(n=0);var r=e.useValue()||"",t=Object(o.useState)(r),i=t[0],a=t[1],u=Object(o.useState)(r),c=u[0],s=u[1];r!==i&&(a(r),s(r));var l=function(e,n,r){var t=Object(o.useRef)(0);return Object(o.useCallback)((function(r){var o=++t.current;setTimeout((function(){return o===t.current&&n(r)}),e)}),r)}(n,(function(n){e.set(n)}),[]);return{value:c,onChange:Object(o.useCallback)((function(e){var n=e.target.value;s(n),l(n)}),[])}},mr=function(e,n,r){Object(o.useEffect)((function(){return function(e,n,r){e.core.historyLimit!==n.core.historyLimit&&Kn(5);var t=e.onDerive((function(e,t){var o=t.go,i=t.replace;if(o)return n.go(o);n.replace(i),r?r(e,t):n.set(qn)})),o=n.onDerive((function(n,r){var t=r.go,o=r.replace;if(t)return e.go(t);o&&e.replace(),e.set(qn)}));return function(){t(),o()}}(e,n,r)}),[])},hr=r("bPu0"),br=i.a.createElement;function vr(){var e=Object(t.a)(["\n    font-family: ",";\n    color: ",";\n    font-size: 14px;\n    line-height: 1.4em;\n    background-color: ",";\n\n    display: block;\n        overflow: auto;\n        padding: 1rem;\n\n    code {\n\n    }\n"]);return vr=function(){return e},e}function gr(){var e=Object(t.a)(["\n    background-color: ",";\n    padding: 1rem;\n"]);return gr=function(){return e},e}function yr(){var e=Object(t.a)(["\n    label {\n        display: block;\n        margin-bottom: .5rem;\n\n        input, select, textarea {\n            margin-left: 1rem;\n        }\n    }\n\n    input, select, textarea {\n        background-color: ",";\n        border: none;\n        color: ",";\n        font-family: ",";\n        font-size: 1rem;\n        padding: .25rem .5rem;\n    }\n\n    code {\n        background-color: ",";\n        border: none;\n        color: ",";\n        font-family: ",";\n        font-size: 1rem;\n        padding: .25rem .5rem;\n        margin-bottom: 1rem;\n        display: block;\n    }\n\n    button {\n        background-color: ",";\n        border: none;\n        font-family: ",";\n        font-size: .9rem;\n        padding: .25rem .5rem;\n        margin-bottom: .3rem;\n        margin-right: .3rem;\n        cursor: pointer;\n        opacity: .8;\n\n        &:hover {\n            opacity: 1;\n        }\n\n        &:disabled {\n            opacity: .5;\n            cursor: default;\n        }\n    }\n\n    fieldset {\n        border-top: 1px solid ",";\n        border-bottom: 1px solid ",";\n        margin: 1rem 0;\n        padding: 1rem 0;\n\n        ul, button {\n            margin-left: 1rem;\n        }\n    }\n\n    legend {\n        padding-right: .5rem;\n    }\n"]);return yr=function(){return e},e}function wr(){var e=Object(t.a)(["\n    background-color: ",";\n    width: 100%;\n\n    ","\n"]);return wr=function(){return e},e}function Cr(){var e=Object(t.a)(["\n    padding: .25rem;\n    ","\n"]);return Cr=function(){return e},e}var kr=new tr(1);window.persistentForm=kr;var Sr=Object(o.memo)((function(){var e=kr.useValue(),n=Object(o.useCallback)((function(){return kr.set((function(e){return e+1}))}),[]);return br(Ar,null,br("code",null,"Value: ",e),br("button",{onClick:n},"Add 1"))}));var Or=function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.firstName="",this.lastName="",this[bn]=!0};cn();var xr=function(e,n){return e.setParent((function(e){return dr(e,e+n)}))};function jr(e){return e.form.renderAll((function(e){var n="".concat(e.id),r=e.useIndex(),t=Object(o.useCallback)((function(){return e.set(fr())}),[]);return br(hr.b,{key:n,draggableId:n,index:r},(function(n){return br("div",xe({ref:n.innerRef},n.draggableProps,n.dragHandleProps),br(Ar,null,br("label",null,"colour: ",br("input",pr(e,150))),br("button",{onClick:t},"remove")))}))}))}var Rr={name:"",age:""};for(var Pr="",Er=0;Er<20;Er++)Pr+="\n        &.flash".concat(Er," {animation: Flash").concat(Er," 0.5s linear;}\n        @keyframes Flash").concat(Er," {0% { background-color: rgba(255,255,255,0.05); } 100% { background-color: rgba(255,255,255,0);}};\n    ");var Ar=Object(a.c)((function(e){var n=e.children,r=e.className,t=e.of,i=void 0===t?"div":t,a=Object(o.useRef)(1);return a.current=(a.current+=1)%20,br(i||"div",{className:"".concat(r," flash").concat(a.current)},n)}))(Cr(),Pr),Dr=[{title:"A quick example",Demo:function(){var e=or((function(){return{name:"Wappy",address:{street:"Pump St"},pets:[{name:"Spike"},{name:"Spoke"}]}}));e.useChange((function(e){console.log("A quick example - form changed:",e)}));var n=Object(o.useCallback)((function(){e.branch("pets").set((function(e){e.push({name:"new pet"})}))}),[]);return br(Ar,null,e.render("name",(function(e){return br(Ar,{of:"label"},"name ",br("input",pr(e,150)))})),e.render(["address","street"],(function(e){return br(Ar,{of:"label"},"street ",br("input",pr(e,150)))})),br("fieldset",null,br("legend",null,"pets"),br("ul",null,e.renderAll("pets",(function(e){return br(Ar,{of:"li"},e.render("name",(function(e){return br(Ar,{of:"label"},"name ",br("input",pr(e,150)))})))}))),br("button",{onClick:n},"Add pet")))},code:"\nimport React, {useCallback} from 'react';\nimport {useDendriform, useInput} from 'dendriform';\n\nfunction MyComponent(props) {\n\n    const form = useDendriform(() => ({\n        name: 'Wappy',\n        address: {\n            street: 'Pump St'\n        },\n        pets: [\n            {name: 'Spike'},\n            {name: 'Spoke'}\n        ]\n    });\n\n    form.useChange((value) => {\n        console.log('A quick example - form changed:', value);\n    });\n\n    const addPet = useCallback(() => {\n        form.branch('pets').set(draft => {\n            draft.push({name: 'new pet'});\n        });\n    }, []);\n\n    return <div>\n        {form.render('name', form => (\n            <label>name <input {...useInput(form, 150)} /></label>\n        ))}\n\n        {form.render(['address', 'street'], street => (\n            <label>street <input {...useInput(street, 150)} /></label>\n        ))}\n\n        <fieldset>\n            <legend>pets</legend>\n            <ul>\n                {form.renderAll('pets', form => <li>\n                    {form.render('name', form => (\n                        <label>name <input {...useInput(form, 150)} /></label>\n                    ))}\n                </li>)}\n            </ul>\n            <button onClick={addPet}>Add pet</button>\n        </fieldset>\n    </div>;\n};\n",anchor:"example",description:"This demonstrates a basic form with several fields, rendering, and array elements. Changes are subscribed to and logged to the console.",more:"dendriform"},{title:"Dendriform instance outside of React",Demo:function(){var e=Object(o.useState)(!0),n=e[0],r=e[1],t=Object(o.useCallback)((function(){return r((function(e){return!e}))}),[]);return n?br(Ar,null,br(Sr,null),br("button",{onClick:t},"Unmount")):br(Ar,null,br("button",{onClick:t},"Remount"))},code:"\nconst persistentForm = new Dendriform(1);\n\nif(typeof window !== 'undefined') {\n    window.persistentForm = persistentForm;\n}\n\nfunction MyComponent(props) {\n    const [show, setShow] = useState(true);\n    const toggleShow = useCallback(() => setShow(s => !s), []);\n\n    if(show) {\n        return <div>\n            <OutsideReact />\n            <button onClick={toggleShow}>Unmount</button>\n        </div>;\n    }\n\n    return <button onClick={toggleShow}>Remount</button>;\n}\n\nconst OutsideReact = React.memo(function OutsideReact() {\n    const value = persistentForm.useValue();\n    const addOne = useCallback(() => persistentForm.set(value => value + 1), []);\n\n    return <div>\n        <code>Value: {value}</code>\n        <button onClick={addOne}>Add 1</button>\n    </div>;\n});\n",anchor:"outside",description:"Dendriform instances can be kept outside of React. Notice how the state is preserved regardless of whether the component is mounted.",more:"creation"},{title:"Branching forms",Demo:function(){var e=or({name:"Ben",address:{street:"123 Fake St"}}),n=e.branch("name"),r=e.branch(["address","street"]),t=n.useValue(),o=r.useValue();return br(Ar,null,br("code",null,"name: ",t),br("code",null,"street: ",o))},code:"\nfunction MyComponent(props) {\n    const form = useDendriform({\n        name: 'Ben',\n        address: {\n            street: '123 Fake St'\n        }\n    });\n\n    // this is just a demonstration of branching\n    // .render() is more concise and more performant\n\n    const nameForm = form.branch('name');\n    const streetForm = form.branch(['address','street']);\n    const name = nameForm.useValue();\n    const street = nameForm.useValue();\n\n    return <div>\n        <code>name: {name}</code>\n        <code>street: {street}</code>\n    </div>;\n}\n",anchor:"branch",description:"Here .branch() is used to access parts of a data shapes, which are returned as their own smaller forms. Changes made to these smaller forms are also made to the original form.",more:"branching"},{title:"Rendering fields",Demo:function(){var e=or({name:"Ben",address:{street:"123 Fake St"}});return br(Ar,null,e.render((function(e){var n=e.useValue();return br(Ar,{of:"code"},n.name," from ",n.address.street)})),e.render("name",(function(e){return br(Ar,{of:"label"},"name: ",br("input",pr(e,150)))})),e.render(["address","street"],(function(e){return br(Ar,{of:"label"},"street: ",br("input",pr(e,150)))})))},code:"\nfunction MyComponent(props) {\n    const form = useDendriform({\n        name: 'Ben',\n        address: {\n            street: '123 Fake St'\n        }\n    });\n\n    return <div>\n        {form.render(form => {\n            const value = form.useValue();\n            return <code>{value.name} from {value.address.street}</code>;\n        })}\n\n        {form.render('name', form => (\n            <label>name: <input {...useInput(form, 150)} /></label>\n        ))}\n\n        {form.render(['address', 'street'], form => (\n            <label>street: <input {...useInput(form, 150)} /></label>\n        ))}\n    </div>;\n}\n",anchor:"render",description:"The .render() function is used to render parts of a form into small performant components. The white flashes indicate regions of the page that React has re-rendered. You can see how performant Dendriform's rendering is by how localised these flashes are.",more:"rendering"},{title:"Rendering with dependencies",Demo:function(){var e=or("Hi"),n=Object(o.useState)(0),r=n[0],t=n[1];return Object(o.useEffect)((function(){var e=setInterval((function(){return t((function(e){return e+1}))}),1e3);return function(){return clearInterval(e)}}),[]),br(Ar,null,e.render((function(e){return br(Ar,null,br("label",null,"name: ",br("input",pr(e,150))),br("code",null,"seconds: ",r))}),[r]))},code:"\nfunction MyComponent(props) {\n    const form = useDendriform('Hi');\n\n    const [seconds, setSeconds] = useState(0);\n    useEffect(() => {\n        const intervalId = setInterval(() => setSeconds(s => s + 1), 1000);\n        return () => clearInterval(intervalId);\n    }, []);\n\n    return <div>\n        {form.render(form => <>\n            <label>name: <input {...useInput(form, 150)} /></label>\n            <code>seconds: {seconds}</code>\n        </>, [seconds])}\n    </div>;\n}\n",description:"This demonstrates how .render() can be forced to update in response to other prop changes.",anchor:"renderdeps",more:"rendering"},{title:"Setting data",Demo:function(){var e=or({number:123}),n=Object(o.useCallback)((function(){e.branch("number").set(100)}),[]),r=Object(o.useCallback)((function(){e.branch("number").set((function(e){return e+3}))}),[]),t=Object(o.useCallback)((function(){e.set((function(e){e.number+=6}))}),[]);return br(Ar,null,e.render("number",(function(e){return br(Ar,{of:"code"},e.useValue())})),br("button",{onClick:n},"set value to 100"),br("button",{onClick:r},"add 3 to value"),br("button",{onClick:t},"add 6 to value with immer producer"))},code:"\nfunction MyComponent(props) {\n    const form = useDendriform({number: 123});\n\n    const set100 = useCallback(() => {\n        form.branch('number').set(100);\n    }, []);\n\n    const add3 = useCallback(() => {\n        form.branch('number').set(num => num + 3);\n    }, []);\n\n    const add6immer = useCallback(() => {\n        form.set(draft => {\n            draft.number += 6;\n        });\n    }, []);\n\n    return <div>\n        {form.render('number', form => <code>{form.useValue()}</code>)}\n\n        <button onClick={set100}>set value to 100</button>\n        <button onClick={add3}>add 3 to value</button>\n        <button onClick={add6immer}>add 6 to value with immer producer</button>\n    </div>;\n}\n",description:"This demo shows how to set data in a form in various ways: by passing the value, by using an updater function, and by using an immer producer.",anchor:"set",more:"setting-data"},{title:"Setting data with buffering",Demo:function(){var e=or(123);e.useChange((function(e){console.log("Setting data with buffering - value changed: "+e)}));var n=Object(o.useCallback)((function(){e.set((function(e){return e+1})),e.set((function(e){return e+1})),e.set((function(e){return e+1}))}),[]),r=Object(o.useCallback)((function(){e.buffer(),e.set((function(e){return e+1})),e.set((function(e){return e+1})),e.set((function(e){return e+1})),e.done()}),[]);return br(Ar,null,e.render((function(e){return br(Ar,{of:"code"},e.useValue())})),br("button",{onClick:n},"add 1, 3 times without buffering"),br("button",{onClick:r},"add 1, 3 times with buffering"))},code:"\nfunction MyComponent(props) {\n    const form = useDendriform(123);\n\n    form.useChange(newValue => {\n        console.log('Setting data with buffering - value changed: ' + newValue);\n    });\n\n    const add3nobuffer = useCallback(() => {\n        form.set(num => num + 1);\n        form.set(num => num + 1);\n        form.set(num => num + 1);\n    }, []);\n\n    const add3buffer = useCallback(() => {\n        form.buffer();\n        form.set(num => num + 1);\n        form.set(num => num + 1);\n        form.set(num => num + 1);\n        form.done();\n    }, []);\n\n    return <div>\n        {form.render(form => <code>{form.useValue()}</code>)}\n\n        <button onClick={add3nobuffer}>add 1, 3 times without buffering</button>\n        <button onClick={add3buffer}>add 1, 3 times with buffering</button>\n    </div>;\n}\n",description:"This demonstrates how multiple changes can be collected and applied at once. View the console to see how many changes are produced by each button click.",anchor:"buffer",more:"setting-data"},{title:"ES6 classes",Demo:function(){var e=or((function(){var e=new Or;return e.firstName="Billy",e.lastName="Thump",e}));return br(Ar,null,e.render("firstName",(function(e){return br(Ar,{of:"label"},"first name: ",br("input",pr(e,150)))})),e.render("lastName",(function(e){return br(Ar,{of:"label"},"last name: ",br("input",pr(e,150)))})))},code:"\nimport {immerable} from 'dendriform';\n\nclass Person {\n    firstName = '';\n    lastName = '';\n    [immerable] = true;\n}\n\nfunction MyComponent(props) {\n\n    const form = useDendriform(() => {\n        const person = new Person();\n        person.firstName = 'Billy';\n        person.lastName = 'Thump';\n        return person;\n    });\n\n    return <div>\n        {form.render('firstName', form => (\n            <label>first name: <input {...useInput(form, 150)} /></label>\n        ))}\n        {form.render('lastName', form => (\n            <label>last name: <input {...useInput(form, 150)} /></label>\n        ))}\n    </div>;\n}\n",description:"A demonstration of how to use ES6 classes with dendriform.",anchor:"es6-classes",more:"es6-classes"},{title:"ES6 maps",Demo:function(){var e=or((function(){var e=new Map;return e.set(123,"Harry"),e.set(456,"Larry"),e}));return br(Ar,null,e.render(123,(function(e){return br("label",null,"123: ",br("input",pr(e,150)))})),e.render(456,(function(e){return br("label",null,"456: ",br("input",pr(e,150)))})))},code:"\nimport {enableMapSet} from 'dendriform';\nenableMapSet();\n\nfunction MyComponent(props) {\n\n    const form = useDendriform(() => {\n        const usersById = new Map<number, string>();\n        usersById.set(123, 'Harry');\n        usersById.set(456, 'Larry');\n        return usersById;\n    });\n\n    return <div>\n        {form.render(123, form => (\n            <label>123: <input {...useInput(form, 150)} /></label>\n        ))}\n        {form.render(456, form => (\n            <label>456: <input {...useInput(form, 150)} /></label>\n        ))}\n    </div>;\n}\n",description:"A demonstration of how to use ES6 maps with dendriform.",anchor:"es6-maps",more:"es6-maps"},{title:"Form inputs",Demo:function(){var e=or((function(){return{name:"Bill",fruit:"grapefruit",canSwim:!0,comment:""}}));return br(Ar,null,e.render("name",(function(e){return br(Ar,{of:"label"},"name: ",br("input",pr(e,150)))})),e.render("fruit",(function(e){return br(Ar,{of:"label"},"select:",br("select",pr(e),br("option",{value:"grapefruit"},"Grapefruit"),br("option",{value:"lime"},"Lime"),br("option",{value:"coconut"},"Coconut"),br("option",{value:"mango"},"Mango")))})),e.render("canSwim",(function(e){return br(Ar,{of:"label"},"can you swim?",br("input",xe({type:"checkbox"},function(e){return{checked:e.useValue(),onChange:Object(o.useCallback)((function(n){e.set(n.target.checked)}),[])}}(e))))})),e.render("comment",(function(e){return br(Ar,{of:"label"},"comment: ",br("textarea",pr(e)))})))},code:"\nfunction MyComponent(props) {\n    const form = useDendriform(() => ({\n        name: 'Bill',\n        fruit: 'grapefruit',\n        canSwim: true,\n        comment: ''\n    });\n\n    return <div>\n        {form.render('name', form => (\n            <label>name: <input {...useInput(form, 150)} /></label>\n        ))}\n\n        {form.render('fruit', form => (\n            <label>\n                select:\n                <select {...useInput(form)}>\n                    <option value=\"grapefruit\">Grapefruit</option>\n                    <option value=\"lime\">Lime</option>\n                    <option value=\"coconut\">Coconut</option>\n                    <option value=\"mango\">Mango</option>\n                </select>\n            </label>\n        ))}\n\n        {form.render('canSwim', form => (\n            <label>\n                can you swim?\n                <input type=\"checkbox\" {...useCheckbox(form)} />\n            </label>\n        ))}\n\n        {form.render('comment', form => (\n            <label>comment: <textarea {...useInput(form)} /></label>\n        ))}\n    </div>;\n}\n",description:"Here different types of form input elements are bound to different forms. Note that useInput and useCheckbox are React hooks and as such must follow the rules of hooks.",anchor:"inputs",more:"form-inputs"},{title:"Subscribing to changes",Demo:function(){var e=or((function(){return{firstName:"Bill",lastName:"Joe"}}));return e.branch("firstName").useChange((function(e){console.log("Subscribing to changes - first name changed:",e)})),e.branch("lastName").useChange((function(e){console.log("Subscribing to changes - last name changed:",e)})),br(Ar,null,e.render("firstName",(function(e){return br(Ar,{of:"label"},"first name: ",br("input",pr(e,150)))})),e.render("lastName",(function(e){return br(Ar,{of:"label"},"last name: ",br("input",pr(e,150)))})))},code:"\nfunction MyComponent(props) {\n    const form = useDendriform(() => ({\n        firstName: 'Bill',\n        lastName: 'Joe'\n    }));\n\n    form.branch('firstName').useChange(newName => {\n        console.log('Subscribing to changes - first name changed:', newName);\n    });\n\n    form.branch('lastName').useChange(newName => {\n        console.log('Subscribing to changes - last name changed:', newName);\n    });\n\n    return <div>\n        {form.render('firstName', form => (\n            <label>first name: <input {...useInput(form, 150)} /></label>\n        ))}\n\n        {form.render('lastName', form => (\n            <label>last name: <input {...useInput(form, 150)} /></label>\n        ))}\n    </div>;\n}\n",description:"Subscribing to changes using useChange(). Open the console to see these changes occur.",anchor:"subscribe",more:"subscribing-to-changes"},{title:"Array operations",Demo:function(){var e=or({colours:["Red","Green","Blue"]}),n=e.branch("colours"),r=Object(o.useCallback)((function(){return n.set(cr())}),[]),t=Object(o.useCallback)((function(){return n.set(lr())}),[]),i=Object(o.useCallback)((function(){return n.set(ur("Puce"))}),[]),a=Object(o.useCallback)((function(){return n.set(sr("Puce"))}),[]),u=Object(o.useCallback)((function(){return n.set(dr(-1,0))}),[]);return br(Ar,null,e.renderAll("colours",(function(e){var n=Object(o.useCallback)((function(){return e.set(fr())}),[]),r=Object(o.useCallback)((function(){return xr(e,1)}),[]),t=Object(o.useCallback)((function(){return xr(e,-1)}),[]);return br(Ar,null,br("label",null,"colour: ",br("input",pr(e,150))),br("button",{onClick:n},"remove"),br("button",{onClick:r},"down"),br("button",{onClick:t},"up"))})),br("button",{onClick:r},"shift"),br("button",{onClick:t},"pop"),br("button",{onClick:i},"unshift"),br("button",{onClick:a},"push"),br("button",{onClick:u},"move last to first"))},code:"\nconst offsetElement = (form, offset) => {\n    return form.setParent(index => array.move(index, index + offset));\n};\n\nfunction MyComponent(props) {\n\n    const form = useDendriform({\n        colours: ['Red', 'Green', 'Blue']\n    });\n\n    const coloursForm = form.branch('colours');\n    const shift = useCallback(() => coloursForm.set(array.shift()), []);\n    const pop = useCallback(() => coloursForm.set(array.pop()), []);\n    const unshift = useCallback(() => coloursForm.set(array.unshift('Puce')), []);\n    const push = useCallback(() => coloursForm.set(array.push('Puce')), []);\n    const move = useCallback(() => coloursForm.set(array.move(-1,0)), []);\n\n    return <div>\n        {form.renderAll('colours', form => {\n\n            const remove = useCallback(() => form.set(array.remove()), []);\n            const moveDown = useCallback(() => offsetElement(form, 1), []);\n            const moveUp = useCallback(() => offsetElement(form, -1), []);\n\n            return <div>\n                <label>colour: <input {...useInput(form, 150)} /></label>\n\n                <button onClick={remove}>remove</button>\n                <button onClick={moveDown}>down</button>\n                <button onClick={moveUp}>up</button>\n            </div>;\n        })}\n\n        <button onClick={shift}>shift</button>\n        <button onClick={pop}>pop</button>\n        <button onClick={unshift}>unshift</button>\n        <button onClick={push}>push</button>\n        <button onClick={move}>move last to first</button>\n    </div>;\n}\n",description:"This shows how to use the array methods to manipulate arrays. If you're interested in rendering arrays of items, there is also a drag and drop demo that can provide a better user experience.",anchor:"array",more:"array-operations"},{title:"Array indexes",Demo:function(){var e=or({colours:["Red","Green","Blue"]});return br(Ar,null,e.renderAll("colours",(function(e){var n=e.useValue(),r=e.useIndex(),t=Object(o.useCallback)((function(){return xr(e,1)}),[]),i=Object(o.useCallback)((function(){return xr(e,-1)}),[]);return br(Ar,null,br("code",null,"Colour: ",n,", index: ",r),br("button",{onClick:t},"down"),br("button",{onClick:i},"up"))})))},code:"\nconst offsetElement = (form, offset) => {\n    return form.setParent(index => array.move(index, index + offset));\n};\n\nfunction MyComponent(props) {\n\n    const form = useDendriform({\n        colours: ['Red', 'Green', 'Blue']\n    });\n\n    return <div>\n        {form.renderAll('colours', form => {\n            const colour = form.useValue();\n            const index = form.useIndex();\n            const moveDown = useCallback(() => offsetElement(form, 1), []);\n            const moveUp = useCallback(() => offsetElement(form, -1), []);\n\n            return <div>\n                <code>Colour: {colour}, index: {index}</code>\n                <button onClick={moveDown}>down</button>\n                <button onClick={moveUp}>up</button>\n            </div>;\n        })}\n    </div>;\n}\n",description:"This shows how to access array element indexes and respond to their changes. See how this incresases the amount of component updates required.",anchor:"indexes",more:"array-operations"},{title:"History",Demo:function(){var e=or((function(){return{name:"Ben",age:"88"}}),{history:10});return br(Ar,null,e.render("name",(function(e){return br(Ar,{of:"label"},"name: ",br("input",pr(e,150)))})),e.render("age",(function(e){return br(Ar,{of:"label"},"age: ",br("input",pr(e,150)))})),e.render((function(e){var n=e.useHistory(),r=n.canUndo,t=n.canRedo;return br(Ar,null,br("button",{onClick:e.undo,disabled:!r},"Undo"),br("button",{onClick:e.redo,disabled:!t},"Redo"),br("button",{onClick:function(){return e.go(-3)},disabled:!r},"Undo 3"))})))},code:"\nfunction MyComponent(props) {\n    const form = useDendriform(() => ({name: 'Ben'}), {history: 10});\n\n    return <div>\n        {form.render('name', form => (\n            <label>name: <input {...useInput(form, 150)} /></label>\n        ))}\n\n        {form.render('age', form => (\n            <label>age: <input {...useInput(form, 150)} /></label>\n        ))}\n\n        {form.render(form => {\n            const {canUndo, canRedo} = form.useHistory();\n            // this function will only re-render if canUndo or canRedo changes\n            return <>\n                <button onClick={form.undo} disabled={!canUndo}>Undo</button>\n                <button onClick={form.redo} disabled={!canRedo}>Redo</button>\n                <button onClick={() => form.go(-3)} disabled={!canUndo}>Undo 3</button>\n            </>;\n        })}\n    </div>;\n}\n",description:"A simple demonstration of history with undo and redo.",anchor:"history",more:"history"},{title:"Grouping history items",Demo:function(){var e=or("a",{history:10}),n=Object(o.useCallback)((function(){e.set((function(e){return e===e.toLowerCase()?e.toUpperCase():e.toLowerCase()}))}),[]),r=Object(o.useCallback)((function(){e.replace(),e.set((function(e){return"".concat(e," replaced")}))}),[]),t=Object(o.useCallback)((function(){e.buffer(),e.set((function(e){return"".concat(e,".")})),e.buffer(),e.set((function(e){return"".concat(e,".")})),e.buffer(),e.set((function(e){return"".concat(e,".")})),e.done()}),[]);return br(Ar,null,e.render((function(e){return br(Ar,{of:"code"},"value: ",e.useValue())})),br("button",{onClick:n},"Add history item"),br("button",{onClick:t},"Add 3 history items"),br("button",{onClick:r},"Replace history item"),e.render((function(e){var n=e.useHistory(),r=n.canUndo,t=n.canRedo;return br(Ar,null,br("button",{onClick:e.undo,disabled:!r},"Undo"),br("button",{onClick:e.redo,disabled:!t},"Redo"))})))},code:"\nfunction MyComponent(props) {\n    const form = useDendriform('a', {history: 10});\n\n    const add = useCallback(() => {\n        form.set(value => value === value.toLowerCase()\n            ? value.toUpperCase()\n            : value.toLowerCase()\n        );\n    }, []);\n\n    const replace = useCallback(() => {\n        form.replace();\n        form.set(value => `${value} replaced`);\n    }, []);\n\n    const addMulti = useCallback(() => {\n        form.buffer();\n        form.set(value => `${value}.`);\n        form.buffer();\n        form.set(value => `${value}.`);\n        form.buffer();\n        form.set(value => `${value}.`);\n        form.done();\n    }, []);\n\n    return <div>\n        {form.render(form => (\n            <code>value: {form.useValue()}</code>\n        ))}\n\n        <button onClick={add}>Add history item</button>\n        <button onClick={addMulti}>Add 3 history items</button>\n        <button onClick={replace}>Replace history item</button>\n\n        {form.render(form => {\n            const {canUndo, canRedo} = form.useHistory();\n            return <div>\n                <button onClick={form.undo} disabled={!canUndo}>Undo</button>\n                <button onClick={form.redo} disabled={!canRedo}>Redo</button>\n            </div>;\n        })}\n    </div>;\n}\n",description:"Shows how you can control how changes are grouped within the history stack. Use any of the buttons, and then use undo and redo to see how the changes are grouped within history.",anchor:"historygroup",more:"history"},{title:"Deriving data in a single form",Demo:function(){var e=or({firstName:"Robert",lastName:"Clamps",fullName:""},{history:10});return e.useDerive((function(n){e.branch("fullName").set("".concat(n.firstName," ").concat(n.lastName))})),br(Ar,null,e.render("firstName",(function(e){return br(Ar,{of:"label"},"first name: ",br("input",pr(e,150)))})),e.render("lastName",(function(e){return br(Ar,{of:"label"},"last name: ",br("input",pr(e,150)))})),e.render("fullName",(function(e){return br(Ar,null,"full name: ",e.useValue())})),e.render((function(e){var n=e.useHistory(),r=n.canUndo,t=n.canRedo;return br(Ar,null,br("button",{onClick:e.undo,disabled:!r},"Undo"),br("button",{onClick:e.redo,disabled:!t},"Redo"))})))},code:"\nfunction MyComponent(props) {\n    const form = useDendriform({\n        firstName: 'Robert',\n        lastName: 'Clamps',\n        fullName: ''\n    }, {\n        history: 10\n    });\n\n    form.useDerive(newValue => {\n        form.branch('fullName').set(`${newValue.firstName} ${newValue.lastName}`);\n    });\n\n    return <div>\n        {form.render('firstName', form => (\n            <label>first name: <input {...useInput(form, 150)} /></label>\n        ))}\n\n        {form.render('lastName', form => (\n            <label>last name: <input {...useInput(form, 150)} /></label>\n        ))}\n\n        {form.render('fullName', form => (\n            <code>full name: {form.useValue()}</code>\n        ))}\n\n        {form.render(form => {\n            const {canUndo, canRedo} = form.useHistory();\n            return <div>\n                <button onClick={form.undo} disabled={!canUndo}>Undo</button>\n                <button onClick={form.redo} disabled={!canRedo}>Redo</button>\n            </div>;\n        })}\n    </div>;\n}\n",description:"The .useDerive() hook is used to set the value of one property in response to the value of other properties.",anchor:"derive",more:"deriving-data"},{title:"Deriving data in another form",Demo:function(){var e=or({name:"Bill"}),n=or({nameError:"",valid:!0});return e.useDerive((function(e){var r=e.name.trim().length>0,t=r?"":"Name must not be blank";n.branch("valid").set(r),n.branch("nameError").set(t)})),br(Ar,null,e.render("name",(function(e){return br(Ar,{of:"label"},"name: ",br("input",pr(e,150)))})),n.render((function(e){var n=e.useValue(),r=n.valid,t=n.nameError;return br(Ar,{of:"code"},r?"valid":t)})))},code:"\nfunction MyComponent(props) {\n    const form = useDendriform({name: 'Bill'});\n\n    const validState = useDendriform({\n        nameError: '',\n        valid: true\n    });\n\n    form.useDerive(newValue => {\n        const valid = newValue.name.trim().length > 0;\n        const nameError = valid ? '' : 'Name must not be blank';\n        validState.branch('valid').set(valid);\n        validState.branch('nameError').set(nameError);\n    });\n\n    return <div>\n        {form.render('name', form => (\n            <label>name: <input {...useInput(form, 150)} /></label>\n        ))}\n\n        {validState.render(form => {\n            const {valid, nameError} = form.useValue();\n            const msg = valid ? 'valid' : nameError;\n            return <code>{msg}</code>;\n        })}\n    </div>;\n}\n",description:"It is also possible and often preferrable to make changes in other forms in .onDerive()'s callback. Here we can see that deriving data can be useful for implementing validation. Try deleting all the characters in the name below.",anchor:"deriveother",more:"deriving-data"},{title:"Synchronising forms",Demo:function(){var e=or((function(){return{name:"Bill"}}),{history:100}),n=or((function(){return{street:"Cool St"}}),{history:100});return mr(e,n),br(Ar,null,e.render("name",(function(e){return br(Ar,{of:"label"},"name: ",br("input",pr(e,150)))})),n.render("street",(function(e){return br(Ar,{of:"label"},"street: ",br("input",pr(e,150)))})),e.render((function(e){var n=e.useHistory(),r=n.canUndo,t=n.canRedo;return br(Ar,null,br("button",{onClick:e.undo,disabled:!r},"Undo"),br("button",{onClick:e.redo,disabled:!t},"Redo"))})))},code:"\nfunction MyComponent(props) {\n    const nameForm = useDendriform(() => ({name: 'Bill'}), {history: 100});\n    const addressForm = useDendriform(() => ({street: 'Cool St'}), {history: 100});\n\n    useSync(nameForm, addressForm);\n\n    return <div>\n        {nameForm.render('name', form => (\n            <label>name: <input {...useInput(form, 150)} /></label>\n        ))}\n\n        {addressForm.render('street', form => (\n            <label>street: <input {...useInput(form, 150)} /></label>\n        ))}\n\n        {nameForm.render(form => {\n            const {canUndo, canRedo} = form.useHistory();\n            return <div>\n                <button onClick={form.undo} disabled={!canUndo}>Undo</button>\n                <button onClick={form.redo} disabled={!canRedo}>Redo</button>\n            </div>;\n        })}\n    </div>;\n}\n",description:"When forms are synchronised with each other, their changes throughout history are also synchronised. Type in either input and use undo and redo to see how the two forms are connected.",anchor:"sync",more:"synchronising-forms"},{title:"Synchronising forms with deriving",Demo:function(){var e=or((function(){return["Bill","Ben","Bob"]}),{history:100}),n=or((function(){return{street:"Cool St",occupants:0}}),{history:100});mr(e,n,(function(e){console.log("Deriving occupants for ".concat(JSON.stringify(e))),n.branch("occupants").set(e.length)}));var r=Object(o.useCallback)((function(){e.set((function(e){e.push("Name "+e.length)}))}),[]);return br(Ar,null,br("fieldset",null,br("legend",null,"names"),br("ul",null,e.renderAll((function(e){return br(Ar,{of:"li"},br("label",null,br("input",pr(e,150))))}))),br("button",{onClick:r},"Add name")),n.render("street",(function(e){return br(Ar,{of:"label"},"street: ",br("input",pr(e,150)))})),n.render("occupants",(function(e){return br(Ar,{of:"code"},"occupants: ",e.useValue())})),e.render((function(e){var n=e.useHistory(),r=n.canUndo,t=n.canRedo;return br(Ar,null,br("button",{onClick:e.undo,disabled:!r},"Undo"),br("button",{onClick:e.redo,disabled:!t},"Redo"))})))},code:"\nfunction MyComponent(props) {\n\n    const namesForm = useDendriform(() => ['Bill', 'Ben', 'Bob'], {history: 100});\n\n    const addressForm = useDendriform(() => ({\n        street: 'Cool St',\n        occupants: 0\n    }), {history: 100});\n\n    useSync(namesForm, addressForm, names => {\n        addressForm.branch('occupants').set(names.length);\n    });\n\n    const addName = useCallback(() => {\n        namesForm.set(draft => {\n            draft.push('Name ' + draft.length);\n        });\n    }, []);\n\n    return <div>\n        <fieldset>\n            <legend>names</legend>\n            <ul>\n                {namesForm.renderAll(form => <Region of=\"li\">\n                    <label><input {...useInput(form, 150)} /></label>\n                </Region>)}\n            </ul>\n            <button onClick={addName}>Add name</button>\n        </fieldset>\n\n        {addressForm.render('street', form => (\n            <label>street: <input {...useInput(form, 150)} /></label>\n        ))}\n\n        {addressForm.render('occupants', form => (\n            <code>occupants: {form.useValue()}</code>\n        ))}\n\n        {namesForm.render(form => {\n            const {canUndo, canRedo} = form.useHistory();\n            return <>\n                <button onClick={form.undo} disabled={!canUndo}>Undo</button>\n                <button onClick={form.redo} disabled={!canRedo}>Redo</button>\n            </>;\n        })}\n    </div>;\n}\n",description:"The useSync() hook can also accept a deriver to derive data in one direction.  This has the effect of caching each derived form state in history, and calling undo and redo will just restore the relevant derived data at that point in history.",anchor:"syncderive",more:"synchronising-forms"},{title:"Drag and drop with react-beautiful-dnd",Demo:function(){var e=or({colours:["Red","Green","Blue"]}),n=Object(o.useCallback)((function(n){e.branch("colours").set(function(e){return function(n){if(e.destination){var r=e.source.index,t=e.destination.index;if(t!==r){var o=Oe(n.splice(r,1),1)[0];n.splice(t,0,o)}}}}(n))}),[]),r=Object(o.useCallback)((function(){e.branch("colours").set(sr("Puce"))}),[]);return br(Ar,null,br(hr.a,{onDragEnd:n},br(hr.c,{droppableId:"list"},(function(n){return br("div",xe({ref:n.innerRef},n.droppableProps),br(Ar,null,br(jr,{form:e.branch("colours")}),n.placeholder))}))),br("button",{onClick:r},"add new"))},code:"\nimport {DragDropContext, Droppable, Draggable} from 'react-beautiful-dnd';\n\nconst dndReorder = (result) => (draft) => {\n    if(!result.destination) return;\n\n    const startIndex = result.source.index;\n    const endIndex = result.destination.index;\n    if(endIndex === startIndex) return;\n\n    const [removed] = draft.splice(startIndex, 1);\n    draft.splice(endIndex, 0, removed);\n};\n\nfunction DragAndDrop() {\n\n    const form = useDendriform({\n        colours: ['Red', 'Green', 'Blue']\n    });\n\n    const onDragEnd = useCallback(result => {\n        form.branch('colours').set(dndReorder(result));\n    }, []);\n\n    const onAdd = useCallback(() => {\n        form.branch('colours').set(array.push('Puce'));\n    }, []);\n\n    return <div>\n        <DragDropContext onDragEnd={onDragEnd}>\n            <Droppable droppableId=\"list\">\n                {provided => (\n                    <div ref={provided.innerRef} {...provided.droppableProps}>\n                        <DragAndDropList form={form.branch('colours')} />\n                        {provided.placeholder}\n                    </div>\n                )}\n            </Droppable>\n        </DragDropContext>\n\n        <button onClick={push}>add new</button>\n    </div>;\n}\n\nfunction DragAndDropList(props) {\n    return props.form.renderAll(form => {\n\n        const id = `${form.id}`;\n        const index = form.useIndex();\n        const remove = useCallback(() => form.set(array.remove()), []);\n\n        return <Draggable key={id} draggableId={id} index={index}>\n            {provided => <div\n                ref={provided.innerRef}\n                {...provided.draggableProps}\n                {...provided.dragHandleProps}\n            >\n                <label>colour: <input {...useInput(form, 150)} /></label>\n                <button onClick={remove}>remove</button>\n            </div>}\n        </Draggable>;\n    });\n}\n",description:"An example of how one might implement drag and drop with react-beautiful-dnd. Dendriform's .renderAll() function, and its automatic id management on array elements simplifies this greatly.",anchor:"draganddrop",more:"drag-and-drop"},{title:"Validation example",Demo:function(){var e=or([Rr]),n=Object(o.useCallback)((function(){return e.set(sr(Rr))}),[]),r=or({}),t=or([]);return e.useDerive((function(){var n={},o=[];e.branchAll().forEach((function(e){var r=e.branch("name");""===r.value&&(n[r.id]="Name must not be blank",o.push("Name #".concat(e.index+1," must not be blank")));var t=e.branch("age");isNaN(parseFloat(t.value))&&(n[t.id]="Age must be numeric",o.push("Age #".concat(e.index+1," must be numeric")))})),r.set(n),t.set(o)})),br(Ar,null,e.renderAll((function(e){var n=Object(o.useCallback)((function(){return e.set(fr())}),[]),t=Object(o.useCallback)((function(){return xr(e,1)}),[]),i=Object(o.useCallback)((function(){return xr(e,-1)}),[]);return br(Ar,null,e.render("name",(function(e){return br(Ar,null,br("label",null,"name: ",br("input",pr(e,150))),br(ye,{fontSize:"small"},r.branch(e.id).useValue()))})),e.render("age",(function(e){return br(Ar,null,br("label",null,"age: "," ",br("input",pr(e,150))),br(ye,{fontSize:"small"},r.branch(e.id).useValue()))})),br("button",{onClick:n},"remove"),br("button",{onClick:t},"down"),br("button",{onClick:i},"up"))})),br("button",{onClick:n},"add new"),t.render((function(e){var n=e.useValue();return br(Ar,null,"Errors:",br("ul",null,n.map((function(e,n){return br(Ar,{of:"li",key:n},e)})),0===n.length&&br(Ar,{of:"li"},"None")))})))},code:"\nconst offsetElement = (form, offset) => {\n    return form.setParent(index => array.move(index, index + offset));\n};\n\nconst BLANK_PERSON = {\n    name: '',\n    age: ''\n};\n\nfunction MyComponent(props) {\n    const form = useDendriform([BLANK_PERSON]);\n    const addNew = useCallback(() => form.set(array.push(BLANK_PERSON)), []);\n\n    // validation\n    const errorMapForm = useDendriform<ValidationMap>({});\n    const errorListForm = useDendriform<string[]>([]);\n\n    form.useDerive(() => {\n        const validationMap: ValidationMap = {};\n        const errorList: string[] = [];\n\n        form.branchAll().forEach(form => {\n            const nameForm = form.branch('name');\n            if(nameForm.value === '') {\n                validationMap[nameForm.id] = 'Name must not be blank';\n                errorList.push(`Name #${form.index + 1} must not be blank`);\n            }\n\n            const ageForm = form.branch('age');\n            if(isNaN(parseFloat(ageForm.value))) {\n                validationMap[ageForm.id] = 'Age must be numeric';\n                errorList.push(`Age #${form.index + 1} must be numeric`);\n            }\n        });\n\n        errorMapForm.set(validationMap);\n        errorListForm.set(errorList);\n    });\n\n    return <>\n        {form.renderAll(form => {\n\n            const remove = useCallback(() => form.set(array.remove()), []);\n            const moveDown = useCallback(() => offsetElement(form, 1), []);\n            const moveUp = useCallback(() => offsetElement(form, -1), []);\n\n            return <>\n                {form.render('name', form => {\n                    return <>\n                        <label>name: <input {...useInput(form, 150)} /></label>\n                        <Text fontSize=\"small\">{errorMapForm.branch(form.id).useValue()}</Text>\n                    </>;\n                })}\n                {form.render('age', form => (\n                    <>\n                        <label>age: {' '}<input {...useInput(form, 150)} /></label>\n                        <Text fontSize=\"small\">{errorMapForm.branch(form.id).useValue()}</Text>\n                    </>\n                ))}\n\n                <button onClick={remove}>remove</button>\n                <button onClick={moveDown}>down</button>\n                <button onClick={moveUp}>up</button>\n            </>;\n        })}\n        <button onClick={addNew}>add new</button>\n\n        {errorListForm.render(form => {\n            const errors = form.useValue();\n            return <>\n                Errors:\n                <ul>\n                    {errors.map((err, key) => <li key={key}>{err}</li>)}\n                    {errors.length === 0 && <li>None</li>}\n                </ul>\n            </>;\n        })}\n    </>;\n}\n",description:"An example of how it's possible to perform validation on an array of items.",anchor:"validation"}];function Nr(){return br(fe,{flexWrap:"wrap"},Dr.map((function(e){return br(Ir,{demo:e,key:e.anchor})})))}function Ir(e){var n=e.demo,r=n.Demo,t=n.title,i=n.anchor,a=n.code,u=n.description,c=n.more,s=Object(o.useState)(!1),l=s[0],f=s[1],d=Object(o.useCallback)((function(){f((function(e){return!e}))}),[]),p=br(le,{maxWidth:"25rem"},br(fe,{pb:3},br(le,{mr:2},br(Ce,{id:i,onClick:d,style:{cursor:"pointer"}},t)),br(le,{flexShrink:"0"},br(ye,{style:{lineHeight:"1.9rem"},fontSize:"smaller"},br(ke,{onClick:d},l?"minimise":"show code")))),br(le,{mb:4},br(ye,{fontSize:"smaller"},u," ",c&&br(ke,{title:"To the documentation",href:"https://github.com/92green/dendriform#".concat(c)},"docs ",">"))),br(Tr,null,br(r,null)));return br(Br,{expanded:l},br(Fr,null,!l&&p,l&&br(fe,{display:["block","flex"]},br(le,{flexShrink:"0"},p),br(le,{ml:[0,4],flexGrow:"1",flexShrink:"1",style:{minWidth:0}},br(Mr,{code:a})))))}var Br=a.c.div(wr(),(function(e){return e.theme.colors.background}),(function(e){return e.expanded?"\n            position: fixed;\n            top: 0;\n            left: 0;\n            height: 100%;\n            z-index: 100;\n            padding: 1rem;\n            overflow: auto;\n        ":"\n            margin-right: 2rem;\n            margin-bottom: 2rem;\n            max-width: 25rem;\n        "})),Tr=a.c.div(yr(),(function(e){return e.theme.colors.background}),(function(e){return e.theme.colors.heading}),(function(e){return e.theme.fonts.mono}),(function(e){return e.theme.colors.background}),(function(e){return e.theme.colors.subtitle}),(function(e){return e.theme.fonts.mono}),(function(e){return e.theme.colors.text}),(function(e){return e.theme.fonts.mono}),(function(e){return e.theme.colors.line}),(function(e){return e.theme.colors.line})),Fr=a.c.div(gr(),(function(e){return e.theme.colors.backgroundLight})),Mr=Object(a.c)((function(e){var n=e.className,r=e.code;return br("pre",{className:"".concat(n," language-jsx")},br("code",null,r.substr(1)))}))(vr(),(function(e){return e.theme.fonts.mono}),(function(e){return e.theme.colors.code}),(function(e){return e.theme.colors.background})),Lr=i.a.createElement;function zr(){var e=Object(t.a)(["\n    img {\n        display: block;\n    }\n"]);return zr=function(){return e},e}function Wr(){var e=Object(t.a)(["\n    border-bottom: 1px solid ",";\n    margin: 2rem 0;\n"]);return Wr=function(){return e},e}function _r(){var e=Object(t.a)(["\n    font-size: 2.5rem;\n    line-height: 2rem;\n    margin-bottom: .5rem;\n    color: ",";\n"]);return _r=function(){return e},e}function Ur(){return Lr(de,{page:!0},Lr(fe,{alignItems:"center",mt:4,mb:4},Lr(le,{mr:4,width:"5rem",pt:2},Lr("img",{alt:"Dendriform logo",src:"/logo-dendriform.png",width:"100%"})),Lr(le,{maxWidth:"20rem"},Lr(Vr,null,"dendriform"),Lr(ye,{as:"div",color:"subtitle",style:{fontStyle:"italic",lineHeight:"1.3rem"}},"Build feature-rich data-editing React UIs with great performance and little code."))),Lr(pe,null,Lr(Gr,{src:"https://img.shields.io/npm/v/dendriform.svg",to:"https://www.npmjs.com/package/dendriform"},"NPM"),Lr(Gr,{src:"https://github.com/92green/dendriform/workflows/CI/badge.svg?branch=master"},"CI: Build Status"),Lr(Gr,{src:"https://img.shields.io/badge/Maturity-Early%20days-yellow"},"Maturity: Early Days"),Lr(Gr,{src:"https://img.shields.io/badge/Coolness-Reasonable-blue"},"Coolness Reasonable")),Lr(le,{my:5},Lr(ye,{fontSize:"big"},"Looking for the docs or source code? ",Lr(ke,{href:"https://github.com/92green/dendriform"},"Go to the github repo."))),Lr(Hr,null),Lr(le,{mb:3},Lr(we,null,"Demos")),Lr(le,{mb:4},"White flashes indicate regions of the page that React has re-rendered. You can see how performant Dendriform's rendering is by how localised these flashes are."),Lr(le,{mb:3},Lr(Nr,null)))}var Vr=Object(a.c)(le)(_r(),(function(e){return e.theme.colors.heading})),Hr=a.c.div(Wr(),(function(e){return e.theme.colors.line})),Gr=Object(a.c)((function(e){var n=e.src,r=e.children,t=void 0===r?"":r,o=e.to,i=Lr("img",{src:n,alt:t,title:t});return o?Lr("a",{href:o},i):i}))(zr())},"3AlC":function(e,n,r){"use strict";r.d(n,"a",(function(){return a})),r.d(n,"b",(function(){return i}));var t=r("ERkP");function o(e,n){var r=Object(t.useState)((function(){return{inputs:n,result:e()}}))[0],o=Object(t.useRef)(!0),i=Object(t.useRef)(r),a=o.current||Boolean(n&&i.current.inputs&&function(e,n){if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}(n,i.current.inputs))?i.current:{inputs:n,result:e()};return Object(t.useEffect)((function(){o.current=!1,i.current=a}),[a]),a.result}var i=o,a=function(e,n){return o((function(){return e}),n)}},"4ILL":function(e,n,r){"use strict";function t(e,n){return(t=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function o(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,t(e,n)}r.d(n,"a",(function(){return o}))},"9OUN":function(e,n,r){"use strict";r.d(n,"a",(function(){return m})),r.d(n,"b",(function(){return s})),r.d(n,"c",(function(){return p})),r.d(n,"d",(function(){return u}));var t=r("hE+J"),o=function(){return Math.random().toString(36).substring(7).split("").join(".")},i={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function a(e){if("object"!==typeof e||null===e)return!1;for(var n=e;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}function u(e,n,r){var o;if("function"===typeof n&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"===typeof n&&"undefined"===typeof r&&(r=n,n=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error("Expected the enhancer to be a function.");return r(u)(e,n)}if("function"!==typeof e)throw new Error("Expected the reducer to be a function.");var c=e,s=n,l=[],f=l,d=!1;function p(){f===l&&(f=l.slice())}function m(){if(d)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return s}function h(e){if("function"!==typeof e)throw new Error("Expected the listener to be a function.");if(d)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var n=!0;return p(),f.push(e),function(){if(n){if(d)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");n=!1,p();var r=f.indexOf(e);f.splice(r,1),l=null}}}function b(e){if(!a(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,s=c(s,e)}finally{d=!1}for(var n=l=f,r=0;r<n.length;r++){(0,n[r])()}return e}function v(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");c=e,b({type:i.REPLACE})}function g(){var e,n=h;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function r(){e.next&&e.next(m())}return r(),{unsubscribe:n(r)}}})[t.a]=function(){return this},e}return b({type:i.INIT}),(o={dispatch:b,subscribe:h,getState:m,replaceReducer:v})[t.a]=g,o}function c(e,n){return function(){return n(e.apply(this,arguments))}}function s(e,n){if("function"===typeof e)return c(e,n);if("object"!==typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var r={};for(var t in e){var o=e[t];"function"===typeof o&&(r[t]=c(o,n))}return r}function l(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function f(e,n){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r}function d(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?f(r,!0).forEach((function(n){l(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(r).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function p(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?function(e){return e}:1===n.length?n[0]:n.reduce((function(e,n){return function(){return e(n.apply(void 0,arguments))}}))}function m(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),t=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:r.getState,dispatch:function(){return t.apply(void 0,arguments)}},i=n.map((function(e){return e(o)}));return d({},r,{dispatch:t=p.apply(void 0,i)(r.dispatch)})}}}},An9s:function(e,n,r){"use strict";function t(){return(t=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}r.d(n,"a",(function(){return t}))},Km8e:function(e,n,r){"use strict";var t=Object.assign.bind(Object);e.exports=t,e.exports.default=e.exports},KrFp:function(e,n,r){"use strict";function t(e){var n,r=e.Symbol;return"function"===typeof r?r.observable?n=r.observable:(n=r("observable"),r.observable=n):n="@@observable",n}r.d(n,"a",(function(){return t}))},PgQS:function(e,n,r){"use strict";r.d(n,"a",(function(){return d})),r.d(n,"b",(function(){return c})),r.d(n,"c",(function(){return i})),r.d(n,"d",(function(){return p})),r.d(n,"e",(function(){return o})),r.d(n,"f",(function(){return l})),r.d(n,"g",(function(){return f}));var t=function(e,n){if(!e)throw new Error("Invariant failed")},o=function(e){var n=e.top,r=e.right,t=e.bottom,o=e.left;return{top:n,right:r,bottom:t,left:o,width:r-o,height:t-n,x:o,y:n,center:{x:(r+o)/2,y:(t+n)/2}}},i=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},a=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},u={top:0,right:0,bottom:0,left:0},c=function(e){var n=e.borderBox,r=e.margin,t=void 0===r?u:r,c=e.border,s=void 0===c?u:c,l=e.padding,f=void 0===l?u:l,d=o(i(n,t)),p=o(a(n,s)),m=o(a(p,f));return{marginBox:d,borderBox:o(n),paddingBox:p,contentBox:m,margin:t,border:s,padding:f}},s=function(e){var n=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var r=Number(n);return isNaN(r)&&t(!1),r},l=function(e,n){var r,t,o=e.borderBox,i=e.border,a=e.margin,u=e.padding,s=(t=n,{top:(r=o).top+t.y,left:r.left+t.x,bottom:r.bottom+t.y,right:r.right+t.x});return c({borderBox:s,border:i,margin:a,padding:u})},f=function(e,n){return void 0===n&&(n={x:window.pageXOffset,y:window.pageYOffset}),l(e,n)},d=function(e,n){var r={top:s(n.marginTop),right:s(n.marginRight),bottom:s(n.marginBottom),left:s(n.marginLeft)},t={top:s(n.paddingTop),right:s(n.paddingRight),bottom:s(n.paddingBottom),left:s(n.paddingLeft)},o={top:s(n.borderTopWidth),right:s(n.borderRightWidth),bottom:s(n.borderBottomWidth),left:s(n.borderLeftWidth)};return c({borderBox:e,margin:r,padding:t,border:o})},p=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return d(n,r)}},cyaT:function(e,n){e.exports=function(e){if(!e.webpackPolyfill){var n=Object.create(e);n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),Object.defineProperty(n,"exports",{enumerable:!0}),n.webpackPolyfill=1}return n}},fRV1:function(e,n){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"===typeof window&&(r=window)}e.exports=r},"hE+J":function(e,n,r){"use strict";(function(e,t){var o,i=r("KrFp");o="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:t;var a=Object(i.a)(o);n.a=a}).call(this,r("fRV1"),r("cyaT")(e))},lSUb:function(e,n,r){"use strict";function t(e,n){if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}n.a=function(e,n){var r;void 0===n&&(n=t);var o,i=[],a=!1;return function(){for(var t=[],u=0;u<arguments.length;u++)t[u]=arguments[u];return a&&r===this&&n(t,i)||(o=e.apply(this,t),a=!0,r=this,i=t),o}}},uDfI:function(e,n,r){"use strict";r.d(n,"a",(function(){return f})),r.d(n,"b",(function(){return _}));var t=r("ERkP"),o=r.n(t),i=(r("aWzz"),o.a.createContext(null));var a=function(e){e()},u={notify:function(){}};function c(){var e=a,n=null,r=null;return{clear:function(){n=null,r=null},notify:function(){e((function(){for(var e=n;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],r=n;r;)e.push(r),r=r.next;return e},subscribe:function(e){var t=!0,o=r={callback:e,next:null,prev:r};return o.prev?o.prev.next=o:n=o,function(){t&&null!==n&&(t=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:n=o.next)}}}}var s=function(){function e(e,n){this.store=e,this.parentSub=n,this.unsubscribe=null,this.listeners=u,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var n=e.prototype;return n.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},n.notifyNestedSubs=function(){this.listeners.notify()},n.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},n.isSubscribed=function(){return Boolean(this.unsubscribe)},n.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=c())},n.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=u)},e}(),l="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?t.useLayoutEffect:t.useEffect;var f=function(e){var n=e.store,r=e.context,a=e.children,u=Object(t.useMemo)((function(){var e=new s(n);return e.onStateChange=e.notifyNestedSubs,{store:n,subscription:e}}),[n]),c=Object(t.useMemo)((function(){return n.getState()}),[n]);l((function(){var e=u.subscription;return e.trySubscribe(),c!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[u,c]);var f=r||i;return o.a.createElement(f.Provider,{value:u},a)};function d(){return(d=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}function p(e,n){if(null==e)return{};var r,t,o={},i=Object.keys(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}var m=r("oXkQ"),h=r.n(m),b=r("kvVz"),v=[],g=[null,null];function y(e,n){var r=e[1];return[n.payload,r+1]}function w(e,n,r){l((function(){return e.apply(void 0,n)}),r)}function C(e,n,r,t,o,i,a){e.current=t,n.current=o,r.current=!1,i.current&&(i.current=null,a())}function k(e,n,r,t,o,i,a,u,c,s){if(e){var l=!1,f=null,d=function(){if(!l){var e,r,d=n.getState();try{e=t(d,o.current)}catch(p){r=p,f=p}r||(f=null),e===i.current?a.current||c():(i.current=e,u.current=e,a.current=!0,s({type:"STORE_UPDATED",payload:{error:r}}))}};r.onStateChange=d,r.trySubscribe(),d();return function(){if(l=!0,r.tryUnsubscribe(),r.onStateChange=null,f)throw f}}}var S=function(){return[null,0]};function O(e,n){void 0===n&&(n={});var r=n,a=r.getDisplayName,u=void 0===a?function(e){return"ConnectAdvanced("+e+")"}:a,c=r.methodName,l=void 0===c?"connectAdvanced":c,f=r.renderCountProp,m=void 0===f?void 0:f,O=r.shouldHandleStateChanges,x=void 0===O||O,j=r.storeKey,R=void 0===j?"store":j,P=(r.withRef,r.forwardRef),E=void 0!==P&&P,A=r.context,D=void 0===A?i:A,N=p(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),I=D;return function(n){var r=n.displayName||n.name||"Component",i=u(r),a=d({},N,{getDisplayName:u,methodName:l,renderCountProp:m,shouldHandleStateChanges:x,storeKey:R,displayName:i,wrappedComponentName:r,WrappedComponent:n}),c=N.pure;var f=c?t.useMemo:function(e){return e()};function O(r){var i=Object(t.useMemo)((function(){var e=r.reactReduxForwardedRef,n=p(r,["reactReduxForwardedRef"]);return[r.context,e,n]}),[r]),u=i[0],c=i[1],l=i[2],m=Object(t.useMemo)((function(){return u&&u.Consumer&&Object(b.isContextConsumer)(o.a.createElement(u.Consumer,null))?u:I}),[u,I]),h=Object(t.useContext)(m),O=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(h)&&Boolean(h.store);var j=O?r.store:h.store,R=Object(t.useMemo)((function(){return function(n){return e(n.dispatch,a)}(j)}),[j]),P=Object(t.useMemo)((function(){if(!x)return g;var e=new s(j,O?null:h.subscription),n=e.notifyNestedSubs.bind(e);return[e,n]}),[j,O,h]),E=P[0],A=P[1],D=Object(t.useMemo)((function(){return O?h:d({},h,{subscription:E})}),[O,h,E]),N=Object(t.useReducer)(y,v,S),B=N[0][0],T=N[1];if(B&&B.error)throw B.error;var F=Object(t.useRef)(),M=Object(t.useRef)(l),L=Object(t.useRef)(),z=Object(t.useRef)(!1),W=f((function(){return L.current&&l===M.current?L.current:R(j.getState(),l)}),[j,B,l]);w(C,[M,F,z,l,W,L,A]),w(k,[x,j,E,R,M,F,z,L,A,T],[j,E,R]);var _=Object(t.useMemo)((function(){return o.a.createElement(n,d({},W,{ref:c}))}),[c,n,W]);return Object(t.useMemo)((function(){return x?o.a.createElement(m.Provider,{value:D},_):_}),[m,_,D])}var j=c?o.a.memo(O):O;if(j.WrappedComponent=n,j.displayName=i,E){var P=o.a.forwardRef((function(e,n){return o.a.createElement(j,d({},e,{reactReduxForwardedRef:n}))}));return P.displayName=i,P.WrappedComponent=n,h()(P,n)}return h()(j,n)}}function x(e,n){return e===n?0!==e||0!==n||1/e===1/n:e!==e&&n!==n}function j(e,n){if(x(e,n))return!0;if("object"!==typeof e||null===e||"object"!==typeof n||null===n)return!1;var r=Object.keys(e),t=Object.keys(n);if(r.length!==t.length)return!1;for(var o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(n,r[o])||!x(e[r[o]],n[r[o]]))return!1;return!0}var R=r("9OUN");function P(e){return function(n,r){var t=e(n,r);function o(){return t}return o.dependsOnOwnProps=!1,o}}function E(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function A(e,n){return function(n,r){r.displayName;var t=function(e,n){return t.dependsOnOwnProps?t.mapToProps(e,n):t.mapToProps(e)};return t.dependsOnOwnProps=!0,t.mapToProps=function(n,r){t.mapToProps=e,t.dependsOnOwnProps=E(e);var o=t(n,r);return"function"===typeof o&&(t.mapToProps=o,t.dependsOnOwnProps=E(o),o=t(n,r)),o},t}}var D=[function(e){return"function"===typeof e?A(e):void 0},function(e){return e?void 0:P((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?P((function(n){return Object(R.b)(e,n)})):void 0}];var N=[function(e){return"function"===typeof e?A(e):void 0},function(e){return e?void 0:P((function(){return{}}))}];function I(e,n,r){return d({},r,e,n)}var B=[function(e){return"function"===typeof e?function(e){return function(n,r){r.displayName;var t,o=r.pure,i=r.areMergedPropsEqual,a=!1;return function(n,r,u){var c=e(n,r,u);return a?o&&i(c,t)||(t=c):(a=!0,t=c),t}}}(e):void 0},function(e){return e?void 0:function(){return I}}];function T(e,n,r,t){return function(o,i){return r(e(o,i),n(t,i),i)}}function F(e,n,r,t,o){var i,a,u,c,s,l=o.areStatesEqual,f=o.areOwnPropsEqual,d=o.areStatePropsEqual,p=!1;function m(o,p){var m=!f(p,a),h=!l(o,i);return i=o,a=p,m&&h?(u=e(i,a),n.dependsOnOwnProps&&(c=n(t,a)),s=r(u,c,a)):m?(e.dependsOnOwnProps&&(u=e(i,a)),n.dependsOnOwnProps&&(c=n(t,a)),s=r(u,c,a)):h?function(){var n=e(i,a),t=!d(n,u);return u=n,t&&(s=r(u,c,a)),s}():s}return function(o,l){return p?m(o,l):(u=e(i=o,a=l),c=n(t,a),s=r(u,c,a),p=!0,s)}}function M(e,n){var r=n.initMapStateToProps,t=n.initMapDispatchToProps,o=n.initMergeProps,i=p(n,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=r(e,i),u=t(e,i),c=o(e,i);return(i.pure?F:T)(a,u,c,e,i)}function L(e,n,r){for(var t=n.length-1;t>=0;t--){var o=n[t](e);if(o)return o}return function(n,t){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+t.wrappedComponentName+".")}}function z(e,n){return e===n}function W(e){var n=void 0===e?{}:e,r=n.connectHOC,t=void 0===r?O:r,o=n.mapStateToPropsFactories,i=void 0===o?N:o,a=n.mapDispatchToPropsFactories,u=void 0===a?D:a,c=n.mergePropsFactories,s=void 0===c?B:c,l=n.selectorFactory,f=void 0===l?M:l;return function(e,n,r,o){void 0===o&&(o={});var a=o,c=a.pure,l=void 0===c||c,m=a.areStatesEqual,h=void 0===m?z:m,b=a.areOwnPropsEqual,v=void 0===b?j:b,g=a.areStatePropsEqual,y=void 0===g?j:g,w=a.areMergedPropsEqual,C=void 0===w?j:w,k=p(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),S=L(e,i,"mapStateToProps"),O=L(n,u,"mapDispatchToProps"),x=L(r,s,"mergeProps");return t(f,d({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:S,initMapDispatchToProps:O,initMergeProps:x,pure:l,areStatesEqual:h,areOwnPropsEqual:v,areStatePropsEqual:y,areMergedPropsEqual:C},k))}}var _=W();var U,V=r("7nmT");U=V.unstable_batchedUpdates,a=U},xHP7:function(e,n,r){"use strict";n.a=function(e){var n=[],r=null,t=function(){for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];n=o,r||(r=requestAnimationFrame((function(){r=null,e.apply(void 0,n)})))};return t.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},t}},yaYD:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r("23aj")}])}},[["yaYD",0,1,4,2]]]);