_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[9],{"23aj":function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return jr}));var r=t("KD1n"),o=t("ERkP"),a=t.n(o),i=t("j/s1");function u(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var c=t("Km8e"),s=t.n(c),l=function(e,n){var t=s()({},e,n);for(var r in e){var o;e[r]&&"object"===typeof n[r]&&s()(t,((o={})[r]=s()(e[r],n[r]),o))}return t},f={breakpoints:[40,52,64].map((function(e){return e+"em"}))},d=function(e){return"@media screen and (min-width: "+e+")"},p=function(e,n){return m(n,e,e)},m=function(e,n,t,r,o){for(n=n&&n.split?n.split("."):[n],r=0;r<n.length;r++)e=e?e[n[r]]:o;return e===o?t:e},b=function e(n){var t={},r=function(e){var r={},o=!1,a=e.theme&&e.theme.disableStyledSystemCache;for(var i in e)if(n[i]){var u=n[i],c=e[i],p=m(e.theme,u.scale,u.defaults);if("object"!==typeof c)s()(r,u(c,p,e));else{if(t.breakpoints=!a&&t.breakpoints||m(e.theme,"breakpoints",f.breakpoints),Array.isArray(c)){t.media=!a&&t.media||[null].concat(t.breakpoints.map(d)),r=l(r,h(t.media,u,p,c,e));continue}null!==c&&(r=l(r,v(t.breakpoints,u,p,c,e)),o=!0)}}return o&&(r=function(e){var n={};return Object.keys(e).sort((function(e,n){return e.localeCompare(n,void 0,{numeric:!0,sensitivity:"base"})})).forEach((function(t){n[t]=e[t]})),n}(r)),r};r.config=n,r.propNames=Object.keys(n),r.cache=t;var o=Object.keys(n).filter((function(e){return"config"!==e}));return o.length>1&&o.forEach((function(t){var o;r[t]=e(((o={})[t]=n[t],o))})),r},h=function(e,n,t,r,o){var a={};return r.slice(0,e.length).forEach((function(r,i){var u,c=e[i],l=n(r,t,o);c?s()(a,((u={})[c]=s()({},a[c],l),u)):s()(a,l)})),a},v=function(e,n,t,r,o){var a={};for(var i in r){var u=e[i],c=n(r[i],t,o);if(u){var l,f=d(u);s()(a,((l={})[f]=s()({},a[f],c),l))}else s()(a,c)}return a},g=function(e){var n=e.properties,t=e.property,r=e.scale,o=e.transform,a=void 0===o?p:o,i=e.defaultScale;n=n||[t];var u=function(e,t,r){var o={},i=a(e,t,r);if(null!==i)return n.forEach((function(e){o[e]=i})),o};return u.scale=r,u.defaults=i,u},y=function(e){void 0===e&&(e={});var n={};return Object.keys(e).forEach((function(t){var r=e[t];n[t]=!0!==r?"function"!==typeof r?g(r):r:g({property:t,scale:t})})),b(n)},w=function(){for(var e={},n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];t.forEach((function(n){n&&n.config&&s()(e,n.config)}));var o=b(e);return o},C=y({width:{property:"width",scale:"sizes",transform:function(e,n){return m(n,e,!function(e){return"number"===typeof e&&!isNaN(e)}(e)||e>1?e:100*e+"%")}},height:{property:"height",scale:"sizes"},minWidth:{property:"minWidth",scale:"sizes"},minHeight:{property:"minHeight",scale:"sizes"},maxWidth:{property:"maxWidth",scale:"sizes"},maxHeight:{property:"maxHeight",scale:"sizes"},size:{properties:["width","height"],scale:"sizes"},overflow:!0,overflowX:!0,overflowY:!0,display:!0,verticalAlign:!0}),k=C,S={color:{property:"color",scale:"colors"},backgroundColor:{property:"backgroundColor",scale:"colors"},opacity:!0};S.bg=S.backgroundColor;var O=y(S),j=O,x=y({fontFamily:{property:"fontFamily",scale:"fonts"},fontSize:{property:"fontSize",scale:"fontSizes",defaultScale:[12,14,16,20,24,32,48,64,72]},fontWeight:{property:"fontWeight",scale:"fontWeights"},lineHeight:{property:"lineHeight",scale:"lineHeights"},letterSpacing:{property:"letterSpacing",scale:"letterSpacings"},textAlign:!0,fontStyle:!0}),R=y({alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:!0,flex:!0,flexGrow:!0,flexShrink:!0,flexBasis:!0,justifySelf:!0,alignSelf:!0,order:!0}),P=R,E={space:[0,4,8,16,32,64,128,256,512]},D=y({gridGap:{property:"gridGap",scale:"space",defaultScale:E.space},gridColumnGap:{property:"gridColumnGap",scale:"space",defaultScale:E.space},gridRowGap:{property:"gridRowGap",scale:"space",defaultScale:E.space},gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridAutoRows:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0}),A={border:{property:"border",scale:"borders"},borderWidth:{property:"borderWidth",scale:"borderWidths"},borderStyle:{property:"borderStyle",scale:"borderStyles"},borderColor:{property:"borderColor",scale:"colors"},borderRadius:{property:"borderRadius",scale:"radii"},borderTop:{property:"borderTop",scale:"borders"},borderTopLeftRadius:{property:"borderTopLeftRadius",scale:"radii"},borderTopRightRadius:{property:"borderTopRightRadius",scale:"radii"},borderRight:{property:"borderRight",scale:"borders"},borderBottom:{property:"borderBottom",scale:"borders"},borderBottomLeftRadius:{property:"borderBottomLeftRadius",scale:"radii"},borderBottomRightRadius:{property:"borderBottomRightRadius",scale:"radii"},borderLeft:{property:"borderLeft",scale:"borders"},borderX:{properties:["borderLeft","borderRight"],scale:"borders"},borderY:{properties:["borderTop","borderBottom"],scale:"borders"},borderTopWidth:{property:"borderTopWidth",scale:"borderWidths"},borderTopColor:{property:"borderTopColor",scale:"colors"},borderTopStyle:{property:"borderTopStyle",scale:"borderStyles"}};A.borderTopLeftRadius={property:"borderTopLeftRadius",scale:"radii"},A.borderTopRightRadius={property:"borderTopRightRadius",scale:"radii"},A.borderBottomWidth={property:"borderBottomWidth",scale:"borderWidths"},A.borderBottomColor={property:"borderBottomColor",scale:"colors"},A.borderBottomStyle={property:"borderBottomStyle",scale:"borderStyles"},A.borderBottomLeftRadius={property:"borderBottomLeftRadius",scale:"radii"},A.borderBottomRightRadius={property:"borderBottomRightRadius",scale:"radii"},A.borderLeftWidth={property:"borderLeftWidth",scale:"borderWidths"},A.borderLeftColor={property:"borderLeftColor",scale:"colors"},A.borderLeftStyle={property:"borderLeftStyle",scale:"borderStyles"},A.borderRightWidth={property:"borderRightWidth",scale:"borderWidths"},A.borderRightColor={property:"borderRightColor",scale:"colors"},A.borderRightStyle={property:"borderRightStyle",scale:"borderStyles"};var F=y(A),N=F,I={background:!0,backgroundImage:!0,backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0};I.bgImage=I.backgroundImage,I.bgSize=I.backgroundSize,I.bgPosition=I.backgroundPosition,I.bgRepeat=I.backgroundRepeat;var B=y(I),M={space:[0,4,8,16,32,64,128,256,512]},T=y({position:!0,zIndex:{property:"zIndex",scale:"zIndices"},top:{property:"top",scale:"space",defaultScale:M.space},right:{property:"right",scale:"space",defaultScale:M.space},bottom:{property:"bottom",scale:"space",defaultScale:M.space},left:{property:"left",scale:"space",defaultScale:M.space}}),V=T,_={space:[0,4,8,16,32,64,128,256,512]},L=function(e){return"number"===typeof e&&!isNaN(e)},W=function(e,n){if(!L(e))return m(n,e,e);var t=e<0,r=Math.abs(e),o=m(n,r,r);return L(o)?o*(t?-1:1):t?"-"+o:o},z={};z.margin={margin:{property:"margin",scale:"space",transform:W,defaultScale:_.space},marginTop:{property:"marginTop",scale:"space",transform:W,defaultScale:_.space},marginRight:{property:"marginRight",scale:"space",transform:W,defaultScale:_.space},marginBottom:{property:"marginBottom",scale:"space",transform:W,defaultScale:_.space},marginLeft:{property:"marginLeft",scale:"space",transform:W,defaultScale:_.space},marginX:{properties:["marginLeft","marginRight"],scale:"space",transform:W,defaultScale:_.space},marginY:{properties:["marginTop","marginBottom"],scale:"space",transform:W,defaultScale:_.space}},z.margin.m=z.margin.margin,z.margin.mt=z.margin.marginTop,z.margin.mr=z.margin.marginRight,z.margin.mb=z.margin.marginBottom,z.margin.ml=z.margin.marginLeft,z.margin.mx=z.margin.marginX,z.margin.my=z.margin.marginY,z.padding={padding:{property:"padding",scale:"space",defaultScale:_.space},paddingTop:{property:"paddingTop",scale:"space",defaultScale:_.space},paddingRight:{property:"paddingRight",scale:"space",defaultScale:_.space},paddingBottom:{property:"paddingBottom",scale:"space",defaultScale:_.space},paddingLeft:{property:"paddingLeft",scale:"space",defaultScale:_.space},paddingX:{properties:["paddingLeft","paddingRight"],scale:"space",defaultScale:_.space},paddingY:{properties:["paddingTop","paddingBottom"],scale:"space",defaultScale:_.space}},z.padding.p=z.padding.padding,z.padding.pt=z.padding.paddingTop,z.padding.pr=z.padding.paddingRight,z.padding.pb=z.padding.paddingBottom,z.padding.pl=z.padding.paddingLeft,z.padding.px=z.padding.paddingX,z.padding.py=z.padding.paddingY;var U=w(y(z.margin),y(z.padding));y({boxShadow:{property:"boxShadow",scale:"shadows"},textShadow:{property:"textShadow",scale:"shadows"}});function H(){return(H=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var q=function(e,n,t,r,o){for(n=n&&n.split?n.split("."):[n],r=0;r<n.length;r++)e=e?e[n[r]]:o;return e===o?t:e},G=[40,52,64].map((function(e){return e+"em"})),Y={space:[0,4,8,16,32,64,128,256,512],fontSizes:[12,14,16,20,24,32,48,64,72]},K={bg:"backgroundColor",m:"margin",mt:"marginTop",mr:"marginRight",mb:"marginBottom",ml:"marginLeft",mx:"marginX",my:"marginY",p:"padding",pt:"paddingTop",pr:"paddingRight",pb:"paddingBottom",pl:"paddingLeft",px:"paddingX",py:"paddingY"},J={marginX:["marginLeft","marginRight"],marginY:["marginTop","marginBottom"],paddingX:["paddingLeft","paddingRight"],paddingY:["paddingTop","paddingBottom"],size:["width","height"]},X={color:"colors",backgroundColor:"colors",borderColor:"colors",margin:"space",marginTop:"space",marginRight:"space",marginBottom:"space",marginLeft:"space",marginX:"space",marginY:"space",padding:"space",paddingTop:"space",paddingRight:"space",paddingBottom:"space",paddingLeft:"space",paddingX:"space",paddingY:"space",top:"space",right:"space",bottom:"space",left:"space",gridGap:"space",gridColumnGap:"space",gridRowGap:"space",gap:"space",columnGap:"space",rowGap:"space",fontFamily:"fonts",fontSize:"fontSizes",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",border:"borders",borderTop:"borders",borderRight:"borders",borderBottom:"borders",borderLeft:"borders",borderWidth:"borderWidths",borderStyle:"borderStyles",borderRadius:"radii",borderTopRightRadius:"radii",borderTopLeftRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",borderTopWidth:"borderWidths",borderTopColor:"colors",borderTopStyle:"borderStyles",borderBottomWidth:"borderWidths",borderBottomColor:"colors",borderBottomStyle:"borderStyles",borderLeftWidth:"borderWidths",borderLeftColor:"colors",borderLeftStyle:"borderStyles",borderRightWidth:"borderWidths",borderRightColor:"colors",borderRightStyle:"borderStyles",outlineColor:"colors",boxShadow:"shadows",textShadow:"shadows",zIndex:"zIndices",width:"sizes",minWidth:"sizes",maxWidth:"sizes",height:"sizes",minHeight:"sizes",maxHeight:"sizes",flexBasis:"sizes",size:"sizes",fill:"colors",stroke:"colors"},$=function(e,n){if("number"!==typeof n||n>=0)return q(e,n,n);var t=Math.abs(n),r=q(e,t,t);return"string"===typeof r?"-"+r:-1*r},Q=["margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","top","bottom","left","right"].reduce((function(e,n){var t;return H({},e,((t={})[n]=$,t))}),{}),Z=function e(n){return function(t){void 0===t&&(t={});var r=H({},Y,{},t.theme||t),o={},a=function(e){return function(n){var t={},r=q(n,"breakpoints",G),o=[null].concat(r.map((function(e){return"@media screen and (min-width: "+e+")"})));for(var a in e){var i="function"===typeof e[a]?e[a](n):e[a];if(null!=i)if(Array.isArray(i))for(var u=0;u<i.slice(0,o.length).length;u++){var c=o[u];c?(t[c]=t[c]||{},null!=i[u]&&(t[c][a]=i[u])):t[a]=i[u]}else t[a]=i}return t}}("function"===typeof n?n(r):n)(r);for(var i in a){var u=a[i],c="function"===typeof u?u(r):u;if("variant"!==i)if(c&&"object"===typeof c)o[i]=e(c)(r);else{var s=q(K,i,i),l=q(X,s),f=q(r,l,q(r,s,{})),d=q(Q,s,q)(f,c,c);if(J[s])for(var p=J[s],m=0;m<p.length;m++)o[p[m]]=d;else o[s]=d}else o=H({},o,{},e(q(r,c))(r))}return o}},ee=function(e){var n,t,r=e.scale,o=e.prop,a=void 0===o?"variant":o,i=e.variants,u=void 0===i?{}:i,c=e.key;(t=Object.keys(u).length?function(e,n,t){return Z(m(n,e,null))(t.theme)}:function(e,n){return m(n,e,null)}).scale=r||c,t.defaults=u;var s=((n={})[a]=t,n);return b(s)},ne=(ee({key:"buttons"}),ee({key:"textStyles",prop:"textStyle"})),te=(ee({key:"colorStyles",prop:"colors"}),k.width,k.height,k.minWidth,k.minHeight,k.maxWidth,k.maxHeight,k.size,k.verticalAlign,k.display,k.overflow,k.overflowX,k.overflowY,j.opacity,x.fontSize),re=(x.fontFamily,x.fontWeight,x.lineHeight,x.textAlign,x.fontStyle,x.letterSpacing,P.alignItems,P.alignContent,P.justifyItems,P.justifyContent,P.flexWrap,P.flexDirection,P.flex,P.flexGrow,P.flexShrink,P.flexBasis,P.justifySelf,P.alignSelf,P.order,D.gridGap,D.gridColumnGap,D.gridRowGap,D.gridColumn,D.gridRow,D.gridAutoFlow,D.gridAutoColumns,D.gridAutoRows,D.gridTemplateColumns,D.gridTemplateRows,D.gridTemplateAreas,D.gridArea,N.borderWidth,N.borderStyle,N.borderColor,N.borderTop,N.borderRight,N.borderBottom,N.borderLeft,N.borderRadius,B.backgroundImage,B.backgroundSize,B.backgroundPosition,B.backgroundRepeat,V.zIndex,V.top,V.right,V.bottom,V.left,a.a.createElement);function oe(){var e=Object(r.a)(["\n    float: left;\n"]);return oe=function(){return e},e}function ae(){var e=Object(r.a)(['\n    &:after {\n        content: "";\n        clear: both;\n        display: table;\n    }\n']);return ae=function(){return e},e}function ie(){var e=Object(r.a)(["\n    margin: auto;\n    max-width: ",";\n    position: relative;\n    ","\n"]);return ie=function(){return e},e}function ue(){var e=Object(r.a)(["\n    display: flex;\n    ","\n"]);return ue=function(){return e},e}function ce(){var e=Object(r.a)(["\n    ","\n"]);return ce=function(){return e},e}var se=w(U,O,C,R,F,T),le=i.c.div(ce(),se),fe=i.c.div(ue(),se),de=Object(i.c)((function(e){var n=e.page,t=e.children,r=u(e,["page","children"]);return re(le,r,n?re(le,{px:[2,3,4],pb:5},t):t)}))(ie(),(function(e){return e.theme.widths.wrapper}),U),pe=Object(i.c)((function(e){var n=e.children,t=e.none,r=u(e,["children","none"]),o=t&&0===n.length?t:n.map((function(e,n){return re(me,{key:n,mr:2,mb:2},e)}));return re(le,r,o)}))(ae()),me=Object(i.c)(le)(oe());function be(){var e=Object(r.a)(["\n    color: ",";\n    text-decoration: none;\n    font-style: normal;\n    cursor: pointer;\n\n    &:hover, &:focus {\n        color: ",";\n        text-decoration: underline;\n    }\n\n    &:active {\n        color: ",";\n    }\n"]);return be=function(){return e},e}function he(){var e=Object(r.a)(["\n    font-size: ",";\n    color: ",";\n    line-height: 1.4em;\n"]);return he=function(){return e},e}function ve(){var e=Object(r.a)(["\n    font-size: ",";\n    color: ",";\n    line-height: 1.4em;\n"]);return ve=function(){return e},e}function ge(){var e=Object(r.a)(["\n    ","\n    ","\n    ","\n    ","\n"]);return ge=function(){return e},e}var ye=i.c.span(ge(),ne,U,O,te),we=i.c.h1(ve(),(function(e){return e.theme.fontSizes.bigger}),(function(e){return e.theme.colors.heading})),Ce=i.c.h2(he(),(function(e){return e.theme.fontSizes.big}),(function(e){return e.theme.colors.heading})),ke=i.c.a(be(),(function(e){return e.theme.colors.link}),(function(e){return e.theme.colors.link}),(function(e){return e.theme.colors.link}));function Se(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Oe(e,n){if(e){if("string"===typeof e)return Se(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Se(e,n):void 0}}function je(e){return function(e){if(Array.isArray(e))return Se(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Oe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xe=t("VtSi"),Re=t.n(xe);function Pe(e,n,t,r,o,a,i){try{var u=e[a](i),c=u.value}catch(s){return void t(s)}u.done?n(c):Promise.resolve(c).then(r,o)}function Ee(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function i(e){Pe(a,r,o,i,u,"next",e)}function u(e){Pe(a,r,o,i,u,"throw",e)}i(void 0)}))}}function De(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(c){o=!0,a=c}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return t}}(e,n)||Oe(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(){return(Ae=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Fe(e,n){if(e===n)return!0;if(!e||!n)return!1;var t=e.length;if(n.length!==t)return!1;for(var r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function Ne(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(t.length?" "+t.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ie(e){return!!e&&!!e[On]}function Be(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var n=Object.getPrototypeOf(e);if(null===n)return!0;var t=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return"function"==typeof t&&Function.toString.call(t)===xn}(e)||Array.isArray(e)||!!e[Sn]||!!e.constructor[Sn]||ze(e)||Ue(e))}function Me(e,n,t){void 0===t&&(t=!1),0===Te(e)?(t?Object.keys:Rn)(e).forEach((function(r){t&&"symbol"==typeof r||n(r,e[r],e)})):e.forEach((function(t,r){return n(r,t,e)}))}function Te(e){var n=e[On];return n?n.i>3?n.i-4:n.i:Array.isArray(e)?1:ze(e)?2:Ue(e)?3:0}function Ve(e,n){return 2===Te(e)?e.has(n):Object.prototype.hasOwnProperty.call(e,n)}function _e(e,n){return 2===Te(e)?e.get(n):e[n]}function Le(e,n,t){var r=Te(e);2===r?e.set(n,t):3===r?(e.delete(n),e.add(t)):e[n]=t}function We(e,n){return e===n?0!==e||1/e==1/n:e!=e&&n!=n}function ze(e){return yn&&e instanceof Map}function Ue(e){return wn&&e instanceof Set}function He(e){return e.o||e.t}function qe(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var n=Pn(e);delete n[On];for(var t=Rn(n),r=0;r<t.length;r++){var o=t[r],a=n[o];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),n)}function Ge(e,n){return void 0===n&&(n=!1),Ke(e)||Ie(e)||!Be(e)||(Te(e)>1&&(e.set=e.add=e.clear=e.delete=Ye),Object.freeze(e),n&&Me(e,(function(e,n){return Ge(n,!0)}),!0)),e}function Ye(){Ne(2)}function Ke(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Je(e){var n=En[e];return n||Ne(18,e),n}function Xe(e,n){En[e]||(En[e]=n)}function $e(){return vn}function Qe(e,n){n&&(Je("Patches"),e.u=[],e.s=[],e.v=n)}function Ze(e){en(e),e.p.forEach(tn),e.p=null}function en(e){e===vn&&(vn=e.l)}function nn(e){return vn={p:[],l:vn,h:e,m:!0,_:0}}function tn(e){var n=e[On];0===n.i||1===n.i?n.j():n.g=!0}function rn(e,n){n._=n.p.length;var t=n.p[0],r=void 0!==e&&e!==t;return n.h.O||Je("ES5").S(n,e,r),r?(t[On].P&&(Ze(n),Ne(4)),Be(e)&&(e=on(n,e),n.l||un(n,e)),n.u&&Je("Patches").M(t[On],e,n.u,n.s)):e=on(n,t,[]),Ze(n),n.u&&n.v(n.u,n.s),e!==kn?e:void 0}function on(e,n,t){if(Ke(n))return n;var r=n[On];if(!r)return Me(n,(function(o,a){return an(e,r,n,o,a,t)}),!0),n;if(r.A!==e)return n;if(!r.P)return un(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=qe(r.k):r.o;Me(3===r.i?new Set(o):o,(function(n,a){return an(e,r,o,n,a,t)})),un(e,o,!1),t&&e.u&&Je("Patches").R(r,t,e.u,e.s)}return r.o}function an(e,n,t,r,o,a){if(Ie(o)){var i=on(e,o,a&&n&&3!==n.i&&!Ve(n.D,r)?a.concat(r):void 0);if(Le(t,r,i),!Ie(i))return;e.m=!1}if(Be(o)&&!Ke(o)){if(!e.h.F&&e._<1)return;on(e,o),n&&n.A.l||un(e,o)}}function un(e,n,t){void 0===t&&(t=!1),e.h.F&&e.m&&Ge(n,t)}function cn(e,n){var t=e[On];return(t?He(t):e)[n]}function sn(e,n){if(n in e)for(var t=Object.getPrototypeOf(e);t;){var r=Object.getOwnPropertyDescriptor(t,n);if(r)return r;t=Object.getPrototypeOf(t)}}function ln(e){e.P||(e.P=!0,e.l&&ln(e.l))}function fn(e){e.o||(e.o=qe(e.t))}function dn(e,n,t){var r=ze(n)?Je("MapSet").N(n,t):Ue(n)?Je("MapSet").T(n,t):e.O?function(e,n){var t=Array.isArray(e),r={i:t?1:0,A:n?n.A:$e(),P:!1,I:!1,D:{},l:n,t:e,k:null,o:null,j:null,C:!1},o=r,a=Dn;t&&(o=[r],a=An);var i=Proxy.revocable(o,a),u=i.revoke,c=i.proxy;return r.k=c,r.j=u,c}(n,t):Je("ES5").J(n,t);return(t?t.A:$e()).p.push(r),r}function pn(e,n){switch(n){case 2:return new Map(e);case 3:return Array.from(e)}return qe(e)}function mn(){function e(n){if(!Be(n))return n;if(Array.isArray(n))return n.map(e);if(ze(n))return new Map(Array.from(n.entries()).map((function(n){return[n[0],e(n[1])]})));if(Ue(n))return new Set(Array.from(n).map(e));var t=Object.create(Object.getPrototypeOf(n));for(var r in n)t[r]=e(n[r]);return Ve(n,Sn)&&(t[Sn]=n[Sn]),t}function n(n){return Ie(n)?e(n):n}var t="add";Xe("Patches",{$:function(n,r){return r.forEach((function(r){for(var o=r.path,a=r.op,i=n,u=0;u<o.length-1;u++){var c=Te(i),s=o[u];0!==c&&1!==c||"__proto__"!==s&&"constructor"!==s||Ne(24),"function"==typeof i&&"prototype"===s&&Ne(24),"object"!=typeof(i=_e(i,s))&&Ne(15,o.join("/"))}var l=Te(i),f=e(r.value),d=o[o.length-1];switch(a){case"replace":switch(l){case 2:return i.set(d,f);case 3:Ne(16);default:return i[d]=f}case t:switch(l){case 1:return i.splice(d,0,f);case 2:return i.set(d,f);case 3:return i.add(f);default:return i[d]=f}case"remove":switch(l){case 1:return i.splice(d,1);case 2:return i.delete(d);case 3:return i.delete(r.value);default:return delete i[d]}default:Ne(17,a)}})),n},R:function(e,r,o,a){switch(e.i){case 0:case 4:case 2:return function(e,r,o,a){var i=e.t,u=e.o;Me(e.D,(function(e,c){var s=_e(i,e),l=_e(u,e),f=c?Ve(i,e)?"replace":t:"remove";if(s!==l||"replace"!==f){var d=r.concat(e);o.push("remove"===f?{op:f,path:d}:{op:f,path:d,value:l}),a.push(f===t?{op:"remove",path:d}:"remove"===f?{op:t,path:d,value:n(s)}:{op:"replace",path:d,value:n(s)})}}))}(e,r,o,a);case 5:case 1:return function(e,r,o,a){var i=e.t,u=e.D,c=e.o;if(c.length<i.length){var s=[c,i];i=s[0],c=s[1];var l=[a,o];o=l[0],a=l[1]}for(var f=0;f<i.length;f++)if(u[f]&&c[f]!==i[f]){var d=r.concat([f]);o.push({op:"replace",path:d,value:n(c[f])}),a.push({op:"replace",path:d,value:n(i[f])})}for(var p=i.length;p<c.length;p++){var m=r.concat([p]);o.push({op:t,path:m,value:n(c[p])})}i.length<c.length&&a.push({op:"replace",path:r.concat(["length"]),value:i.length})}(e,r,o,a);case 3:return function(e,n,r,o){var a=e.t,i=e.o,u=0;a.forEach((function(e){if(!i.has(e)){var a=n.concat([u]);r.push({op:"remove",path:a,value:e}),o.unshift({op:t,path:a,value:e})}u++})),u=0,i.forEach((function(e){if(!a.has(e)){var i=n.concat([u]);r.push({op:t,path:i,value:e}),o.unshift({op:"remove",path:i,value:e})}u++}))}(e,r,o,a)}},M:function(e,n,t,r){t.push({op:"replace",path:[],value:n}),r.push({op:"replace",path:[],value:e.t})}})}function bn(){function e(e,n){function t(){this.constructor=e}o(e,n),e.prototype=(t.prototype=n.prototype,new t)}function n(e){e.o||(e.D=new Map,e.o=new Map(e.t))}function t(e){e.o||(e.o=new Set,e.t.forEach((function(n){if(Be(n)){var t=dn(e.A.h,n,e);e.p.set(n,t),e.o.add(t)}else e.o.add(n)})))}function r(e){e.g&&Ne(3,JSON.stringify(He(e)))}var o=function(e,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},a=function(){function t(e,n){return this[On]={i:2,l:n,A:n?n.A:$e(),P:!1,I:!1,o:void 0,D:void 0,t:e,k:this,C:!1,g:!1},this}e(t,Map);var o=t.prototype;return Object.defineProperty(o,"size",{get:function(){return He(this[On]).size}}),o.has=function(e){return He(this[On]).has(e)},o.set=function(e,t){var o=this[On];return r(o),He(o).has(e)&&He(o).get(e)===t||(n(o),ln(o),o.D.set(e,!0),o.o.set(e,t),o.D.set(e,!0)),this},o.delete=function(e){if(!this.has(e))return!1;var t=this[On];return r(t),n(t),ln(t),t.D.set(e,!1),t.o.delete(e),!0},o.clear=function(){var e=this[On];r(e),He(e).size&&(n(e),ln(e),e.D=new Map,Me(e.t,(function(n){e.D.set(n,!1)})),e.o.clear())},o.forEach=function(e,n){var t=this;He(this[On]).forEach((function(r,o){e.call(n,t.get(o),o,t)}))},o.get=function(e){var t=this[On];r(t);var o=He(t).get(e);if(t.I||!Be(o))return o;if(o!==t.t.get(e))return o;var a=dn(t.A.h,o,t);return n(t),t.o.set(e,a),a},o.keys=function(){return He(this[On]).keys()},o.values=function(){var e,n=this,t=this.keys();return(e={})[jn]=function(){return n.values()},e.next=function(){var e=t.next();return e.done?e:{done:!1,value:n.get(e.value)}},e},o.entries=function(){var e,n=this,t=this.keys();return(e={})[jn]=function(){return n.entries()},e.next=function(){var e=t.next();if(e.done)return e;var r=n.get(e.value);return{done:!1,value:[e.value,r]}},e},o[jn]=function(){return this.entries()},t}(),i=function(){function n(e,n){return this[On]={i:3,l:n,A:n?n.A:$e(),P:!1,I:!1,o:void 0,t:e,k:this,p:new Map,g:!1,C:!1},this}e(n,Set);var o=n.prototype;return Object.defineProperty(o,"size",{get:function(){return He(this[On]).size}}),o.has=function(e){var n=this[On];return r(n),n.o?!!n.o.has(e)||!(!n.p.has(e)||!n.o.has(n.p.get(e))):n.t.has(e)},o.add=function(e){var n=this[On];return r(n),this.has(e)||(t(n),ln(n),n.o.add(e)),this},o.delete=function(e){if(!this.has(e))return!1;var n=this[On];return r(n),t(n),ln(n),n.o.delete(e)||!!n.p.has(e)&&n.o.delete(n.p.get(e))},o.clear=function(){var e=this[On];r(e),He(e).size&&(t(e),ln(e),e.o.clear())},o.values=function(){var e=this[On];return r(e),t(e),e.o.values()},o.entries=function(){var e=this[On];return r(e),t(e),e.o.entries()},o.keys=function(){return this.values()},o[jn]=function(){return this.values()},o.forEach=function(e,n){for(var t=this.values(),r=t.next();!r.done;)e.call(n,r.value,r.value,this),r=t.next()},n}();Xe("MapSet",{N:function(e,n){return new a(e,n)},T:function(e,n){return new i(e,n)}})}var hn,vn,gn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),yn="undefined"!=typeof Map,wn="undefined"!=typeof Set,Cn="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,kn=gn?Symbol.for("immer-nothing"):((hn={})["immer-nothing"]=!0,hn),Sn=gn?Symbol.for("immer-draftable"):"__$immer_draftable",On=gn?Symbol.for("immer-state"):"__$immer_state",jn="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",xn=""+Object.prototype.constructor,Rn="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Pn=Object.getOwnPropertyDescriptors||function(e){var n={};return Rn(e).forEach((function(t){n[t]=Object.getOwnPropertyDescriptor(e,t)})),n},En={},Dn={get:function(e,n){if(n===On)return e;var t=He(e);if(!Ve(t,n))return function(e,n,t){var r,o=sn(n,t);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,t,n);var r=t[n];return e.I||!Be(r)?r:r===cn(e.t,n)?(fn(e),e.o[n]=dn(e.A.h,r,e)):r},has:function(e,n){return n in He(e)},ownKeys:function(e){return Reflect.ownKeys(He(e))},set:function(e,n,t){var r=sn(He(e),n);if(null==r?void 0:r.set)return r.set.call(e.k,t),!0;if(!e.P){var o=cn(He(e),n),a=null==o?void 0:o[On];if(a&&a.t===t)return e.o[n]=t,e.D[n]=!1,!0;if(We(t,o)&&(void 0!==t||Ve(e.t,n)))return!0;fn(e),ln(e)}return e.o[n]===t&&"number"!=typeof t||(e.o[n]=t,e.D[n]=!0,!0)},deleteProperty:function(e,n){return void 0!==cn(e.t,n)||n in e.t?(e.D[n]=!1,fn(e),ln(e)):delete e.D[n],e.o&&delete e.o[n],!0},getOwnPropertyDescriptor:function(e,n){var t=He(e),r=Reflect.getOwnPropertyDescriptor(t,n);return r?{writable:!0,configurable:1!==e.i||"length"!==n,enumerable:r.enumerable,value:t[n]}:r},defineProperty:function(){Ne(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ne(12)}},An={};Me(Dn,(function(e,n){An[e]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}})),An.deleteProperty=function(e,n){return Dn.deleteProperty.call(this,e[0],n)},An.set=function(e,n,t){return Dn.set.call(this,e[0],n,t,e[0])};var Fn=new(function(){function e(e){var n=this;this.O=Cn,this.F=!0,this.produce=function(e,t,r){if("function"==typeof e&&"function"!=typeof t){var o=t;t=e;var a=n;return function(e){var n=this;void 0===e&&(e=o);for(var r=arguments.length,i=Array(r>1?r-1:0),u=1;u<r;u++)i[u-1]=arguments[u];return a.produce(e,(function(e){var r;return(r=t).call.apply(r,[n,e].concat(i))}))}}var i;if("function"!=typeof t&&Ne(6),void 0!==r&&"function"!=typeof r&&Ne(7),Be(e)){var u=nn(n),c=dn(n,e,void 0),s=!0;try{i=t(c),s=!1}finally{s?Ze(u):en(u)}return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return Qe(u,r),rn(e,u)}),(function(e){throw Ze(u),e})):(Qe(u,r),rn(i,u))}if(!e||"object"!=typeof e){if((i=t(e))===kn)return;return void 0===i&&(i=e),n.F&&Ge(i,!0),i}Ne(21,e)},this.produceWithPatches=function(e,t){return"function"==typeof e?function(t){for(var r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return n.produceWithPatches(t,(function(n){return e.apply(void 0,[n].concat(o))}))}:[n.produce(e,t,(function(e,n){r=e,o=n})),r,o];var r,o},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var n=e.prototype;return n.createDraft=function(e){Be(e)||Ne(8),Ie(e)&&(e=function(e){return Ie(e)||Ne(22,e),function e(n){if(!Be(n))return n;var t,r=n[On],o=Te(n);if(r){if(!r.P&&(r.i<4||!Je("ES5").K(r)))return r.t;r.I=!0,t=pn(n,o),r.I=!1}else t=pn(n,o);return Me(t,(function(n,o){r&&_e(r.t,n)===o||Le(t,n,e(o))})),3===o?new Set(t):t}(e)}(e));var n=nn(this),t=dn(this,e,void 0);return t[On].C=!0,en(n),t},n.finishDraft=function(e,n){var t=(e&&e[On]).A;return Qe(t,n),rn(void 0,t)},n.setAutoFreeze=function(e){this.F=e},n.setUseProxies=function(e){e&&!Cn&&Ne(20),this.O=e},n.applyPatches=function(e,n){var t;for(t=n.length-1;t>=0;t--){var r=n[t];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var o=Je("Patches").$;return Ie(e)?o(e,n):this.produce(e,(function(e){return o(e,n.slice(t+1))}))},e}()),Nn=Fn.produce,In=Fn.produceWithPatches.bind(Fn),Bn=(Fn.setAutoFreeze.bind(Fn),Fn.setUseProxies.bind(Fn),Fn.applyPatches.bind(Fn)),Mn=(Fn.createDraft.bind(Fn),Fn.finishDraft.bind(Fn),Nn);function Tn(){return(Tn=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var Vn=function(e,n){return new Error("Cant access property "+String(n)+" of "+String(e))};function _n(e){return e instanceof Map?3:e instanceof Set?4:Array.isArray(e)?2:e instanceof Object?1:0}function Ln(e,n){var t=_n(e);if(0===t)throw Vn(e,n);return 3===t?e.get(n):4===t?e.has(n)?n:void 0:e[n]}function Wn(e,n){return n.reduce((function(e,n){return Ln(e,n)}),e)}function zn(e){var n=_n(e);if(1===n)return Object.entries(e);if(2===n||3===n||4===n)return Array.from(e.entries());throw Vn(e,"any")}function Un(e){return 1===e?{}:2===e?[]:3===e?new Map:4===e?new Set:void 0}var Hn=function(e,n){return n.map((function(n){var t=Tn({},n,{path:e.concat(n.path)});return n.from&&(t.from=e.concat(n.from)),t}))};mn();var qn=function(e,n){var t,r,o=[],a=[],i=function(){if(0!==a.length){if(r){var n=Wn(e,r),t=function(e,n){return n.filter((function(n){return e.every((function(e,t){return e===n.path[t]}))})).map((function(n){return Tn({},n,{path:n.path.slice(e.length)})}))}(r,a),i=Gn(n,t),u=Hn(r,i);o=o.concat(u)}else o=o.concat(a);a=[]}};return n.forEach((function(n){var o=n.path.slice(0,-1),u=function(e,n){var r=JSON.stringify(n);if(t&&t[1]===r)return t[0];var o=Array.isArray(Wn(e,n));return t=[o,r],o}(e,o)?o:void 0;JSON.stringify(u)!==JSON.stringify(r)&&(i(),r=u),n.value===kn&&(n=Tn({},n,{value:void 0})),a.push(n)})),i(),o},Gn=function(e,n){var t=[],r=0,o=new Map,a=new Map,i=function(e){if(o.has(e))return o.get(e);var n=r++;return o.set(e,n),a.set(n,e),n},u=e.map(i),c=new Set(u),s=[];if(1===n.length&&0===n[0].path.length){var l=n[0].value;if(!Array.isArray(l))return n;s=l.map(i)}else{var f=n.map((function(e){var n=e.op,t=e.value,r=e.path;return"remove"===n||"replace"===n&&1===r.length&&"length"===r[0]?e:Tn({},e,{value:i(t)})}));s=Bn(u,f)}var d=s.filter((function(e){return c.has(e)})),p=u.slice();return d.forEach((function(e,n){if(e!==p[n]){var r=p.indexOf(e);t.push({op:"move",from:[r],path:[n]}),p.splice(r,1),p.splice(n,0,e)}})),d.length<u.length&&t.push({op:"replace",path:["length"],value:d.length}),s.forEach((function(e,n){if(!c.has(e)){var r=a.get(e);t.push({op:"add",path:[n],value:r})}})),t},Yn=function(e,n){return n.forEach((function(n){if("move"===n.op){var t=n.from;e=Bn(e,[{op:"remove",path:t},{op:"add",path:n.path,value:Wn(e,t)}])}else e=Bn(e,[n])})),e};function Kn(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jn(e,n,t){return n&&Kn(e.prototype,n),t&&Kn(e,t),e}function Xn(){return(Xn=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function $n(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}function Qn(e){return(Qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zn(e,n){return(Zn=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function et(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function nt(e,n,t){return(nt=et()?Reflect.construct:function(e,n,t){var r=[null];r.push.apply(r,n);var o=new(Function.bind.apply(e,r));return t&&Zn(o,t.prototype),o}).apply(null,arguments)}function tt(e){var n="function"===typeof Map?new Map:void 0;return(tt=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return nt(e,arguments,Qn(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Zn(t,e)})(e)}function rt(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function ot(e,n){var t;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"===typeof e)return rt(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?rt(e,n):void 0}}(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e[Symbol.iterator]()).next.bind(t)}var at=function(){function e(){this.value=[],this.nodes=[]}return e.concat=function(n,t){var r,o,a,i,u=new e;return u.value=(null!==(r=null===n||void 0===n?void 0:n.value)&&void 0!==r?r:[]).concat(null!==(o=null===t||void 0===t?void 0:t.value)&&void 0!==o?o:[]),u.nodes=(null!==(a=null===n||void 0===n?void 0:n.nodes)&&void 0!==a?a:[]).concat(null!==(i=null===t||void 0===t?void 0:t.nodes)&&void 0!==i?i:[]),u},e}();function it(e){return"function"===typeof e}var ut=function(e,n){return{__patches:it(e)?e:function(){return e},__patchesInverse:n?it(n)?n:function(){return n}:function(){return[]}}},ct=ut([],[]),st=function(e,n,t,r,o){return r||(r=[{op:"replace",path:[],value:n}]),o||(o=[{op:"replace",path:[],value:e}]),t?[qn(e,r),qn(n,o)]:[r,o]};function lt(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];throw new Error("[Dendriform] minified error #"+e+": "+(t.length?t.map((function(e){return JSON.stringify(e)})).join(", "):""))}var ft=function(e,n){e[n.id]=n},dt=function(e,n){return e[n]},pt=function(e,n,t,r,o){var a=Ln(t.child,o);if("string"===typeof a)return dt(e,a);var i=n(r,t.id);return ft(e,i),function(e,n,t){var r=_n(e);if(0===r)throw Vn(e,n);3===r?e.set(n,t):4===r?(e.delete(n),e.add(t)):e[n]=t}(t.child,o,i.id),i},mt=function(e,n,t,r){for(var o,a=e[0],i=t,u=ot(r);!(o=u()).done;){var c=o.value;a&&0!==a.type?(i=Ln(i,c),a=pt(e,n,a,i,c)):a=void 0}return a},bt=function(e,n){var t;return null===(t=zn(e.child).find((function(e){return e[1]===n.id})))||void 0===t?void 0:t[0]},ht=function e(n,t,r){void 0===r&&(r=!1);var o=Ln(n,t);o&&(o.child&&zn(o.child).forEach((function(t){var r=t[1];return e(n,r)})),r||delete n[t])},vt=function e(n,t,r){var o=Ln(n,t);if(o){var a=_n(r);if(a!==o.type)ht(n,t,!0),n[t]=Xn({},o,{type:a,child:Un(a)});else{if(0===a)return;zn(o.child).forEach((function(t){var a=t[0],i=t[1];!function(e,n){var t=_n(e);if(1===t)return n in e;if(2===t){var r=n;return r<e.length&&r>-1}if(3===t||4===t)return e.has(n);throw Vn(e,n)}(r,a)?(ht(n,i),delete o.child[a]):e(n,i,Ln(r,a))}))}}},gt=function(e,n,t,r){var o=In(e,(function(e){var o=[];r.forEach((function(r){var a,i=r.path,u=r.value,c=r.op;if(0!==i.length||"replace"!==c){var s=mt(e,n,t,i.slice(0,-1));if(s){var l=[s.id,"child"],f=i[i.length-1];if("add"===c&&2!==s.type&&Ln(s.child||{},f)&&(c="replace"),2!==s.type||"length"!==i[i.length-1]){if("add"===c){var d=n(u,s.id);return ft(e,d),void o.push({op:c,path:[].concat(l,[f]),value:d.id})}if("move"===c&&r.from){var p=r.from[r.from.length-1];o.push({op:c,path:[].concat(l,[f]),from:[].concat(l,[p])})}else{var m=null===(a=mt(e,n,t,i))||void 0===a?void 0:a.id;if("remove"===c)return ht(e,m),void o.push({op:c,path:[].concat(l,[f])});"replace"!==c||vt(e,m,u)}}else!function(e,n,t){var r=Ln(e,n);if(r&&2===r.type){var o=r.child,a=o.slice(0,t);o.slice(t).forEach((function(n){ht(e,n)})),e[n]=Xn({},r,{child:a})}}(e,s.id,u)}}else vt(e,"0",u)})),Yn(e,o)}));return o[1].forEach((function(e){return e.namespace="nodes"})),o[2].forEach((function(e){return e.namespace="nodes"})),o},yt=function(e){function n(){var n;return(n=e.apply(this,arguments)||this).DENDRIFORM_CANCEL=!0,n}return $n(n,e),n}(tt(Error)),wt=function(e){return new yt(e)},Ct=function(){function e(){this.do=new at,this.undo=new at}return e.concat=function(n,t){var r=new e;return r.do=at.concat(null===n||void 0===n?void 0:n.do,null===t||void 0===t?void 0:t.do),r.undo=at.concat(null===t||void 0===t?void 0:t.undo,null===n||void 0===n?void 0:n.undo),r},e.flatten=function(n){return n.reduce(e.concat,new e)},e.prototype.reverse=function(){var n=new e;return n.do=this.undo,n.undo=this.do,n},e}(),kt=function(){function e(n){var t,r=this;this.dendriforms=new Map,this.deriveCallbackRefs=new Set,this.changeCallbackRefs=new Set,this.cancelCallbacks=new Set,this.debounceMap=new Map,this.getPath=function(e){return function(e,n){var t=Ln(e,n);if(t){for(var r=[];t&&""!==t.parentId;){var o=Ln(e,t.parentId),a=bt(o,t);if(void 0===a)return;r.unshift(a),t=o}return r}}(r.state.nodes,e)},this.getPathOrError=function(e){var n=r.getPath(e);return n||lt(0,e),n},this.getValue=function(e){var n=r.getPath(e);if(n)return Wn(r.state.value,n)},this.getKey=function(e){var n=r.getPath(e);return n?n.slice(-1)[0]:void 0},this.getIndex=function(e){var n=r.getPath(e),t=n?n.slice(-1)[0]:-1;return"number"!==typeof t&&lt(4,n),t},this.valueGettersByType={value:this.getValue,index:this.getIndex,history:function(e){return r.state.historyState}},this.createForm=function(e){var n=new jt({__branch:{core:r,id:e}});return r.dendriforms.set(e,n),n},this.getFormAt=function(e){var n;e&&(r.state.nodes=Mn(r.state.nodes,(function(t){var o=mt(t,r.newNodeCreator,r.state.value,e);n=Ie(o)?function(e){return Ie(e)||Ne(23,e),e[On].t}(o):o})));var t=n?n.id:"notfound";return r.getFormById(t)},this.getFormById=function(e){return r.dendriforms.get(e)||r.createForm(e)},this.setWithDebounce=function(e,n,t){var o,a=t.debounce;if(a){var i=(null!==(o=r.debounceMap.get(e))&&void 0!==o?o:0)+1;r.debounceMap.set(e,i),setTimeout((function(){return i===r.debounceMap.get(e)&&r.set(e,n,t)}),a)}else r.set(e,n,t)},this.executeChange=function(n,t){var o=0===e.changingForms.size;try{if(e.changingForms.add(r),r.setRevertPoint(),n(),o){var a=Array.from(e.changingForms.values());r.finaliseChange(),a.forEach((function(e){return e.callAllChangeCallbacks(t)}))}}catch(i){if(!o)throw i;if(!i.DENDRIFORM_CANCEL)throw r.finaliseChange(),i;e.changingForms.forEach((function(e){return e.revert()})),r.cancelCallbacks.forEach((function(e){return e(i.message)})),r.finaliseChange()}},this.finaliseChange=function(){var n,t=null===(n=r.stateRevert)||void 0===n?void 0:n.nodes;t&&(r.prevNodes=t),e.changingForms.forEach((function(e){return e.clearRevertPoint()})),e.changingForms.clear()},this.set=function(e,n,t){var o,a,i,u={go:0,replace:!!r.internalState.setBuffer,force:null!==(o=t.force)&&void 0!==o&&o},c=r.getPath(e);if(c){var s=null===(a=dt(r.state.nodes,e))||void 0===a?void 0:a.parentId;s&&4===(null===(i=dt(r.state.nodes,s))||void 0===i?void 0:i.type)&&lt(7),r.executeChange((function(){var o=function(e,n,t){if(void 0===t&&(t=!0),function(e){var n=e;return n&&!!n.__patches&&!!n.__patchesInverse}(n))return[n.__patches(e),n.__patchesInverse(e)];if(function(e){return"function"===typeof e}(n)){var r=In(e,n),o=r[0],a=r[1],i=r[2];return st(e,o,t,a,i)}return st(e,n,t)}(r.getValue(e),n,t.track),a=o[0],i=o[1],s=Hn(c,a),l=Hn(c,i),f=gt(r.state.nodes,r.newNodeCreator,r.state.value,s),d=f[1],p=f[2],m=new Ct;m.do.value=s,m.do.nodes=d,m.undo.value=l,m.undo.nodes=p,r.applyChanges(m),r.internalState.going||r.internalState.deriving||(u.replace?r.historyReplace(m):r.historyPush(m),r.internalState.setBuffer=at.concat(r.internalState.setBuffer,m.do),m.do.value.length>0&&r.callAllDeriveCallbacks(u))}),u)}},this.applyChanges=function(e){r.state.value=Yn(r.state.value,e.do.value),r.state.nodes=Yn(r.state.nodes,e.do.nodes),r.internalState.changeBuffer=Ct.concat(r.internalState.changeBuffer,e)},this.replace=function(e){e?r.internalState.setBuffer||(r.internalState.setBuffer=new at):r.internalState.setBuffer=void 0},this.newHistoryItem=function(){r.internalState.setBuffer=r.replaceByDefault?new at:void 0},this.callAllDeriveCallbacks=function(e){r.deriveCallbackRefs.forEach((function(n){r.derive(n,e)}))},this.derive=function(e,n){var t,o,a;if(!r.internalState.deriving){r.internalState.deriving=!0;var i=e[0],u=Xn({},n,{patches:null!==(t=r.internalState.changeBuffer)&&void 0!==t?t:new Ct,prev:{value:null===(o=r.stateRevert)||void 0===o?void 0:o.value,nodes:null===(a=r.stateRevert)||void 0===a?void 0:a.nodes},next:{value:r.state.value,nodes:r.state.nodes},id:"0"});i(r.state.value,u),r.internalState.deriving=!1}},this.buffer=function(){r.internalState.bufferingChanges=!0,r.newHistoryItem()},this.done=function(){r.internalState.bufferingChanges=!1;r.callAllChangeCallbacks({go:0,replace:!1,force:!1})},this.callAllChangeCallbacks=function(e){r.internalState.bufferingChanges||(r.newHistoryItem(),r.internalState.changeBuffer&&(r.changeCallbackRefs.forEach((function(n){var t=n[0],o=n[1],a=n[2],i=n[3],u=r.valueGettersByType[t](o);if(!Object.is(u,i)){var c=r.internalState.changeBuffer,s=Xn({},e,{patches:c,prev:{value:i,nodes:r.prevNodes},next:{value:u,nodes:r.state.nodes},id:o});n[3]=u,a(u,s)}})),r.internalState.changeBuffer=void 0))},this.historyPush=function(e){var n=r.state.historyStack.slice(0,r.state.historyIndex).concat(e);n.length>r.historyLimit?n.shift():r.state.historyIndex++,r.state.historyStack=n,r.updateHistoryState()},this.historyReplace=function(e){if(0!==r.state.historyIndex){var n=r.state.historyStack.slice(0,r.state.historyIndex),t=n[r.state.historyIndex-1];n[r.state.historyIndex-1]=Ct.concat(t,e),r.state.historyStack=n}},this.go=function(e){var n={go:e,replace:!1,force:!1};0===e||r.internalState.going||(r.internalState.going=!0,r.executeChange((function(){var t=Math.min(Math.max(0,r.state.historyIndex+e),r.state.historyStack.length),o=e>0?r.state.historyStack.slice(r.state.historyIndex,t):r.state.historyStack.slice(t,r.state.historyIndex).reverse().map((function(e){return e.reverse()})),a=Ct.flatten(o);r.state.historyIndex=t,r.updateHistoryState(),r.applyChanges(a),r.callAllDeriveCallbacks(n)}),n),r.internalState.going=!1)},this.updateHistoryState=function(){var e=r.state.historyIndex>0,n=r.state.historyIndex<r.state.historyStack.length;e===r.state.historyState.canUndo&&n===r.state.historyState.canRedo||(r.state.historyState={canUndo:e,canRedo:n})},this.setRevertPoint=function(){r.stateRevert=Xn({},r.state),r.internalStateRevert=Xn({},r.internalState)},this.clearRevertPoint=function(){r.stateRevert=void 0,r.internalStateRevert=void 0},this.revert=function(){r.stateRevert&&(r.state=r.stateRevert),r.internalStateRevert&&(r.internalState=r.internalStateRevert)},this.state={value:n.initialValue,nodes:{},nodeCount:0,historyIndex:0,historyStack:[],historyState:{canUndo:!1,canRedo:!1}},this.internalState={bufferingChanges:!1,setBuffer:void 0,changeBuffer:void 0,deriving:!1,going:!1},this.newNodeCreator=(t=function(){return""+r.state.nodeCount++},function(e,n){void 0===n&&(n="");var r=_n(e),o=t();return{type:r,child:Un(4===r?3:r),parentId:n,id:o}}),ft(this.state.nodes,this.newNodeCreator(this.state.value)),this.prevNodes=this.state.nodes,this.historyLimit=n.options.history||0,this.replaceByDefault=!!n.options.replace,this.plugins=n.options.plugins}return e.prototype.applyIdToPlugins=function(e,n){var t={};for(var r in this.plugins)t[r]=this.plugins[r].cloneAndSpecify(e,n);return t},e}();kt.changingForms=new Set;var St=a.a.memo((function(e){return a.a.createElement(a.a.Fragment,null,e.renderer())}),(function(e,n){return Fe(e.deps,n.deps)})),Ot=function(e,n){try{return zn(e)}catch(t){lt(n)}},jt=function(){function e(e,n){var t=this;if(void 0===n&&(n={}),this.set=function(e,n){void 0===n&&(n={}),t.core.setWithDebounce(t.id,e,n)},this.setParent=function(e,n){void 0===n&&(n={});var r=t.core.getPathOrError(t.id),o=t.core.getFormAt(r.slice(0,-1));t.core.setWithDebounce(o.id,e(r[r.length-1]),n)},this.undo=function(){return t.core.go(-1)},this.redo=function(){return t.core.go(1)},this.go=function(e){return t.core.go(e)},this.replace=function(e){return void 0===e&&(e=!0),t.core.replace(e)},this.buffer=function(){return t.core.buffer()},this.done=function(){return t.core.done()},e instanceof Object&&e.__branch){var r=e.__branch;return this.core=r.core,void(this.id=r.id)}this.id="0",this.core=new kt({initialValue:e,options:n});var o=n.plugins;if(o)for(var a in o)o[a].init(this)}var n=e.prototype;return n.onDerive=function(e){var n=this,t=[e];this.core.deriveCallbackRefs.add(t);var r={go:0,replace:!0,force:!1};try{this.core.derive(t,r)}catch(o){lt(6,o.message)}return this.core.callAllChangeCallbacks(r),function(){n.core.deriveCallbackRefs.delete(t)}},n.onCancel=function(e){var n=this;return this.core.cancelCallbacks.add(e),function(){n.core.cancelCallbacks.delete(e)}},n.onChange=function(e,n){var t=this,r=[n||"value",this.id,e,this.value];return this.core.changeCallbackRefs.add(r),function(){t.core.changeCallbackRefs.delete(r)}},n.useValue=function(){var e=this,n=Object(o.useState)((function(){return e.value})),t=n[0],r=n[1];return this.useChange(r),t},n.useIndex=function(){var e=this,n=Object(o.useState)((function(){return e.index})),t=n[0],r=n[1];return this.useChange(r,"index"),t},n.useChange=function(e,n){var t=this;Object(o.useEffect)((function(){return t.onChange(e,n||"value")}),[])},n.useDerive=function(e){var n=this;Object(o.useEffect)((function(){return n.onDerive(e)}),[])},n.useCancel=function(e){var n=this;Object(o.useEffect)((function(){return n.onCancel(e)}),[])},n.useHistory=function(){var e=Object(o.useState)(this.core.state.historyState),n=e[0],t=e[1];return this.useChange(t,"history"),n},n.branch=function(e){var n=[].concat(null!==e&&void 0!==e?e:[]),t=this.core.getPath(this.id);return this.core.getFormAt(null===t||void 0===t?void 0:t.concat(n))},n.branchAll=function(e){var n=this.branch(e);return Ot(n.value,2).map((function(e){var t=e[0];return n.branch(t)}))},n.render=function(e,n,t){var r="function"===typeof e,o=r?e:n,i=r?n:t,u=r?this:this.branch(e);return a.a.createElement(St,{renderer:function(){return o(u)},deps:i})},n.renderAll=function(e,n,t){var r="function"===typeof e,o=r?e:n,i=r?n:t,u=r?this:this.branch(e);return a.a.createElement(St,{renderer:function(){var e=u.useValue();return Ot(e,3).map((function(e){var n=e[0],t=u.branch(n);return a.a.createElement(St,{key:t.id,renderer:function(){return o(t)},deps:i})}))},deps:i})},Jn(e,[{key:"value",get:function(){return this.core.getValue(this.id)}},{key:"key",get:function(){return this.core.getKey(this.id)}},{key:"path",get:function(){return this.core.getPathOrError(this.id)}},{key:"index",get:function(){return this.core.getIndex(this.id)}},{key:"history",get:function(){return this.core.state.historyState}},{key:"plugins",get:function(){return this.core.applyIdToPlugins(this.id,this.path)}}]),e}(),xt=function(e,n){var t=void 0===n?{}:n,r=t.plugins,a=t.dependencies,i=void 0===a?[]:a,u=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(t,["plugins","dependencies"]),c=Object(o.useState)((function(){var n="function"===typeof e?e():e;return new jt(n,Xn({plugins:null===r||void 0===r?void 0:r()},u))}))[0],s=Object(o.useRef)(i);return Fe(s.current,i)||"function"!==typeof e||(c.replace(),c.set(e())),s.current=i,c},Rt=function(e,n){return[{op:"add",path:[e],value:n}]},Pt=function(e){return[{op:"remove",path:[e]}]},Et=function(e){return ut(Rt(0,e),Pt(0))},Dt=function(){return ut(Pt(0),(function(e){return Rt(0,e[0])}))},At=function(e){return ut((function(n){return Rt(n.length,e)}),(function(e){return Pt(e.length)}))},Ft=function(){return ut((function(e){return Pt(e.length-1)}),(function(e){return Rt(e.length-1,e[e.length-1])}))},Nt=function(){return ut([{op:"remove",path:[]}],(function(e){return[{op:"add",path:[],value:e}]}))},It=function(e,n){var t=function(e,n){var t=e.length;return n<0?n+t:n>=t?n-t:n};return ut((function(r){return[{op:"move",from:[t(r,e)],path:[t(r,n)]}]}),(function(r){return[{op:"move",from:[t(r,n)],path:[t(r,e)]}]}))},Bt=function(e,n){void 0===n&&(n=0);var t=e.useValue()||"",r=Object(o.useState)(t),a=r[0],i=r[1],u=Object(o.useState)(t),c=u[0],s=u[1];return t!==a&&(i(t),s(t)),{value:c,onChange:Object(o.useCallback)((function(t){var r=t.target.value;s(r),e.set(r,{debounce:n})}),[])}},Mt=function(e){return{checked:e.useValue(),onChange:Object(o.useCallback)((function(n){e.set(n.target.checked)}),[])}},Tt=function(e,n,t){Object(o.useEffect)((function(){return function(e,n,t){e.core.historyLimit!==n.core.historyLimit&&lt(5);var r=e.onDerive((function(e,r){var o=r.go,a=r.replace;if(o)return n.go(o);n.replace(a),t?t(e,r):n.set(ct)})),o=n.onDerive((function(n,t){var r=t.go,o=t.replace;if(r)return e.go(r);o&&e.replace(),e.set(ct)}));return function(){r(),o()}}(e,n,t)}),[])},Vt=function(e,n,t){if(2===e)return n&&t?n[t].child:[]},_t=function(e,n,t){return t||(0===e?[]:zn(n).map((function(e){return e[0]})))},Lt=function(e,n){return n?e.map((function(e){return n.indexOf(e)})):e},Wt=function(e,n){return e.map((function(e){return{key:e,value:Ln(n,e)}}))},zt=function(e){function n(n){var t;return(t=e.call(this)||this).config=n,t}$n(n,e);var t=n.prototype;return t.clone=function(){return new n(this.config)},t.getState=function(){var e=this.state;return e||lt(8),e},t.init=function(e){var n=this,t=new jt(!1),r=new jt(void 0),o=new jt(e.value,{history:2});o.onChange((function(e,r){if(-1!==r.go){var a,i=function(){t.set(!1)},u=function(e){var r,a;t.set(!1),o.undo();var i=null===(r=(a=n.config).onError)||void 0===r?void 0:r.call(a,e);n.getState().error.set(i)};try{n.getState().error.set(void 0);var c=n.config.onSubmit(e,r);if("function"!==typeof(null===(a=c)||void 0===a?void 0:a.then))return i();t.set(!0),c.then(i).catch(u)}catch(s){u(s)}}})),this.state={form:e,previous:o,submitting:t,error:r}},t.submit=function(){var e=this.getState();e.previous.branchAll(),e.previous.set(e.form.value)},t.getForm=function(){return this.getState().form.core.getFormAt(this.path)},Jn(n,[{key:"previous",get:function(){return this.getState().previous.core.getFormAt(this.path)}},{key:"submitting",get:function(){return this.getState().submitting}},{key:"error",get:function(){return this.getState().error}},{key:"dirty",get:function(){var e=this;return{value:!Object.is(this.getForm().value,this.previous.value),useValue:function(){return!Object.is(e.getForm().useValue(),e.previous.useValue())}}}}]),n}(function(){function e(){this.id="",this.path=[]}return e.prototype.cloneAndSpecify=function(e,n){var t=this.clone();return t.state=this.state,t.id=e,t.path=n,t},e}()),Ut=t("bPu0"),Ht=a.a.createElement;function qt(){var e=Object(r.a)(["\n    font-family: ",";\n    color: ",";\n    font-size: 14px;\n    line-height: 1.4em;\n    background-color: ",";\n\n    display: block;\n        overflow: auto;\n        padding: 1rem;\n\n    code {\n\n    }\n"]);return qt=function(){return e},e}function Gt(){var e=Object(r.a)(["\n    background-color: ",";\n    padding: 1rem;\n"]);return Gt=function(){return e},e}function Yt(){var e=Object(r.a)(["\n    label {\n        display: block;\n        margin-bottom: .5rem;\n\n        input, select, textarea {\n            margin-left: 1rem;\n        }\n    }\n\n    input, select, textarea {\n        background-color: ",";\n        border: none;\n        color: ",";\n        font-family: ",";\n        font-size: 1rem;\n        padding: .25rem .5rem;\n    }\n\n    code {\n        background-color: ",";\n        border: none;\n        color: ",";\n        font-family: ",";\n        font-size: 1rem;\n        padding: .25rem .5rem;\n        margin-bottom: 1rem;\n        display: block;\n    }\n\n    button {\n        background-color: ",";\n        border: none;\n        font-family: ",";\n        font-size: .9rem;\n        padding: .25rem .5rem;\n        margin-bottom: .3rem;\n        margin-right: .3rem;\n        cursor: pointer;\n        opacity: .8;\n\n        &:hover {\n            opacity: 1;\n        }\n\n        &:disabled {\n            opacity: .5;\n            cursor: default;\n        }\n    }\n\n    fieldset {\n        border-top: 1px solid ",";\n        border-bottom: 1px solid ",";\n        margin: 1rem 0;\n        padding: 1rem 0;\n\n        ul, button {\n            margin-left: 1rem;\n        }\n    }\n\n    legend {\n        padding-right: .5rem;\n    }\n"]);return Yt=function(){return e},e}function Kt(){var e=Object(r.a)(["\n    background-color: ",";\n    width: 100%;\n\n    ","\n"]);return Kt=function(){return e},e}function Jt(){var e=Object(r.a)(["\n    padding: .25rem;\n    ","\n"]);return Jt=function(){return e},e}var Xt=new jt(1);window.persistentForm=Xt;var $t=Object(o.memo)((function(){var e=Xt.useValue(),n=Object(o.useCallback)((function(){return Xt.set((function(e){return e+1}))}),[]);return Ht(sr,null,Ht("code",null,"Value: ",e),Ht("button",{type:"button",onClick:n},"Add 1"))}));function Qt(e){var n=e.queryString,t=e.setQueryString,r=xt((function(){return{queryString:n}}),{dependencies:[n]});return r.useChange((function(e){return t(e.queryString)})),Ht(sr,null,r.render("queryString",(function(e){return Ht(sr,{of:"label"},"string in form: ",Ht("input",Bt(e,150)))})))}var Zt=function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.firstName="",this.lastName="",this[Sn]=!0};bn();var er=function(e,n){return e.setParent((function(e){return It(e,e+n)}))};function nr(e){return e.form.renderAll((function(e){var n="".concat(e.id),t=e.useIndex(),r=Object(o.useCallback)((function(){return e.set(Nt())}),[]);return Ht(Ut.b,{key:n,draggableId:n,index:t},(function(n){return Ht("div",Ae({ref:n.innerRef},n.draggableProps,n.dragHandleProps),Ht(sr,null,Ht("label",null,"colour: ",Ht("input",Bt(e,150))),Ht("button",{type:"button",onClick:r},"remove")))}))}))}var tr=new jt(!1);function rr(e){return or.apply(this,arguments)}function or(){return(or=Ee(Re.a.mark((function e(n){return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("saving",n),e.next=3,new Promise((function(e){return setTimeout(e,1e3)}));case 3:if(!tr.value){e.next=5;break}throw new Error("Error!");case 5:console.log("saved");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ar(e){var n=e.coloursForm,t=e.personForm;return Ht(sr,null,Ht("code",null,t.render("faveColours",(function(e){return Ht("span",null,JSON.stringify(Array.from(e.useValue().values())))}))),Ht("ul",null,n.renderAll((function(e){var n=e.key,r=e.useValue(),o=t.branch("faveColours").useValue().has(n),a=Ht("button",{type:"button",onClick:function(){return t.set((function(e){o?e.faveColours.delete(n):e.faveColours.add(n)}))}},o?"yes":"no");return Ht(sr,{of:"li"},r," ",a)}))))}var ir={name:"",age:""};for(var ur="",cr=0;cr<20;cr++)ur+="\n        &.flash".concat(cr," {animation: Flash").concat(cr," 0.5s linear;}\n        @keyframes Flash").concat(cr," {0% { background-color: rgba(255,255,255,0.05); } 100% { background-color: rgba(255,255,255,0);}};\n    ");var sr=Object(i.c)((function(e){var n=e.children,t=e.className,r=e.of,a=void 0===r?"div":r,i=Object(o.useRef)(1);return i.current=(i.current+=1)%20,Ht(a||"div",{className:"".concat(t," flash").concat(i.current)},n)}))(Jt(),ur),lr=[{title:"A quick example",Demo:function(){var e=xt((function(){return{name:"Wappy",address:{street:"Pump St"},pets:[{name:"Spike"},{name:"Spoke"}]}}));e.useChange((function(e){console.log("A quick example - form changed:",e)}));var n=Object(o.useCallback)((function(){e.branch("pets").set((function(e){e.push({name:"new pet"})}))}),[]);return Ht(sr,null,e.render("name",(function(e){return Ht(sr,{of:"label"},"name ",Ht("input",Bt(e,150)))})),e.render(["address","street"],(function(e){return Ht(sr,{of:"label"},"street ",Ht("input",Bt(e,150)))})),Ht("fieldset",null,Ht("legend",null,"pets"),Ht("ul",null,e.renderAll("pets",(function(e){return Ht(sr,{of:"li"},e.render("name",(function(e){return Ht(sr,{of:"label"},"name ",Ht("input",Bt(e,150)))})))}))),Ht("button",{type:"button",onClick:n},"Add pet")))},code:"\nimport React, {useCallback} from 'react';\nimport {useDendriform, useInput} from 'dendriform';\n\nfunction MyComponent(props) {\n\n    const form = useDendriform(() => ({\n        name: 'Wappy',\n        address: {\n            street: 'Pump St'\n        },\n        pets: [\n            {name: 'Spike'},\n            {name: 'Spoke'}\n        ]\n    });\n\n    form.useChange((value) => {\n        console.log('A quick example - form changed:', value);\n    });\n\n    const addPet = useCallback(() => {\n        form.branch('pets').set(draft => {\n            draft.push({name: 'new pet'});\n        });\n    }, []);\n\n    return <div>\n        {form.render('name', form => (\n            <label>name <input {...useInput(form, 150)} /></label>\n        ))}\n\n        {form.render(['address', 'street'], street => (\n            <label>street <input {...useInput(street, 150)} /></label>\n        ))}\n\n        <fieldset>\n            <legend>pets</legend>\n            <ul>\n                {form.renderAll('pets', form => <li>\n                    {form.render('name', form => (\n                        <label>name <input {...useInput(form, 150)} /></label>\n                    ))}\n                </li>)}\n            </ul>\n            <button type=\"button\" onClick={addPet}>Add pet</button>\n        </fieldset>\n    </div>;\n};\n",anchor:"example",description:"This demonstrates a basic form with several fields, rendering, and array elements. Changes are subscribed to and logged to the console.",more:"dendriform"},{title:"Dendriform instance outside of React",Demo:function(){var e=Object(o.useState)(!0),n=e[0],t=e[1],r=Object(o.useCallback)((function(){return t((function(e){return!e}))}),[]);return n?Ht(sr,null,Ht($t,null),Ht("button",{type:"button",onClick:r},"Unmount")):Ht(sr,null,Ht("button",{type:"button",onClick:r},"Remount"))},code:'\nconst persistentForm = new Dendriform(1);\n\nif(typeof window !== \'undefined\') {\n    window.persistentForm = persistentForm;\n}\n\nfunction MyComponent(props) {\n    const [show, setShow] = useState(true);\n    const toggleShow = useCallback(() => setShow(s => !s), []);\n\n    if(show) {\n        return <div>\n            <OutsideReact />\n            <button type="button" onClick={toggleShow}>Unmount</button>\n        </div>;\n    }\n\n    return <button type="button" onClick={toggleShow}>Remount</button>;\n}\n\nconst OutsideReact = React.memo(function OutsideReact() {\n    const value = persistentForm.useValue();\n    const addOne = useCallback(() => persistentForm.set(value => value + 1), []);\n\n    return <div>\n        <code>Value: {value}</code>\n        <button type="button" onClick={addOne}>Add 1</button>\n    </div>;\n});\n',anchor:"outside",description:"Dendriform instances can be kept outside of React. Notice how the state is preserved regardless of whether the component is mounted.",more:"creation"},{title:"Branching forms",Demo:function(){var e=xt({name:"Ben",address:{street:"123 Fake St"}}),n=e.branch("name"),t=e.branch(["address","street"]),r=n.useValue(),o=t.useValue();return Ht(sr,null,Ht("code",null,"name: ",r),Ht("code",null,"street: ",o))},code:"\nfunction MyComponent(props) {\n    const form = useDendriform({\n        name: 'Ben',\n        address: {\n            street: '123 Fake St'\n        }\n    });\n\n    // this is just a demonstration of branching\n    // .render() is more concise and more performant\n\n    const nameForm = form.branch('name');\n    const streetForm = form.branch(['address','street']);\n    const name = nameForm.useValue();\n    const street = nameForm.useValue();\n\n    return <div>\n        <code>name: {name}</code>\n        <code>street: {street}</code>\n    </div>;\n}\n",anchor:"branch",description:"Here .branch() is used to access parts of a data shapes, which are returned as their own smaller forms. Changes made to these smaller forms are also made to the original form.",more:"branching"},{title:"Rendering fields",Demo:function(){var e=xt({name:"Ben",address:{street:"123 Fake St"}});return Ht(sr,null,e.render((function(e){var n=e.useValue();return Ht(sr,{of:"code"},n.name," from ",n.address.street)})),e.render("name",(function(e){return Ht(sr,{of:"label"},"name: ",Ht("input",Bt(e,150)))})),e.render(["address","street"],(function(e){return Ht(sr,{of:"label"},"street: ",Ht("input",Bt(e,150)))})))},code:"\nfunction MyComponent(props) {\n    const form = useDendriform({\n        name: 'Ben',\n        address: {\n            street: '123 Fake St'\n        }\n    });\n\n    return <div>\n        {form.render(form => {\n            const value = form.useValue();\n            return <code>{value.name} from {value.address.street}</code>;\n        })}\n\n        {form.render('name', form => (\n            <label>name: <input {...useInput(form, 150)} /></label>\n        ))}\n\n        {form.render(['address', 'street'], form => (\n            <label>street: <input {...useInput(form, 150)} /></label>\n        ))}\n    </div>;\n}\n",anchor:"render",description:"The .render() function is used to render parts of a form into small performant components. The white flashes indicate regions of the page that React has re-rendered. You can see how performant Dendriform's rendering is by how localised these flashes are.",more:"rendering"},{title:"Rendering with dependencies",Demo:function(){var e=xt("Hi"),n=Object(o.useState)(0),t=n[0],r=n[1];return Object(o.useEffect)((function(){var e=setInterval((function(){return r((function(e){return e+1}))}),1e3);return function(){return clearInterval(e)}}),[]),Ht(sr,null,e.render((function(e){return Ht(sr,null,Ht("label",null,"name: ",Ht("input",Bt(e,150))),Ht("code",null,"seconds: ",t))}),[t]))},code:"\nfunction MyComponent(props) {\n    const form = useDendriform('Hi');\n\n    const [seconds, setSeconds] = useState(0);\n    useEffect(() => {\n        const intervalId = setInterval(() => setSeconds(s => s + 1), 1000);\n        return () => clearInterval(intervalId);\n    }, []);\n\n    return <div>\n        {form.render(form => <>\n            <label>name: <input {...useInput(form, 150)} /></label>\n            <code>seconds: {seconds}</code>\n        </>, [seconds])}\n    </div>;\n}\n",description:"This demonstrates how .render() can be forced to update in response to other prop changes.",anchor:"renderdeps",more:"rendering"},{title:"Setting data",Demo:function(){var e=xt({number:123}),n=Object(o.useCallback)((function(){e.branch("number").set(100)}),[]),t=Object(o.useCallback)((function(){e.branch("number").set((function(e){return e+3}))}),[]),r=Object(o.useCallback)((function(){e.set((function(e){e.number+=6}))}),[]);return Ht(sr,null,e.render("number",(function(e){return Ht(sr,{of:"code"},e.useValue())})),Ht("button",{type:"button",onClick:n},"set value to 100"),Ht("button",{type:"button",onClick:t},"add 3 to value"),Ht("button",{type:"button",onClick:r},"add 6 to value with immer producer"))},code:"\nfunction MyComponent(props) {\n    const form = useDendriform({number: 123});\n\n    const set100 = useCallback(() => {\n        form.branch('number').set(100);\n    }, []);\n\n    const add3 = useCallback(() => {\n        form.branch('number').set(num => num + 3);\n    }, []);\n\n    const add6immer = useCallback(() => {\n        form.set(draft => {\n            draft.number += 6;\n        });\n    }, []);\n\n    return <div>\n        {form.render('number', form => <code>{form.useValue()}</code>)}\n\n        <button type=\"button\" onClick={set100}>set value to 100</button>\n        <button type=\"button\" onClick={add3}>add 3 to value</button>\n        <button type=\"button\" onClick={add6immer}>add 6 to value with immer producer</button>\n    </div>;\n}\n",description:"This demo shows how to set data in a form in various ways: by passing the value, by using an updater function, and by using an immer producer.",anchor:"set",more:"setting-data"},{title:"Setting data with buffering",Demo:function(){var e=xt(123);e.useChange((function(e){console.log("Setting data with buffering - value changed: "+e)}));var n=Object(o.useCallback)((function(){e.set((function(e){return e+1})),e.set((function(e){return e+1})),e.set((function(e){return e+1}))}),[]),t=Object(o.useCallback)((function(){e.buffer(),e.set((function(e){return e+1})),e.set((function(e){return e+1})),e.set((function(e){return e+1})),e.done()}),[]);return Ht(sr,null,e.render((function(e){return Ht(sr,{of:"code"},e.useValue())})),Ht("button",{type:"button",onClick:n},"add 1, 3 times without buffering"),Ht("button",{type:"button",onClick:t},"add 1, 3 times with buffering"))},code:'\nfunction MyComponent(props) {\n    const form = useDendriform(123);\n\n    form.useChange(newValue => {\n        console.log(\'Setting data with buffering - value changed: \' + newValue);\n    });\n\n    const add3nobuffer = useCallback(() => {\n        form.set(num => num + 1);\n        form.set(num => num + 1);\n        form.set(num => num + 1);\n    }, []);\n\n    const add3buffer = useCallback(() => {\n        form.buffer();\n        form.set(num => num + 1);\n        form.set(num => num + 1);\n        form.set(num => num + 1);\n        form.done();\n    }, []);\n\n    return <div>\n        {form.render(form => <code>{form.useValue()}</code>)}\n\n        <button type="button" onClick={add3nobuffer}>add 1, 3 times without buffering</button>\n        <button type="button" onClick={add3buffer}>add 1, 3 times with buffering</button>\n    </div>;\n}\n',description:"This demonstrates how multiple changes can be collected and applied at once. View the console to see how many changes are produced by each button click.",anchor:"buffer",more:"setting-data"},{title:"Setting data with debouncing",Demo:function(){var e=xt({a:0,b:0}),n=Object(o.useCallback)((function(){e.branch("a").set(Math.floor(1e3*Math.random()),{debounce:300})}),[]),t=Object(o.useCallback)((function(){e.branch("b").set(Math.floor(1e3*Math.random()),{debounce:300})}),[]);return Ht(sr,null,e.render("a",(function(e){return Ht(sr,{of:"code"},e.useValue())})),e.render("b",(function(e){return Ht(sr,{of:"code"},e.useValue())})),Ht("button",{type:"button",onClick:n},"change a with 300ms debounce"),Ht("button",{type:"button",onClick:t},"change b with 300ms debounce"))},code:"\nfunction MyComponent(props) {\n    const form = useDendriform({\n        a: 0,\n        b: 0\n    });\n\n    const changeA = useCallback(() => {\n        form.branch('a').set(Math.floor(Math.random() * 1000), {debounce: 300});\n    }, []);\n\n    const changeB = useCallback(() => {\n        form.branch('b').set(Math.floor(Math.random() * 1000), {debounce: 300});\n    }, []);\n\n    return <div>\n        {form.render('a', form => <code>a: {form.useValue()}</code>)}\n        {form.render('b', form => <code>b: {form.useValue()}</code>)}\n\n        <button type=\"button\" onClick={changeA}>change a with 300ms debounce</button>\n        <button type=\"button\" onClick={changeB}>change b with 300ms debounce</button>\n    </div>;\n}\n",description:"This demonstrates how set() calls can be debounced. Click the buttons below rapidly and watch how the value updates more slowly.",anchor:"debounce",more:"debounce"},{title:"Updating from props",Demo:function(){var e=xt("?hello=1");return Ht(a.a.Fragment,null,Ht("fieldset",null,Ht("legend",null,"query string"),Ht("input",Bt(e,150))),Ht("fieldset",null,Ht("legend",null,"component"),Ht(Qt,{queryString:e.useValue(),setQueryString:e.set})))},code:"\nfunction MyComponent(props) {\n    const {queryString, setQueryString} = props;\n\n    const form = useDendriform(\n        () => ({queryString}),\n        {dependencies: [queryString]\n    });\n\n    form.useChange(newValue => setQueryString(newValue.queryString));\n\n    return <>\n        {form.render('queryString', form => (\n            <label>string in form: <input {...useInput(form, 150)} /></label>\n        ))}\n    </>;\n}\n",description:"Sometimes a useDendriform() hooks value needs to update based on changes in props. Notice how both the changes in props (query string) and changes in form value (string in form) sync their values.",anchor:"dependencies",more:"dependencies"},{title:"ES6 classes",Demo:function(){var e=xt((function(){var e=new Zt;return e.firstName="Billy",e.lastName="Thump",e}));return Ht(sr,null,e.render("firstName",(function(e){return Ht(sr,{of:"label"},"first name: ",Ht("input",Bt(e,150)))})),e.render("lastName",(function(e){return Ht(sr,{of:"label"},"last name: ",Ht("input",Bt(e,150)))})))},code:"\nimport {immerable} from 'dendriform';\n\nclass Person {\n    firstName = '';\n    lastName = '';\n    [immerable] = true;\n}\n\nfunction MyComponent(props) {\n\n    const form = useDendriform(() => {\n        const person = new Person();\n        person.firstName = 'Billy';\n        person.lastName = 'Thump';\n        return person;\n    });\n\n    return <div>\n        {form.render('firstName', form => (\n            <label>first name: <input {...useInput(form, 150)} /></label>\n        ))}\n        {form.render('lastName', form => (\n            <label>last name: <input {...useInput(form, 150)} /></label>\n        ))}\n    </div>;\n}\n",description:"A demonstration of how to use ES6 classes with dendriform.",anchor:"es6-classes",more:"es6-classes"},{title:"ES6 maps",Demo:function(){var e=xt((function(){var e=new Map;return e.set(123,"Harry"),e.set(456,"Larry"),e}));return Ht(sr,null,e.render(123,(function(e){return Ht("label",null,"123: ",Ht("input",Bt(e,150)))})),e.render(456,(function(e){return Ht("label",null,"456: ",Ht("input",Bt(e,150)))})))},code:"\nimport {enableMapSet} from 'dendriform';\nenableMapSet();\n\nfunction MyComponent(props) {\n\n    const form = useDendriform(() => {\n        const usersById = new Map<number, string>();\n        usersById.set(123, 'Harry');\n        usersById.set(456, 'Larry');\n        return usersById;\n    });\n\n    return <div>\n        {form.render(123, form => (\n            <label>123: <input {...useInput(form, 150)} /></label>\n        ))}\n        {form.render(456, form => (\n            <label>456: <input {...useInput(form, 150)} /></label>\n        ))}\n    </div>;\n}\n",description:"A demonstration of how to use ES6 maps with dendriform.",anchor:"es6-maps",more:"es6-maps"},{title:"Form inputs",Demo:function(){var e=xt((function(){return{name:"Bill",fruit:"grapefruit",canSwim:!0,comment:""}}));return Ht(sr,null,e.render("name",(function(e){return Ht(sr,{of:"label"},"name: ",Ht("input",Bt(e,150)))})),e.render("fruit",(function(e){return Ht(sr,{of:"label"},"select:",Ht("select",Bt(e),Ht("option",{value:"grapefruit"},"Grapefruit"),Ht("option",{value:"lime"},"Lime"),Ht("option",{value:"coconut"},"Coconut"),Ht("option",{value:"mango"},"Mango")))})),e.render("canSwim",(function(e){return Ht(sr,{of:"label"},"can you swim?",Ht("input",Ae({type:"checkbox"},Mt(e))))})),e.render("comment",(function(e){return Ht(sr,{of:"label"},"comment: ",Ht("textarea",Bt(e)))})))},code:"\nfunction MyComponent(props) {\n    const form = useDendriform(() => ({\n        name: 'Bill',\n        fruit: 'grapefruit',\n        canSwim: true,\n        comment: ''\n    });\n\n    return <div>\n        {form.render('name', form => (\n            <label>name: <input {...useInput(form, 150)} /></label>\n        ))}\n\n        {form.render('fruit', form => (\n            <label>\n                select:\n                <select {...useInput(form)}>\n                    <option value=\"grapefruit\">Grapefruit</option>\n                    <option value=\"lime\">Lime</option>\n                    <option value=\"coconut\">Coconut</option>\n                    <option value=\"mango\">Mango</option>\n                </select>\n            </label>\n        ))}\n\n        {form.render('canSwim', form => (\n            <label>\n                can you swim?\n                <input type=\"checkbox\" {...useCheckbox(form)} />\n            </label>\n        ))}\n\n        {form.render('comment', form => (\n            <label>comment: <textarea {...useInput(form)} /></label>\n        ))}\n    </div>;\n}\n",description:"Here different types of form input elements are bound to different forms. Note that useInput and useCheckbox are React hooks and as such must follow the rules of hooks.",anchor:"inputs",more:"form-inputs"},{title:"Subscribing to changes",Demo:function(){var e=xt((function(){return{firstName:"Bill",lastName:"Joe"}}));return e.branch("firstName").useChange((function(e){console.log("Subscribing to changes - first name changed:",e)})),e.branch("lastName").useChange((function(e){console.log("Subscribing to changes - last name changed:",e)})),Ht(sr,null,e.render("firstName",(function(e){return Ht(sr,{of:"label"},"first name: ",Ht("input",Bt(e,150)))})),e.render("lastName",(function(e){return Ht(sr,{of:"label"},"last name: ",Ht("input",Bt(e,150)))})))},code:"\nfunction MyComponent(props) {\n    const form = useDendriform(() => ({\n        firstName: 'Bill',\n        lastName: 'Joe'\n    }));\n\n    form.branch('firstName').useChange(newName => {\n        console.log('Subscribing to changes - first name changed:', newName);\n    });\n\n    form.branch('lastName').useChange(newName => {\n        console.log('Subscribing to changes - last name changed:', newName);\n    });\n\n    return <div>\n        {form.render('firstName', form => (\n            <label>first name: <input {...useInput(form, 150)} /></label>\n        ))}\n\n        {form.render('lastName', form => (\n            <label>last name: <input {...useInput(form, 150)} /></label>\n        ))}\n    </div>;\n}\n",description:"Subscribing to changes using useChange(). Open the console to see these changes occur.",anchor:"subscribe",more:"subscribing-to-changes"},{title:"Array operations",Demo:function(){var e=xt({colours:["Red","Green","Blue"]}),n=e.branch("colours"),t=Object(o.useCallback)((function(){return n.set(Dt())}),[]),r=Object(o.useCallback)((function(){return n.set(Ft())}),[]),a=Object(o.useCallback)((function(){return n.set(Et("Puce"))}),[]),i=Object(o.useCallback)((function(){return n.set(At("Puce"))}),[]),u=Object(o.useCallback)((function(){return n.set(It(-1,0))}),[]);return Ht(sr,null,e.renderAll("colours",(function(e){var n=Object(o.useCallback)((function(){return e.set(Nt())}),[]),t=Object(o.useCallback)((function(){return er(e,1)}),[]),r=Object(o.useCallback)((function(){return er(e,-1)}),[]);return Ht(sr,null,Ht("label",null,"colour: ",Ht("input",Bt(e,150))),Ht("button",{type:"button",onClick:n},"remove"),Ht("button",{type:"button",onClick:t},"down"),Ht("button",{type:"button",onClick:r},"up"))})),Ht("button",{type:"button",onClick:t},"shift"),Ht("button",{type:"button",onClick:r},"pop"),Ht("button",{type:"button",onClick:a},"unshift"),Ht("button",{type:"button",onClick:i},"push"),Ht("button",{type:"button",onClick:u},"move last to first"))},code:'\nconst offsetElement = (form, offset) => {\n    return form.setParent(index => array.move(index, index + offset));\n};\n\nfunction MyComponent(props) {\n\n    const form = useDendriform({\n        colours: [\'Red\', \'Green\', \'Blue\']\n    });\n\n    const coloursForm = form.branch(\'colours\');\n    const shift = useCallback(() => coloursForm.set(array.shift()), []);\n    const pop = useCallback(() => coloursForm.set(array.pop()), []);\n    const unshift = useCallback(() => coloursForm.set(array.unshift(\'Puce\')), []);\n    const push = useCallback(() => coloursForm.set(array.push(\'Puce\')), []);\n    const move = useCallback(() => coloursForm.set(array.move(-1,0)), []);\n\n    return <div>\n        {form.renderAll(\'colours\', form => {\n\n            const remove = useCallback(() => form.set(array.remove()), []);\n            const moveDown = useCallback(() => offsetElement(form, 1), []);\n            const moveUp = useCallback(() => offsetElement(form, -1), []);\n\n            return <div>\n                <label>colour: <input {...useInput(form, 150)} /></label>\n\n                <button type="button" onClick={remove}>remove</button>\n                <button type="button" onClick={moveDown}>down</button>\n                <button type="button" onClick={moveUp}>up</button>\n            </div>;\n        })}\n\n        <button type="button" onClick={shift}>shift</button>\n        <button type="button" onClick={pop}>pop</button>\n        <button type="button" onClick={unshift}>unshift</button>\n        <button type="button" onClick={push}>push</button>\n        <button type="button" onClick={move}>move last to first</button>\n    </div>;\n}\n',description:"This shows how to use the array methods to manipulate arrays. If you're interested in rendering arrays of items, there is also a drag and drop demo that can provide a better user experience.",anchor:"array",more:"array-operations"},{title:"Array indexes",Demo:function(){var e=xt({colours:["Red","Green","Blue"]});return Ht(sr,null,e.renderAll("colours",(function(e){var n=e.useValue(),t=e.useIndex(),r=Object(o.useCallback)((function(){return er(e,1)}),[]),a=Object(o.useCallback)((function(){return er(e,-1)}),[]);return Ht(sr,null,Ht("code",null,"Colour: ",n,", index: ",t),Ht("button",{type:"button",onClick:r},"down"),Ht("button",{type:"button",onClick:a},"up"))})))},code:"\nconst offsetElement = (form, offset) => {\n    return form.setParent(index => array.move(index, index + offset));\n};\n\nfunction MyComponent(props) {\n\n    const form = useDendriform({\n        colours: ['Red', 'Green', 'Blue']\n    });\n\n    return <div>\n        {form.renderAll('colours', form => {\n            const colour = form.useValue();\n            const index = form.useIndex();\n            const moveDown = useCallback(() => offsetElement(form, 1), []);\n            const moveUp = useCallback(() => offsetElement(form, -1), []);\n\n            return <div>\n                <code>Colour: {colour}, index: {index}</code>\n                <button type=\"button\" onClick={moveDown}>down</button>\n                <button type=\"button\" onClick={moveUp}>up</button>\n            </div>;\n        })}\n    </div>;\n}\n",description:"This shows how to access array element indexes and respond to their changes. See how this incresases the amount of component updates required.",anchor:"indexes",more:"array-operations"},{title:"Array element tracking",Demo:function(){var e=xt((function(){return{pets:[{name:"Spike"},{name:"Spoke"}]}})),n=Object(o.useCallback)((function(){e.branch("pets").set((function(e){e.push({name:"new pet"})}))}),[]),t=Object(o.useCallback)((function(){e.set((function(e){e.pets.reverse()}))}),[]),r=Object(o.useCallback)((function(){e.set((function(e){e.pets=JSON.parse(JSON.stringify(e.pets)),e.pets.reverse()}))}),[]);return Ht(sr,null,Ht("fieldset",null,Ht("legend",null,"pets"),Ht("ul",null,e.renderAll("pets",(function(e){return Ht(sr,{of:"li"},e.render("name",(function(e){return Ht(sr,{of:"label"},"name ",Ht("input",Bt(e,150)))})),Ht("code",null,"(id: ",e.id,")"))}))),Ht("button",{type:"button",onClick:n},"Add pet")),Ht("button",{type:"button",onClick:t},"Reverse pets with strictly equal array element object references (ids will track)"),Ht("button",{type:"button",onClick:r},"Reverse pets with equal-by-value array element object references (ids won","'","t track)"))},code:"\nimport React, {useCallback} from 'react';\nimport {useDendriform, useInput} from 'dendriform';\n\nfunction MyComponent(props) {\n\n    const form = useDendriform(() => ({\n        pets: [\n            {name: 'Spike'},\n            {name: 'Spoke'}\n        ]\n    });\n\n    const reverseStrict = useCallback(() => {\n        form.set(draft => {\n            draft.pets.reverse();\n        });\n    }, []);\n\n    const reverseValue = useCallback(() => {\n        form.set(draft => {\n            // deliberately create new object references\n            draft.pets = JSON.parse(JSON.stringify(draft.pets));\n            draft.pets.reverse();\n        });\n    }, []);\n\n    return <div>\n        <fieldset>\n            <legend>pets</legend>\n            <ul>\n                {form.renderAll('pets', form => <li>\n                    {form.render('name', form => (\n                        <label>name <input {...useInput(form, 150)} /></label>\n                    ))}\n                    <code>(id: {form.id})</code>\n                </li>)}\n            </ul>\n            <button type=\"button\" onClick={addPet}>Add pet</button>\n        </fieldset>\n        <button type=\"button\" onClick={reverseStrict}>Reverse pets with strictly equal array element object references (ids will track)</button>\n        <button type=\"button\" onClick={reverseValue}>Reverse pets with equal-by-value array element object references (ids won't track)</button>\n    </div>;\n};\n",description:"This demonstrates how Dendriform uses strict equality to track array element movement over time, which it uses for React element keying.",anchor:"set-track"},{title:"History",Demo:function(){var e=xt((function(){return{name:"Ben",age:"88"}}),{history:10});return Ht(sr,null,e.render("name",(function(e){return Ht(sr,{of:"label"},"name: ",Ht("input",Bt(e,150)))})),e.render("age",(function(e){return Ht(sr,{of:"label"},"age: ",Ht("input",Bt(e,150)))})),e.render((function(e){var n=e.useHistory(),t=n.canUndo,r=n.canRedo;return Ht(sr,null,Ht("button",{type:"button",onClick:e.undo,disabled:!t},"Undo"),Ht("button",{type:"button",onClick:e.redo,disabled:!r},"Redo"),Ht("button",{type:"button",onClick:function(){return e.go(-3)},disabled:!t},"Undo 3"))})))},code:"\nfunction MyComponent(props) {\n    const form = useDendriform(() => ({name: 'Ben'}), {history: 10});\n\n    return <div>\n        {form.render('name', form => (\n            <label>name: <input {...useInput(form, 150)} /></label>\n        ))}\n\n        {form.render('age', form => (\n            <label>age: <input {...useInput(form, 150)} /></label>\n        ))}\n\n        {form.render(form => {\n            const {canUndo, canRedo} = form.useHistory();\n            // this function will only re-render if canUndo or canRedo changes\n            return <>\n                <button type=\"button\" onClick={form.undo} disabled={!canUndo}>Undo</button>\n                <button type=\"button\" onClick={form.redo} disabled={!canRedo}>Redo</button>\n                <button type=\"button\" onClick={() => form.go(-3)} disabled={!canUndo}>Undo 3</button>\n            </>;\n        })}\n    </div>;\n}\n",description:"A simple demonstration of history with undo and redo.",anchor:"history",more:"history"},{title:"Grouping history items",Demo:function(){var e=xt("a",{history:10}),n=Object(o.useCallback)((function(){e.set((function(e){return e===e.toLowerCase()?e.toUpperCase():e.toLowerCase()}))}),[]),t=Object(o.useCallback)((function(){e.replace(),e.set((function(e){return"".concat(e," replaced")}))}),[]),r=Object(o.useCallback)((function(){e.buffer(),e.set((function(e){return"".concat(e,".")})),e.buffer(),e.set((function(e){return"".concat(e,".")})),e.buffer(),e.set((function(e){return"".concat(e,".")})),e.done()}),[]);return Ht(sr,null,e.render((function(e){return Ht(sr,{of:"code"},"value: ",e.useValue())})),Ht("button",{type:"button",onClick:n},"Add history item"),Ht("button",{type:"button",onClick:r},"Add 3 history items"),Ht("button",{type:"button",onClick:t},"Replace history item"),e.render((function(e){var n=e.useHistory(),t=n.canUndo,r=n.canRedo;return Ht(sr,null,Ht("button",{type:"button",onClick:e.undo,disabled:!t},"Undo"),Ht("button",{type:"button",onClick:e.redo,disabled:!r},"Redo"))})))},code:'\nfunction MyComponent(props) {\n    const form = useDendriform(\'a\', {history: 10});\n\n    const add = useCallback(() => {\n        form.set(value => value === value.toLowerCase()\n            ? value.toUpperCase()\n            : value.toLowerCase()\n        );\n    }, []);\n\n    const replace = useCallback(() => {\n        form.replace();\n        form.set(value => `${value} replaced`);\n    }, []);\n\n    const addMulti = useCallback(() => {\n        form.buffer();\n        form.set(value => `${value}.`);\n        form.buffer();\n        form.set(value => `${value}.`);\n        form.buffer();\n        form.set(value => `${value}.`);\n        form.done();\n    }, []);\n\n    return <div>\n        {form.render(form => (\n            <code>value: {form.useValue()}</code>\n        ))}\n\n        <button type="button" onClick={add}>Add history item</button>\n        <button type="button" onClick={addMulti}>Add 3 history items</button>\n        <button type="button" onClick={replace}>Replace history item</button>\n\n        {form.render(form => {\n            const {canUndo, canRedo} = form.useHistory();\n            return <div>\n                <button type="button" onClick={form.undo} disabled={!canUndo}>Undo</button>\n                <button type="button" onClick={form.redo} disabled={!canRedo}>Redo</button>\n            </div>;\n        })}\n    </div>;\n}\n',description:"Shows how you can control how changes are grouped within the history stack. Use any of the buttons, and then use undo and redo to see how the changes are grouped within history.",anchor:"historygroup",more:"history"},{title:"Drag and drop with react-beautiful-dnd",Demo:function(){var e=xt({colours:["Red","Green","Blue"]}),n=Object(o.useCallback)((function(n){e.branch("colours").set(function(e){return function(n){if(e.destination){var t=e.source.index,r=e.destination.index;if(r!==t){var o=De(n.splice(t,1),1)[0];n.splice(r,0,o)}}}}(n))}),[]),t=Object(o.useCallback)((function(){e.branch("colours").set(At("Puce"))}),[]);return Ht(sr,null,Ht(Ut.a,{onDragEnd:n},Ht(Ut.c,{droppableId:"list"},(function(n){return Ht("div",Ae({ref:n.innerRef},n.droppableProps),Ht(sr,null,Ht(nr,{form:e.branch("colours")}),n.placeholder))}))),Ht("button",{type:"button",onClick:t},"add new"))},code:"\nimport {DragDropContext, Droppable, Draggable} from 'react-beautiful-dnd';\n\nconst dndReorder = (result) => (draft) => {\n    if(!result.destination) return;\n\n    const startIndex = result.source.index;\n    const endIndex = result.destination.index;\n    if(endIndex === startIndex) return;\n\n    const [removed] = draft.splice(startIndex, 1);\n    draft.splice(endIndex, 0, removed);\n};\n\nfunction DragAndDrop() {\n\n    const form = useDendriform({\n        colours: ['Red', 'Green', 'Blue']\n    });\n\n    const onDragEnd = useCallback(result => {\n        form.branch('colours').set(dndReorder(result));\n    }, []);\n\n    const onAdd = useCallback(() => {\n        form.branch('colours').set(array.push('Puce'));\n    }, []);\n\n    return <div>\n        <DragDropContext onDragEnd={onDragEnd}>\n            <Droppable droppableId=\"list\">\n                {provided => (\n                    <div ref={provided.innerRef} {...provided.droppableProps}>\n                        <DragAndDropList form={form.branch('colours')} />\n                        {provided.placeholder}\n                    </div>\n                )}\n            </Droppable>\n        </DragDropContext>\n\n        <button type=\"button\" onClick={push}>add new</button>\n    </div>;\n}\n\nfunction DragAndDropList(props) {\n    return props.form.renderAll(form => {\n\n        const id = `${form.id}`;\n        const index = form.useIndex();\n        const remove = useCallback(() => form.set(array.remove()), []);\n\n        return <Draggable key={id} draggableId={id} index={index}>\n            {provided => <div\n                ref={provided.innerRef}\n                {...provided.draggableProps}\n                {...provided.dragHandleProps}\n            >\n                <label>colour: <input {...useInput(form, 150)} /></label>\n                <button type=\"button\" onClick={remove}>remove</button>\n            </div>}\n        </Draggable>;\n    });\n}\n",description:"An example of how one might implement drag and drop with react-beautiful-dnd. Dendriform's .renderAll() function, and its automatic id management on array elements simplifies this greatly.",anchor:"draganddrop",more:"drag-and-drop"}],fr=[{title:"Submit Plugin (PluginSubmit)",Demo:function(){var e={firstName:"Ben",lastName:"Blen"},n=xt((function(){return e}),{plugins:function(){return{submit:new zt({onSubmit:function(){var e=Ee(Re.a.mark((function e(n){return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rr(n);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(e){return e.message}})}}}),t=Object(o.useCallback)((function(e){e.preventDefault(),n.plugins.submit.submit()}),[]);return Ht(sr,null,Ht("form",{onSubmit:t},n.render("firstName",(function(e){var n=e.plugins.submit.dirty.useValue();return Ht(sr,{of:"label"},"first name: ",Ht("input",Bt(e,150))," ",n?"*":"")})),n.render("lastName",(function(e){var n=e.plugins.submit.dirty.useValue();return Ht(sr,{of:"label"},"last name: ",Ht("input",Bt(e,150))," ",n?"*":"")})),n.render((function(e){var n=e.plugins.submit.submitting.useValue();return Ht(sr,null,Ht("button",{type:"submit",disabled:!e.plugins.submit.dirty.useValue()},"Submit"),n&&Ht("span",null,"Saving..."))})),n.plugins.submit.error.render((function(e){var n=e.useValue();return Ht(sr,null,n&&Ht("code",null,n))}))),tr.render((function(e){return Ht(sr,{of:"label"},"cause an error on submit",Ht("input",Ae({type:"checkbox"},Mt(e))))})))},code:"\nconst causeAnErrorForm = new Dendriform(false);\n\nasync function fakeSave(value) {\n    console.log('saving', value);\n    await new Promise(r => setTimeout(r, 1000));\n    if(causeAnErrorForm.value) {\n        throw new Error('Error!');\n    }\n    console.log('saved');\n}\n\nfunction PluginSubmitExample() {\n\n    const initialValue = {\n        firstName: 'Ben',\n        lastName: 'Blen'\n    };\n\n    const plugins = () => ({\n        submit: new PluginSubmit({\n            onSubmit: async (newValue) => {\n                await fakeSave(newValue);\n            }\n        })\n    });    \n\n    const form = useDendriform(() => initialValue, {plugins});\n\n    const onSubmit = useCallback((e) => {\n        e.preventDefault();\n        form.plugins.submit.submit();\n    }, []);\n\n    return <>\n        <form onSubmit={onSubmit}>\n            {form.render('firstName', form => {\n                const hasChanged = form.plugins.submit.dirty.useValue();\n                return <label>first name: <input {...useInput(form, 150)} /> {hasChanged ? '*' : ''}</label>;\n            })}\n\n            {form.render('lastName', form => {\n                const hasChanged = form.plugins.submit.dirty.useValue();\n                return <label>last name: <input {...useInput(form, 150)} /> {hasChanged ? '*' : ''}</label>;\n            })}\n\n            {form.render(form => {\n                const submitting = form.plugins.submit.useSubmitting();\n                return <>\n                    <button type=\"submit\" disabled={!form.plugins.submit.dirty.useValue()}>Submit</button>\n                    {submitting && <span>Saving...</span>}\n                </>;\n            })}\n\n            {form.plugins.submit.error.render(form => {\n                const error = form.useValue();\n                return <>{error && <code>{error}</code>}</>;\n            })}\n        </form>\n\n        {causeAnErrorForm.render(form => (\n            <label>\n                cause an error on submit\n                <input type=\"checkbox\" {...useCheckbox(form)} />\n            </label>\n        ))}\n    </>;\n}\n",description:"The submit plugin gives a form the ability to have a submit action, and to track what has changed between the current form state and the last time it was submitted. The asterisks denote that a field has changed.",anchor:"pluginsubmit",more:"pluginsubmit"}],dr=[{title:"Validation example",Demo:function(){var e=xt([ir]),n=Object(o.useCallback)((function(){return e.set(At(ir))}),[]),t=Object(o.useState)(!1),r=t[0],a=t[1],i=xt({}),u=xt({}),c=xt([]),s=Object(o.useCallback)((function(){var n={},t=[],r=u.value;e.branchAll().forEach((function(e){var o=e.branch("name");r[o.id]&&""===o.value&&(n[o.id]="Name must not be blank",t.push("Name #".concat(e.index+1," must not be blank")));var a=e.branch("age");r[a.id]&&isNaN(parseFloat(a.value))&&(n[a.id]="Age must be numeric",t.push("Age #".concat(e.index+1," must be numeric")))})),i.set(n),c.set(t)}),[]);e.useDerive((function(){return s()}));var l=Object(o.useCallback)((function(e){return i.branch(e.id).useValue()}),[]),f=Object(o.useCallback)((function(e){u.branch(e.id).set(!0)}),[]),d=Object(o.useCallback)((function(n){n.preventDefault(),e.branchAll().forEach((function(e){f(e.branch("name")),f(e.branch("age"))})),s(),0===c.value.length&&(a(!0),console.log("Submitting data:",e.value))}),[]),p=Object(o.useCallback)((function(e){return function(){f(e),s()}}),[]);return Ht(sr,null,Ht("form",{onSubmit:d},e.renderAll((function(e){var n=Object(o.useCallback)((function(){return e.set(Nt())}),[]),t=Object(o.useCallback)((function(){return er(e,1)}),[]),r=Object(o.useCallback)((function(){return er(e,-1)}),[]);return Ht(sr,null,e.render("name",(function(e){return Ht(sr,null,Ht("label",null,"name: ",Ht("input",Ae({},Bt(e,150),{onBlur:p(e)}))),Ht(ye,{fontSize:"small"},l(e)))})),e.render("age",(function(e){return Ht(sr,null,Ht("label",null,"age: "," ",Ht("input",Ae({},Bt(e,150),{onBlur:p(e)}))),Ht(ye,{fontSize:"small"},l(e)))})),Ht("button",{type:"button",onClick:n},"remove"),Ht("button",{type:"button",onClick:t},"down"),Ht("button",{type:"button",onClick:r},"up"))})),Ht("button",{type:"button",onClick:n},"add new"),c.render((function(e){var n=e.useValue();return Ht(sr,null,"Errors:",Ht("ul",null,n.map((function(e,n){return Ht(sr,{of:"li",key:n},e)})),0===n.length&&Ht(sr,{of:"li"},"None")))})),Ht("button",{type:"submit"},"submit"),r&&Ht("code",null,"submitted")))},code:"\nconst offsetElement = (form, offset) => {\n    return form.setParent(index => array.move(index, index + offset));\n};\n\nconst BLANK_PERSON = {\n    name: '',\n    age: ''\n};\n\nfunction MyComponent(props) {\n    const form = useDendriform([BLANK_PERSON]);\n    const addNew = useCallback(() => form.set(array.push(BLANK_PERSON)), []);\n\n    // submit\n    const [submitted, setSubmitted] = useState(false);\n\n    // validation\n    const errorMapForm = useDendriform({});\n    const showErrorMapForm = useDendriform({});\n    const errorListForm = useDendriform([]);\n\n    const updateValidation = useCallback(() => {\n        const validationMap = {};\n        const errorList = [];\n        const showErrorMap: = showErrorMapForm.value;\n\n        form.branchAll().forEach(form => {\n            const nameForm = form.branch('name');\n            if(showErrorMap[nameForm.id] && nameForm.value === '') {\n                validationMap[nameForm.id] = 'Name must not be blank';\n                errorList.push(`Name #${form.index + 1} must not be blank`);\n            }\n\n            const ageForm = form.branch('age');\n            if(showErrorMap[ageForm.id] && isNaN(parseFloat(ageForm.value))) {\n                validationMap[ageForm.id] = 'Age must be numeric';\n                errorList.push(`Age #${form.index + 1} must be numeric`);\n            }\n        });\n\n        errorMapForm.set(validationMap);\n        errorListForm.set(errorList);\n    }, []);\n\n    form.useDerive(() => updateValidation());\n\n    const useError = useCallback((form) => {\n        return errorMapForm.branch(form.id).useValue();\n    }, []);\n\n    const showError = useCallback((form) => {\n        showErrorMapForm.branch(form.id).set(true);\n    }, []);\n\n    const onSubmit = useCallback((e) => {\n        e.preventDefault();\n\n        form.branchAll().forEach(form => {\n            showError(form.branch('name'));\n            showError(form.branch('age'));\n        });\n\n        updateValidation();\n\n        if(errorListForm.value.length === 0) {\n            setSubmitted(true);\n            console.log('Submitting data:', form.value);\n        }\n    }, []);\n\n    const handleBlur = useCallback((form) => () => {\n        showError(form);\n        updateValidation();\n    }, []);\n\n    return <form onSubmit={onSubmit}>\n        {form.renderAll(form => {\n\n            const remove = useCallback(() => form.set(array.remove()), []);\n            const moveDown = useCallback(() => offsetElement(form, 1), []);\n            const moveUp = useCallback(() => offsetElement(form, -1), []);\n\n            return <>\n                {form.render('name', form => {\n                    return <>\n                        <label>name: <input {...useInput(form, 150)} onBlur={handleBlur(form)} /></label>\n                        {useError(form)}\n                    </>;\n                })}\n                {form.render('age', form => (\n                    <>\n                        <label>age: <input {...useInput(form, 150)} onBlur={handleBlur(form)} /></label>\n                        {useError(form)}\n                    </>\n                ))}\n\n                <button type=\"button\" onClick={remove}>remove</button>\n                <button type=\"button\" onClick={moveDown}>down</button>\n                <button type=\"button\" onClick={moveUp}>up</button>\n            </>;\n        })}\n\n        <button type=\"button\" onClick={addNew}>add new</button>\n\n        {errorListForm.render(form => {\n            const errors = form.useValue();\n            return <>\n                Errors:\n                <ul>\n                    {errors.map((err, key) => <li key={key}>{err}</li>)}\n                    {errors.length === 0 && <li>None</li>}\n                </ul>\n            </>;\n        })}\n\n        <button type=\"submit\">submit</button>\n        {submitted && <code>submitted</code>}\n    </form>;\n}\n",description:"An example of how it's possible to perform validation on an array of items.",anchor:"validation"},{title:"Deriving data in a single form",Demo:function(){var e=xt({firstName:"Robert",lastName:"Clamps",fullName:""},{history:10});return e.useDerive((function(n){e.branch("fullName").set("".concat(n.firstName," ").concat(n.lastName))})),Ht(sr,null,e.render("firstName",(function(e){return Ht(sr,{of:"label"},"first name: ",Ht("input",Bt(e,150)))})),e.render("lastName",(function(e){return Ht(sr,{of:"label"},"last name: ",Ht("input",Bt(e,150)))})),e.render("fullName",(function(e){return Ht(sr,null,"full name: ",e.useValue())})),e.render((function(e){var n=e.useHistory(),t=n.canUndo,r=n.canRedo;return Ht(sr,null,Ht("button",{type:"button",onClick:e.undo,disabled:!t},"Undo"),Ht("button",{type:"button",onClick:e.redo,disabled:!r},"Redo"))})))},code:"\nfunction MyComponent(props) {\n    const form = useDendriform({\n        firstName: 'Robert',\n        lastName: 'Clamps',\n        fullName: ''\n    }, {\n        history: 10\n    });\n\n    form.useDerive(newValue => {\n        form.branch('fullName').set(`${newValue.firstName} ${newValue.lastName}`);\n    });\n\n    return <div>\n        {form.render('firstName', form => (\n            <label>first name: <input {...useInput(form, 150)} /></label>\n        ))}\n\n        {form.render('lastName', form => (\n            <label>last name: <input {...useInput(form, 150)} /></label>\n        ))}\n\n        {form.render('fullName', form => (\n            <code>full name: {form.useValue()}</code>\n        ))}\n\n        {form.render(form => {\n            const {canUndo, canRedo} = form.useHistory();\n            return <div>\n                <button type=\"button\" onClick={form.undo} disabled={!canUndo}>Undo</button>\n                <button type=\"button\" onClick={form.redo} disabled={!canRedo}>Redo</button>\n            </div>;\n        })}\n    </div>;\n}\n",description:"The .useDerive() hook is used to set the value of one property in response to the value of other properties.",anchor:"derive",more:"deriving-data"},{title:"Deriving data in another form",Demo:function(){var e=xt({name:"Bill"}),n=xt({nameError:"",valid:!0});return e.useDerive((function(e){var t=e.name.trim().length>0,r=t?"":"Name must not be blank";n.branch("valid").set(t),n.branch("nameError").set(r)})),Ht(sr,null,e.render("name",(function(e){return Ht(sr,{of:"label"},"name: ",Ht("input",Bt(e,150)))})),n.render((function(e){var n=e.useValue(),t=n.valid,r=n.nameError;return Ht(sr,{of:"code"},t?"valid":r)})))},code:"\nfunction MyComponent(props) {\n    const form = useDendriform({name: 'Bill'});\n\n    const validState = useDendriform({\n        nameError: '',\n        valid: true\n    });\n\n    form.useDerive(newValue => {\n        const valid = newValue.name.trim().length > 0;\n        const nameError = valid ? '' : 'Name must not be blank';\n        validState.branch('valid').set(valid);\n        validState.branch('nameError').set(nameError);\n    });\n\n    return <div>\n        {form.render('name', form => (\n            <label>name: <input {...useInput(form, 150)} /></label>\n        ))}\n\n        {validState.render(form => {\n            const {valid, nameError} = form.useValue();\n            const msg = valid ? 'valid' : nameError;\n            return <code>{msg}</code>;\n        })}\n    </div>;\n}\n",description:"It is also possible and often preferrable to make changes in other forms in .onDerive()'s callback. Here we can see that deriving data can be useful for implementing validation. Try deleting all the characters in the name below.",anchor:"deriveother",more:"deriving-data"},{title:"Synchronising forms",Demo:function(){var e=xt((function(){return{name:"Bill"}}),{history:100}),n=xt((function(){return{street:"Cool St"}}),{history:100});return Tt(e,n),Ht(sr,null,e.render("name",(function(e){return Ht(sr,{of:"label"},"name: ",Ht("input",Bt(e,150)))})),n.render("street",(function(e){return Ht(sr,{of:"label"},"street: ",Ht("input",Bt(e,150)))})),e.render((function(e){var n=e.useHistory(),t=n.canUndo,r=n.canRedo;return Ht(sr,null,Ht("button",{type:"button",onClick:e.undo,disabled:!t},"Undo"),Ht("button",{type:"button",onClick:e.redo,disabled:!r},"Redo"))})))},code:"\nfunction MyComponent(props) {\n    const nameForm = useDendriform(() => ({name: 'Bill'}), {history: 100});\n    const addressForm = useDendriform(() => ({street: 'Cool St'}), {history: 100});\n\n    useSync(nameForm, addressForm);\n\n    return <div>\n        {nameForm.render('name', form => (\n            <label>name: <input {...useInput(form, 150)} /></label>\n        ))}\n\n        {addressForm.render('street', form => (\n            <label>street: <input {...useInput(form, 150)} /></label>\n        ))}\n\n        {nameForm.render(form => {\n            const {canUndo, canRedo} = form.useHistory();\n            return <div>\n                <button type=\"button\" onClick={form.undo} disabled={!canUndo}>Undo</button>\n                <button type=\"button\" onClick={form.redo} disabled={!canRedo}>Redo</button>\n            </div>;\n        })}\n    </div>;\n}\n",description:"When forms are synchronised with each other, their changes throughout history are also synchronised. Type in either input and use undo and redo to see how the two forms are connected.",anchor:"sync",more:"synchronising-forms"},{title:"Synchronising forms with deriving",Demo:function(){var e=xt((function(){return["Bill","Ben","Bob"]}),{history:100}),n=xt((function(){return{street:"Cool St",occupants:0}}),{history:100});Tt(e,n,(function(e){console.log("Deriving occupants for ".concat(JSON.stringify(e))),n.branch("occupants").set(e.length)}));var t=Object(o.useCallback)((function(){e.set((function(e){e.push("Name "+e.length)}))}),[]);return Ht(sr,null,Ht("fieldset",null,Ht("legend",null,"names"),Ht("ul",null,e.renderAll((function(e){return Ht(sr,{of:"li"},Ht("label",null,Ht("input",Bt(e,150))))}))),Ht("button",{type:"button",onClick:t},"Add name")),n.render("street",(function(e){return Ht(sr,{of:"label"},"street: ",Ht("input",Bt(e,150)))})),n.render("occupants",(function(e){return Ht(sr,{of:"code"},"occupants: ",e.useValue())})),e.render((function(e){var n=e.useHistory(),t=n.canUndo,r=n.canRedo;return Ht(sr,null,Ht("button",{type:"button",onClick:e.undo,disabled:!t},"Undo"),Ht("button",{type:"button",onClick:e.redo,disabled:!r},"Redo"))})))},code:"\nfunction MyComponent(props) {\n\n    const namesForm = useDendriform(() => ['Bill', 'Ben', 'Bob'], {history: 100});\n\n    const addressForm = useDendriform(() => ({\n        street: 'Cool St',\n        occupants: 0\n    }), {history: 100});\n\n    useSync(namesForm, addressForm, names => {\n        addressForm.branch('occupants').set(names.length);\n    });\n\n    const addName = useCallback(() => {\n        namesForm.set(draft => {\n            draft.push('Name ' + draft.length);\n        });\n    }, []);\n\n    return <div>\n        <fieldset>\n            <legend>names</legend>\n            <ul>\n                {namesForm.renderAll(form => <Region of=\"li\">\n                    <label><input {...useInput(form, 150)} /></label>\n                </Region>)}\n            </ul>\n            <button type=\"button\" onClick={addName}>Add name</button>\n        </fieldset>\n\n        {addressForm.render('street', form => (\n            <label>street: <input {...useInput(form, 150)} /></label>\n        ))}\n\n        {addressForm.render('occupants', form => (\n            <code>occupants: {form.useValue()}</code>\n        ))}\n\n        {namesForm.render(form => {\n            const {canUndo, canRedo} = form.useHistory();\n            return <>\n                <button type=\"button\" onClick={form.undo} disabled={!canUndo}>Undo</button>\n                <button type=\"button\" onClick={form.redo} disabled={!canRedo}>Redo</button>\n            </>;\n        })}\n    </div>;\n}\n",description:"The useSync() hook can also accept a deriver to derive data in one direction.  This has the effect of caching each derived form state in history, and calling undo and redo will just restore the relevant derived data at that point in history.",anchor:"syncderive",more:"synchronising-forms"},{title:"Cancel changes based on constraints",Demo:function(){var e=xt((function(){return 10}));e.useDerive((function(e){if(e<0)throw wt("Age cannot be negative")})),e.useCancel((function(e){return console.warn(e)}));var n=Object(o.useCallback)((function(){return e.set(5)}),[]),t=Object(o.useCallback)((function(){return e.set(10)}),[]),r=Object(o.useCallback)((function(){return e.set(-5)}),[]);return Ht(sr,null,e.render((function(e){return Ht(sr,{of:"label"},"age: ",Ht("code",null,e.useValue()))})),Ht("button",{type:"button",onClick:n},"set to 5"),Ht("button",{type:"button",onClick:t},"set to 10"),Ht("button",{type:"button",onClick:r},"set to -5"))},code:'\nfunction MyComponent(props) {\n\n    const ageForm = useDendriform(() => 10);\n\n    ageForm.useDerive(age => {\n        if(age < 0) {\n            throw cancel(\'Age cannot be negative\');\n        }\n    });\n\n    ageForm.useCancel(reason => console.warn(reason));\n\n    const setTo5 = useCallback(() => ageForm.set(5), []);\n    const setTo10 = useCallback(() => ageForm.set(10), []);\n    const setToMinus5 = useCallback(() => ageForm.set(-5), []);\n\n    return <div>\n\n        {ageForm.render(form => (\n            <label>age: <code>{form.useValue()}</code></label>\n        ))}\n\n        <button type="button" onClick={setTo5}>set to 5</button>\n        <button type="button" onClick={setTo10}>set to 10</button>\n        <button type="button" onClick={setToMinus5}>set to -5</button>\n\n    </div>;\n}\n',description:"The callbacks provided to onDerive() can cancel and revert the change that is being currently applied. The .useCancel() callback is called whenever a change is cancelled. This example does not permit negative numbers in the form.",anchor:"cancel",more:"cancel-changes-based-on-constraints"},{title:"Foreign key constraints",Demo:function(){var e=xt((function(){return new Map([[0,"Blue"],[1,"Yellow"]])})),n=Object(o.useRef)(2),t=Object(o.useCallback)((function(){e.set((function(e){e.set(n.current++,"Green")}))}),[]),r=xt((function(){return new Map([[0,{name:"George",faveColours:new Set([0])}],[1,{name:"Pat",faveColours:new Set([0,1])}]])})),a=Object(o.useRef)(2),i=Object(o.useCallback)((function(){r.set((function(e){e.set(a.current++,{name:"Floop",faveColours:new Set})}))}),[]),u=Object(o.useState)(""),c=u[0],s=u[1];return e.useDerive((function(e,n){var t=De(function(e,n){void 0===n&&(n={});var t=n.calculateUpdated,r=void 0===t||t,o=e.prev.value,a=e.next.value,i=e.prev.nodes,u=e.next.nodes,c=_n(o),s=_n(a),l=Vt(c,i,e.id),f=Vt(s,u,e.id),d=_t(c,o,l),p=_t(s,a,f),m=new Set(d),b=new Set(p),h=p.filter((function(e){return!m.has(e)})),v=d.filter((function(e){return!b.has(e)})),g=Lt(h,f),y=Lt(v,l),w=Wt(g,a),C=Wt(y,o);if(!r)return[w,C,[]];var k=p.filter((function(e){return m.has(e)})),S=Lt(k,l),O=Lt(k,f),j=Wt(S,o);return[w,C,Wt(O,a).map((function(e,n){return Object.is(j[n].value,e.value)?void 0:e})).filter((function(e){return!!e}))]}(n),2)[1],o=je(r.value.entries()).filter((function(e){var n=De(e,2)[1];return t.some((function(e){var t=e.key;return n.faveColours.has(t)}))}));if(o.length>0){if(!n.force){var a=t.map((function(e){return e.value})).join(", "),i=o.map((function(e){return De(e,2)[1].name})).join(", ");throw wt("Colour(s) ".concat(a," cannot be deleted because they are referenced by ").concat(i))}r.set((function(e){o.forEach((function(n){var t=De(n,1)[0];e.delete(t)}))}))}})),e.useCancel((function(e){return s(e)})),e.useChange((function(){return s("")})),Ht(sr,null,Ht("fieldset",null,Ht("legend",null,"colours"),c&&Ht("code",null,c),Ht("ul",null,e.renderAll((function(e){return Ht(sr,{of:"li"},Ht("label",null,"colour ",Ht("input",Bt(e,150))),Ht("button",{type:"button",onClick:function(){return e.set(Nt())}},"remove"),Ht("button",{type:"button",onClick:function(){return e.set(Nt(),{force:!0})}},"remove with force"))}))),Ht("button",{type:"button",onClick:t},"Add colour")),Ht("fieldset",null,Ht("legend",null,"people"),Ht("ul",null,r.renderAll((function(n){return Ht(sr,{of:"li"},n.render("name",(function(e){return Ht(sr,{of:"label"},"name ",Ht("input",Bt(e,150)))})),Ht("fieldset",null,Ht("legend",null,"fave colours"),Ht(ar,{coloursForm:e,personForm:n})),Ht("button",{type:"button",onClick:function(){return n.set(Nt())}},"remove"))}))),Ht("button",{type:"button",onClick:i},"Add person")))},code:"\nimport {useDendriform, diff} from 'dendriform';\nimport {useState, useRef} from 'react';\n\nfunction MyComponent(props) {\n    // colours\n\n    const coloursForm = useDendriform(() => new Map([\n        [0, 'Blue'],\n        [1, 'Yellow']\n    ]));\n\n    const nextColourId = useRef(2);\n\n    const addColour = useCallback(() => {\n        coloursForm.set(draft => {\n            draft.set(nextColourId.current++, 'Green');\n        });\n    }, []);\n\n    // people\n\n    const peopleForm = useDendriform(() => new Map([\n        [0, {\n            name: 'George',\n            faveColours: new Set([0])\n        }],\n        [1, {\n            name: 'Pat',\n            faveColours: new Set([0, 1])\n        }]\n    ]));\n\n    const nextPersonId = useRef(2);\n\n    const addPerson = useCallback(() => {\n        peopleForm.set(draft => {\n            draft.set(nextPersonId.current++, {\n                name: 'Floop',\n                faveColours: new Set()\n            });\n        });\n    }, []);\n\n    // cancellation state\n\n    const [cancelMessage, setCancelMessage] = useState('');\n\n    // constraints\n\n    coloursForm.useDerive((colourValue, details) => {\n\n        const [,removed] = diff(details);\n\n        const referencedPeople = [...peopleForm.value.entries()].filter(([,person]) => {\n            return removed.some(({key}) => person.faveColours.has(key));\n        });\n\n        if(referencedPeople.length > 0) {\n            if(!details.force) {\n                // if not forcing, throw an error to say why this change cant be made\n                const colourNames = removed.map(({value}) => value).join(', ');\n                const personNames = referencedPeople.map(([,person]) => person.name).join(', ');\n                throw cancel('Colour(s) ' + colourNames + ' cannot be deleted because they are referenced by ' + personNames);\n\n            } else {\n                // if forcing, delete all people with references\n                peopleForm.set(draft => {\n                    referencedPeople.forEach(([key]) => {\n                        draft.delete(key);\n                    });\n                })\n            }\n        }\n    });\n\n    coloursForm.useCancel(message => setCancelMessage(message));\n\n    coloursForm.useChange(() => setCancelMessage(''));\n\n    // rendering\n\n    return <div>\n        <fieldset>\n            <legend>colours</legend>\n            {cancelMessage && <code>{cancelMessage}</code>}\n            <ul>\n                {coloursForm.renderAll(form => (\n                    <li>\n                        <label>colour <input {...useInput(form, 150)} /></label>\n                        <button type=\"button\" onClick={() => form.set(array.remove())}>remove</button>\n                        <button type=\"button\" onClick={() => form.set(array.remove(), {force: true})}>remove with force</button>\n                    </li>\n                ))}\n            </ul>\n            <button type=\"button\" onClick={addColour}>Add colour</button>\n        </fieldset>\n        <fieldset>\n            <legend>people</legend>\n            <ul>\n                {peopleForm.renderAll(personForm => (\n                    <li>\n                        {personForm.render('name', form => (\n                            <label>name <input {...useInput(form, 150)} /></label>\n                        ))}\n\n                        <fieldset>\n                            <legend>fave colours</legend>\n                            <FaveColours coloursForm={coloursForm} personForm={personForm} />\n                        </fieldset>\n                        <button type=\"button\" onClick={() => personForm.set(array.remove())}>remove</button>\n                    </li>\n                ))}\n            </ul>\n            <button type=\"button\" onClick={addPerson}>Add person</button>\n        </fieldset>\n    </div>;\n}\n\nfunction FaveColours(props) {\n    const {coloursForm, personForm} = props;\n    return <div>\n        <code>\n            {personForm.render('faveColours', form => (\n                <span>{JSON.stringify(Array.from(form.useValue().values()))}</span>\n            ))}\n        </code>\n        <ul>\n            {coloursForm.renderAll(colourForm => {\n                const id = colourForm.key;\n                const colour = colourForm.useValue();\n                const hasFave = personForm.branch('faveColours').useValue().has(id);\n\n                const toggle = () => personForm.set(draft => {\n                    if(hasFave) {\n                        draft.faveColours.delete(id);\n                    } else {\n                        draft.faveColours.add(id);\n                    }\n                });\n\n                const button = <button type=\"button\" onClick={toggle}>{hasFave ? 'yes' : 'no'}</button>;\n                return <li>{colour} {button}</li>;\n            })}\n        </ul>\n    </div>;\n}\n",description:"In this demo the cancel feature is used to set up data integrity constraints between forms. Try removing a colour that is being referenced by a person. Calls to remove a colour that is referenced will be cancelled, and calls to forcefully remove a colour will cascade the deletion, removing all people currently referencing the removed colour and maintaining relational integrity.",anchor:"foreign-key",more:"cancel-changes-based-on-constraints"}];function pr(){return Ht(fe,{flexWrap:"wrap"},lr.map((function(e){return Ht(hr,{demo:e,key:e.anchor})})))}function mr(){return Ht(fe,{flexWrap:"wrap"},fr.map((function(e){return Ht(hr,{demo:e,key:e.anchor})})))}function br(){return Ht(fe,{flexWrap:"wrap"},dr.map((function(e){return Ht(hr,{demo:e,key:e.anchor})})))}function hr(e){var n=e.demo,t=n.Demo,r=n.title,a=n.anchor,i=n.code,u=n.description,c=n.more,s=Object(o.useState)(!1),l=s[0],f=s[1],d=Object(o.useCallback)((function(){f((function(e){return!e}))}),[]),p=Ht(le,{maxWidth:"25rem"},Ht(fe,{pb:3},Ht(le,{mr:2},Ht(Ce,{id:a,onClick:d,style:{cursor:"pointer"}},r)),Ht(le,{flexShrink:"0"},Ht(ye,{style:{lineHeight:"1.9rem"},fontSize:"smaller"},Ht(ke,{onClick:d},l?"minimise":"show code")))),Ht(le,{mb:4},Ht(ye,{fontSize:"smaller"},u," ",c&&Ht(ke,{title:"To the documentation",href:"https://github.com/92green/dendriform#".concat(c)},"docs ",">"))),Ht(gr,null,Ht(t,null)));return Ht(vr,{expanded:l},Ht(yr,null,!l&&p,l&&Ht(fe,{display:["block","flex"]},Ht(le,{flexShrink:"0"},p),Ht(le,{ml:[0,4],flexGrow:"1",flexShrink:"1",style:{minWidth:0}},Ht(wr,{code:i})))))}var vr=i.c.div(Kt(),(function(e){return e.theme.colors.background}),(function(e){return e.expanded?"\n            position: fixed;\n            top: 0;\n            left: 0;\n            height: 100%;\n            z-index: 100;\n            padding: 1rem;\n            overflow: auto;\n        ":"\n            margin-right: 2rem;\n            margin-bottom: 2rem;\n            max-width: 25rem;\n        "})),gr=i.c.div(Yt(),(function(e){return e.theme.colors.background}),(function(e){return e.theme.colors.heading}),(function(e){return e.theme.fonts.mono}),(function(e){return e.theme.colors.background}),(function(e){return e.theme.colors.subtitle}),(function(e){return e.theme.fonts.mono}),(function(e){return e.theme.colors.text}),(function(e){return e.theme.fonts.mono}),(function(e){return e.theme.colors.line}),(function(e){return e.theme.colors.line})),yr=i.c.div(Gt(),(function(e){return e.theme.colors.backgroundLight})),wr=Object(i.c)((function(e){var n=e.className,t=e.code;return Ht("pre",{className:"".concat(n," language-jsx")},Ht("code",null,t.substr(1)))}))(qt(),(function(e){return e.theme.fonts.mono}),(function(e){return e.theme.colors.code}),(function(e){return e.theme.colors.background})),Cr=a.a.createElement;function kr(){var e=Object(r.a)(["\n    img {\n        display: block;\n    }\n"]);return kr=function(){return e},e}function Sr(){var e=Object(r.a)(["\n    border-bottom: 1px solid ",";\n    margin: 2rem 0;\n"]);return Sr=function(){return e},e}function Or(){var e=Object(r.a)(["\n    font-size: 2.5rem;\n    line-height: 2rem;\n    margin-bottom: .5rem;\n    color: ",";\n"]);return Or=function(){return e},e}function jr(){return Cr(de,{page:!0},Cr(fe,{alignItems:"center",mt:4,mb:4},Cr(le,{mr:4,width:"5rem",pt:2},Cr("img",{alt:"Dendriform logo",src:"/logo-dendriform.png",width:"100%"})),Cr(le,{maxWidth:"20rem"},Cr(xr,null,"dendriform"),Cr(ye,{as:"div",color:"subtitle",style:{fontStyle:"italic",lineHeight:"1.3rem"}},"Build feature-rich data-editing React UIs with great performance and little code."))),Cr(pe,null,Cr(Pr,{src:"https://img.shields.io/npm/v/dendriform.svg",to:"https://www.npmjs.com/package/dendriform"},"NPM"),Cr(Pr,{src:"https://github.com/92green/dendriform/workflows/CI/badge.svg?branch=master"},"CI: Build Status"),Cr(Pr,{src:"https://img.shields.io/badge/Maturity-Early%20days-yellow"},"Maturity: Early Days"),Cr(Pr,{src:"https://img.shields.io/badge/Coolness-Reasonable-blue"},"Coolness Reasonable")),Cr(le,{my:5},Cr(ye,{fontSize:"big"},"Looking for the docs or source code? ",Cr(ke,{href:"https://github.com/92green/dendriform"},"Go to the github repo."))),Cr(Rr,null),Cr(le,{mb:3},Cr(we,null,"Demos")),Cr(le,{mb:4},"White flashes indicate regions of the page that React has re-rendered. You can see how performant Dendriform's rendering is by how localised these flashes are."),Cr(le,{mb:5},Cr(pr,null)),Cr(Rr,null),Cr(le,{mb:3},Cr(we,null,"Plugin Demos")),Cr(le,{mb:3},Cr(mr,null)),Cr(Rr,null),Cr(le,{mb:3},Cr(we,null,"Advanced Demos")),Cr(le,{mb:3},Cr(br,null)))}var xr=Object(i.c)(le)(Or(),(function(e){return e.theme.colors.heading})),Rr=i.c.div(Sr(),(function(e){return e.theme.colors.line})),Pr=Object(i.c)((function(e){var n=e.src,t=e.children,r=void 0===t?"":t,o=e.to,a=Cr("img",{src:n,alt:r,title:r});return o?Cr("a",{href:o},a):a}))(kr())},"3AlC":function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return a}));var r=t("ERkP");function o(e,n){var t=Object(r.useState)((function(){return{inputs:n,result:e()}}))[0],o=Object(r.useRef)(!0),a=Object(r.useRef)(t),i=o.current||Boolean(n&&a.current.inputs&&function(e,n){if(e.length!==n.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}(n,a.current.inputs))?a.current:{inputs:n,result:e()};return Object(r.useEffect)((function(){o.current=!1,a.current=i}),[i]),i.result}var a=o,i=function(e,n){return o((function(){return e}),n)}},"4ILL":function(e,n,t){"use strict";function r(e,n){return(r=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function o(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,r(e,n)}t.d(n,"a",(function(){return o}))},"9OUN":function(e,n,t){"use strict";t.d(n,"a",(function(){return m})),t.d(n,"b",(function(){return s})),t.d(n,"c",(function(){return p})),t.d(n,"d",(function(){return u}));var r=t("hE+J"),o=function(){return Math.random().toString(36).substring(7).split("").join(".")},a={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function i(e){if("object"!==typeof e||null===e)return!1;for(var n=e;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}function u(e,n,t){var o;if("function"===typeof n&&"function"===typeof t||"function"===typeof t&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"===typeof n&&"undefined"===typeof t&&(t=n,n=void 0),"undefined"!==typeof t){if("function"!==typeof t)throw new Error("Expected the enhancer to be a function.");return t(u)(e,n)}if("function"!==typeof e)throw new Error("Expected the reducer to be a function.");var c=e,s=n,l=[],f=l,d=!1;function p(){f===l&&(f=l.slice())}function m(){if(d)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return s}function b(e){if("function"!==typeof e)throw new Error("Expected the listener to be a function.");if(d)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var n=!0;return p(),f.push(e),function(){if(n){if(d)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");n=!1,p();var t=f.indexOf(e);f.splice(t,1),l=null}}}function h(e){if(!i(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,s=c(s,e)}finally{d=!1}for(var n=l=f,t=0;t<n.length;t++){(0,n[t])()}return e}function v(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");c=e,h({type:a.REPLACE})}function g(){var e,n=b;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function t(){e.next&&e.next(m())}return t(),{unsubscribe:n(t)}}})[r.a]=function(){return this},e}return h({type:a.INIT}),(o={dispatch:h,subscribe:b,getState:m,replaceReducer:v})[r.a]=g,o}function c(e,n){return function(){return n(e.apply(this,arguments))}}function s(e,n){if("function"===typeof e)return c(e,n);if("object"!==typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var t={};for(var r in e){var o=e[r];"function"===typeof o&&(t[r]=c(o,n))}return t}function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function f(e,n){var t=Object.keys(e);return Object.getOwnPropertySymbols&&t.push.apply(t,Object.getOwnPropertySymbols(e)),n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(t,!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return 0===n.length?function(e){return e}:1===n.length?n[0]:n.reduce((function(e,n){return function(){return e(n.apply(void 0,arguments))}}))}function m(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(e){return function(){var t=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:t.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=n.map((function(e){return e(o)}));return d({},t,{dispatch:r=p.apply(void 0,a)(t.dispatch)})}}}},An9s:function(e,n,t){"use strict";function r(){return(r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}t.d(n,"a",(function(){return r}))},KrFp:function(e,n,t){"use strict";function r(e){var n,t=e.Symbol;return"function"===typeof t?t.observable?n=t.observable:(n=t("observable"),t.observable=n):n="@@observable",n}t.d(n,"a",(function(){return r}))},PgQS:function(e,n,t){"use strict";t.d(n,"a",(function(){return d})),t.d(n,"b",(function(){return c})),t.d(n,"c",(function(){return a})),t.d(n,"d",(function(){return p})),t.d(n,"e",(function(){return o})),t.d(n,"f",(function(){return l})),t.d(n,"g",(function(){return f}));var r=function(e,n){if(!e)throw new Error("Invariant failed")},o=function(e){var n=e.top,t=e.right,r=e.bottom,o=e.left;return{top:n,right:t,bottom:r,left:o,width:t-o,height:r-n,x:o,y:n,center:{x:(t+o)/2,y:(r+n)/2}}},a=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},i=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},u={top:0,right:0,bottom:0,left:0},c=function(e){var n=e.borderBox,t=e.margin,r=void 0===t?u:t,c=e.border,s=void 0===c?u:c,l=e.padding,f=void 0===l?u:l,d=o(a(n,r)),p=o(i(n,s)),m=o(i(p,f));return{marginBox:d,borderBox:o(n),paddingBox:p,contentBox:m,margin:r,border:s,padding:f}},s=function(e){var n=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var t=Number(n);return isNaN(t)&&r(!1),t},l=function(e,n){var t,r,o=e.borderBox,a=e.border,i=e.margin,u=e.padding,s=(r=n,{top:(t=o).top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x});return c({borderBox:s,border:a,margin:i,padding:u})},f=function(e,n){return void 0===n&&(n={x:window.pageXOffset,y:window.pageYOffset}),l(e,n)},d=function(e,n){var t={top:s(n.marginTop),right:s(n.marginRight),bottom:s(n.marginBottom),left:s(n.marginLeft)},r={top:s(n.paddingTop),right:s(n.paddingRight),bottom:s(n.paddingBottom),left:s(n.paddingLeft)},o={top:s(n.borderTopWidth),right:s(n.borderRightWidth),bottom:s(n.borderBottomWidth),left:s(n.borderLeftWidth)};return c({borderBox:e,margin:t,padding:r,border:o})},p=function(e){var n=e.getBoundingClientRect(),t=window.getComputedStyle(e);return d(n,t)}},cyaT:function(e,n){e.exports=function(e){if(!e.webpackPolyfill){var n=Object.create(e);n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),Object.defineProperty(n,"exports",{enumerable:!0}),n.webpackPolyfill=1}return n}},fRV1:function(e,n){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(r){"object"===typeof window&&(t=window)}e.exports=t},"hE+J":function(e,n,t){"use strict";(function(e,r){var o,a=t("KrFp");o="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:r;var i=Object(a.a)(o);n.a=i}).call(this,t("fRV1"),t("cyaT")(e))},lSUb:function(e,n,t){"use strict";function r(e,n){if(e.length!==n.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}n.a=function(e,n){var t;void 0===n&&(n=r);var o,a=[],i=!1;return function(){for(var r=[],u=0;u<arguments.length;u++)r[u]=arguments[u];return i&&t===this&&n(r,a)||(o=e.apply(this,r),i=!0,t=this,a=r),o}}},uDfI:function(e,n,t){"use strict";t.d(n,"a",(function(){return f})),t.d(n,"b",(function(){return W}));var r=t("ERkP"),o=t.n(r),a=(t("aWzz"),o.a.createContext(null));var i=function(e){e()},u={notify:function(){}};function c(){var e=i,n=null,t=null;return{clear:function(){n=null,t=null},notify:function(){e((function(){for(var e=n;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],t=n;t;)e.push(t),t=t.next;return e},subscribe:function(e){var r=!0,o=t={callback:e,next:null,prev:t};return o.prev?o.prev.next=o:n=o,function(){r&&null!==n&&(r=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:n=o.next)}}}}var s=function(){function e(e,n){this.store=e,this.parentSub=n,this.unsubscribe=null,this.listeners=u,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var n=e.prototype;return n.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},n.notifyNestedSubs=function(){this.listeners.notify()},n.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},n.isSubscribed=function(){return Boolean(this.unsubscribe)},n.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=c())},n.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=u)},e}(),l="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect;var f=function(e){var n=e.store,t=e.context,i=e.children,u=Object(r.useMemo)((function(){var e=new s(n);return e.onStateChange=e.notifyNestedSubs,{store:n,subscription:e}}),[n]),c=Object(r.useMemo)((function(){return n.getState()}),[n]);l((function(){var e=u.subscription;return e.trySubscribe(),c!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[u,c]);var f=t||a;return o.a.createElement(f.Provider,{value:u},i)};function d(){return(d=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function p(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}var m=t("oXkQ"),b=t.n(m),h=t("kvVz"),v=[],g=[null,null];function y(e,n){var t=e[1];return[n.payload,t+1]}function w(e,n,t){l((function(){return e.apply(void 0,n)}),t)}function C(e,n,t,r,o,a,i){e.current=r,n.current=o,t.current=!1,a.current&&(a.current=null,i())}function k(e,n,t,r,o,a,i,u,c,s){if(e){var l=!1,f=null,d=function(){if(!l){var e,t,d=n.getState();try{e=r(d,o.current)}catch(p){t=p,f=p}t||(f=null),e===a.current?i.current||c():(a.current=e,u.current=e,i.current=!0,s({type:"STORE_UPDATED",payload:{error:t}}))}};t.onStateChange=d,t.trySubscribe(),d();return function(){if(l=!0,t.tryUnsubscribe(),t.onStateChange=null,f)throw f}}}var S=function(){return[null,0]};function O(e,n){void 0===n&&(n={});var t=n,i=t.getDisplayName,u=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,c=t.methodName,l=void 0===c?"connectAdvanced":c,f=t.renderCountProp,m=void 0===f?void 0:f,O=t.shouldHandleStateChanges,j=void 0===O||O,x=t.storeKey,R=void 0===x?"store":x,P=(t.withRef,t.forwardRef),E=void 0!==P&&P,D=t.context,A=void 0===D?a:D,F=p(t,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),N=A;return function(n){var t=n.displayName||n.name||"Component",a=u(t),i=d({},F,{getDisplayName:u,methodName:l,renderCountProp:m,shouldHandleStateChanges:j,storeKey:R,displayName:a,wrappedComponentName:t,WrappedComponent:n}),c=F.pure;var f=c?r.useMemo:function(e){return e()};function O(t){var a=Object(r.useMemo)((function(){var e=t.reactReduxForwardedRef,n=p(t,["reactReduxForwardedRef"]);return[t.context,e,n]}),[t]),u=a[0],c=a[1],l=a[2],m=Object(r.useMemo)((function(){return u&&u.Consumer&&Object(h.isContextConsumer)(o.a.createElement(u.Consumer,null))?u:N}),[u,N]),b=Object(r.useContext)(m),O=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch);Boolean(b)&&Boolean(b.store);var x=O?t.store:b.store,R=Object(r.useMemo)((function(){return function(n){return e(n.dispatch,i)}(x)}),[x]),P=Object(r.useMemo)((function(){if(!j)return g;var e=new s(x,O?null:b.subscription),n=e.notifyNestedSubs.bind(e);return[e,n]}),[x,O,b]),E=P[0],D=P[1],A=Object(r.useMemo)((function(){return O?b:d({},b,{subscription:E})}),[O,b,E]),F=Object(r.useReducer)(y,v,S),I=F[0][0],B=F[1];if(I&&I.error)throw I.error;var M=Object(r.useRef)(),T=Object(r.useRef)(l),V=Object(r.useRef)(),_=Object(r.useRef)(!1),L=f((function(){return V.current&&l===T.current?V.current:R(x.getState(),l)}),[x,I,l]);w(C,[T,M,_,l,L,V,D]),w(k,[j,x,E,R,T,M,_,V,D,B],[x,E,R]);var W=Object(r.useMemo)((function(){return o.a.createElement(n,d({},L,{ref:c}))}),[c,n,L]);return Object(r.useMemo)((function(){return j?o.a.createElement(m.Provider,{value:A},W):W}),[m,W,A])}var x=c?o.a.memo(O):O;if(x.WrappedComponent=n,x.displayName=a,E){var P=o.a.forwardRef((function(e,n){return o.a.createElement(x,d({},e,{reactReduxForwardedRef:n}))}));return P.displayName=a,P.WrappedComponent=n,b()(P,n)}return b()(x,n)}}function j(e,n){return e===n?0!==e||0!==n||1/e===1/n:e!==e&&n!==n}function x(e,n){if(j(e,n))return!0;if("object"!==typeof e||null===e||"object"!==typeof n||null===n)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(var o=0;o<t.length;o++)if(!Object.prototype.hasOwnProperty.call(n,t[o])||!j(e[t[o]],n[t[o]]))return!1;return!0}var R=t("9OUN");function P(e){return function(n,t){var r=e(n,t);function o(){return r}return o.dependsOnOwnProps=!1,o}}function E(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function D(e,n){return function(n,t){t.displayName;var r=function(e,n){return r.dependsOnOwnProps?r.mapToProps(e,n):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(n,t){r.mapToProps=e,r.dependsOnOwnProps=E(e);var o=r(n,t);return"function"===typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=E(o),o=r(n,t)),o},r}}var A=[function(e){return"function"===typeof e?D(e):void 0},function(e){return e?void 0:P((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?P((function(n){return Object(R.b)(e,n)})):void 0}];var F=[function(e){return"function"===typeof e?D(e):void 0},function(e){return e?void 0:P((function(){return{}}))}];function N(e,n,t){return d({},t,e,n)}var I=[function(e){return"function"===typeof e?function(e){return function(n,t){t.displayName;var r,o=t.pure,a=t.areMergedPropsEqual,i=!1;return function(n,t,u){var c=e(n,t,u);return i?o&&a(c,r)||(r=c):(i=!0,r=c),r}}}(e):void 0},function(e){return e?void 0:function(){return N}}];function B(e,n,t,r){return function(o,a){return t(e(o,a),n(r,a),a)}}function M(e,n,t,r,o){var a,i,u,c,s,l=o.areStatesEqual,f=o.areOwnPropsEqual,d=o.areStatePropsEqual,p=!1;function m(o,p){var m=!f(p,i),b=!l(o,a);return a=o,i=p,m&&b?(u=e(a,i),n.dependsOnOwnProps&&(c=n(r,i)),s=t(u,c,i)):m?(e.dependsOnOwnProps&&(u=e(a,i)),n.dependsOnOwnProps&&(c=n(r,i)),s=t(u,c,i)):b?function(){var n=e(a,i),r=!d(n,u);return u=n,r&&(s=t(u,c,i)),s}():s}return function(o,l){return p?m(o,l):(u=e(a=o,i=l),c=n(r,i),s=t(u,c,i),p=!0,s)}}function T(e,n){var t=n.initMapStateToProps,r=n.initMapDispatchToProps,o=n.initMergeProps,a=p(n,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),i=t(e,a),u=r(e,a),c=o(e,a);return(a.pure?M:B)(i,u,c,e,a)}function V(e,n,t){for(var r=n.length-1;r>=0;r--){var o=n[r](e);if(o)return o}return function(n,r){throw new Error("Invalid value of type "+typeof e+" for "+t+" argument when connecting component "+r.wrappedComponentName+".")}}function _(e,n){return e===n}function L(e){var n=void 0===e?{}:e,t=n.connectHOC,r=void 0===t?O:t,o=n.mapStateToPropsFactories,a=void 0===o?F:o,i=n.mapDispatchToPropsFactories,u=void 0===i?A:i,c=n.mergePropsFactories,s=void 0===c?I:c,l=n.selectorFactory,f=void 0===l?T:l;return function(e,n,t,o){void 0===o&&(o={});var i=o,c=i.pure,l=void 0===c||c,m=i.areStatesEqual,b=void 0===m?_:m,h=i.areOwnPropsEqual,v=void 0===h?x:h,g=i.areStatePropsEqual,y=void 0===g?x:g,w=i.areMergedPropsEqual,C=void 0===w?x:w,k=p(i,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),S=V(e,a,"mapStateToProps"),O=V(n,u,"mapDispatchToProps"),j=V(t,s,"mergeProps");return r(f,d({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:S,initMapDispatchToProps:O,initMergeProps:j,pure:l,areStatesEqual:b,areOwnPropsEqual:v,areStatePropsEqual:y,areMergedPropsEqual:C},k))}}var W=L();var z,U=t("7nmT");z=U.unstable_batchedUpdates,i=z},xHP7:function(e,n,t){"use strict";n.a=function(e){var n=[],t=null,r=function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];n=o,t||(t=requestAnimationFrame((function(){t=null,e.apply(void 0,n)})))};return r.cancel=function(){t&&(cancelAnimationFrame(t),t=null)},r}},yaYD:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t("23aj")}])}},[["yaYD",0,2,5,1,3]]]);